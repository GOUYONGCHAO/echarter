<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>echarter: ECharts的R语言接口</title>
  <meta name="description" content="echarter: ECharts的R语言接口。">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="echarter: ECharts的R语言接口" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="echarter: ECharts的R语言接口。" />
  <meta name="github-repo" content="yihui/bookdown-chinese" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="echarter: ECharts的R语言接口" />
  
  <meta name="twitter:description" content="echarter: ECharts的R语言接口。" />
  

<meta name="author" content="JeevanYue">


<meta name="date" content="2018-10-31">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="theme.html">
<link rel="next" href="advanced.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/echarter/echarts.min.js"></script>
<script src="libs/echarter-binding/echarter.js"></script>
<script src="libs/china/map/china.js"></script>
<script src="libs/dark/dark.js"></script>
<script src="libs/infographic/infographic.js"></script>
<script src="libs/macarons/macarons.js"></script>
<script src="libs/roma/roma.js"></script>
<script src="libs/shine/shine.js"></script>
<script src="libs/vintage/vintage.js"></script>
<script src="libs/star/star.js"></script>
<script src="libs/liquidFill/echarts-liquidfill.min.js"></script>
<script src="libs/wordCloud/echarts-wordcloud.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">echarter: ECharts的R语言接口</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>作者简介</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>2</b> echarter安装</a></li>
<li class="chapter" data-level="3" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>3</b> 官方案例</a></li>
<li class="chapter" data-level="4" data-path="api-ec.html"><a href="api-ec.html"><i class="fa fa-check"></i><b>4</b> API函数</a><ul>
<li class="chapter" data-level="4.1" data-path="api-ec.html"><a href="api-ec.html#section-4.1"><i class="fa fa-check"></i><b>4.1</b> 演示数据</a></li>
<li class="chapter" data-level="4.2" data-path="api-ec.html"><a href="api-ec.html#section-4.2"><i class="fa fa-check"></i><b>4.2</b> 基础组件</a><ul>
<li class="chapter" data-level="4.2.1" data-path="api-ec.html"><a href="api-ec.html#ec_title"><i class="fa fa-check"></i><b>4.2.1</b> ec_title</a></li>
<li class="chapter" data-level="4.2.2" data-path="api-ec.html"><a href="api-ec.html#ec_legend"><i class="fa fa-check"></i><b>4.2.2</b> ec_legend</a></li>
<li class="chapter" data-level="4.2.3" data-path="api-ec.html"><a href="api-ec.html#ec_backgroundcolor"><i class="fa fa-check"></i><b>4.2.3</b> ec_backgroundColor</a></li>
<li class="chapter" data-level="4.2.4" data-path="api-ec.html"><a href="api-ec.html#ec_colors"><i class="fa fa-check"></i><b>4.2.4</b> ec_colors</a></li>
<li class="chapter" data-level="4.2.5" data-path="api-ec.html"><a href="api-ec.html#ec_textstyle"><i class="fa fa-check"></i><b>4.2.5</b> ec_textStyle</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="api-ec.html"><a href="api-ec.html#section-4.3"><i class="fa fa-check"></i><b>4.3</b> 其他组件</a><ul>
<li class="chapter" data-level="4.3.1" data-path="api-ec.html"><a href="api-ec.html#ec_tooltip"><i class="fa fa-check"></i><b>4.3.1</b> ec_tooltip</a></li>
<li class="chapter" data-level="4.3.2" data-path="api-ec.html"><a href="api-ec.html#ec_graphic"><i class="fa fa-check"></i><b>4.3.2</b> ec_graphic</a></li>
<li class="chapter" data-level="4.3.3" data-path="api-ec.html"><a href="api-ec.html#ec_axispointer"><i class="fa fa-check"></i><b>4.3.3</b> ec_axisPointer</a></li>
<li class="chapter" data-level="4.3.4" data-path="api-ec.html"><a href="api-ec.html#ec_toolbox"><i class="fa fa-check"></i><b>4.3.4</b> ec_toolbox</a></li>
<li class="chapter" data-level="4.3.5" data-path="api-ec.html"><a href="api-ec.html#ec_visualmap"><i class="fa fa-check"></i><b>4.3.5</b> ec_visualMap</a></li>
<li class="chapter" data-level="4.3.6" data-path="api-ec.html"><a href="api-ec.html#ec_datazoom"><i class="fa fa-check"></i><b>4.3.6</b> ec_dataZoom</a></li>
<li class="chapter" data-level="4.3.7" data-path="api-ec.html"><a href="api-ec.html#ec_timeline"><i class="fa fa-check"></i><b>4.3.7</b> ec_timeline</a></li>
<li class="chapter" data-level="4.3.8" data-path="api-ec.html"><a href="api-ec.html#ec_brush"><i class="fa fa-check"></i><b>4.3.8</b> ec_brush</a></li>
<li class="chapter" data-level="4.3.9" data-path="api-ec.html"><a href="api-ec.html#ec_mark"><i class="fa fa-check"></i><b>4.3.9</b> ec_mark</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="api-ec.html"><a href="api-ec.html#ec_grid"><i class="fa fa-check"></i><b>4.4</b> 直角坐标系ec_grid</a></li>
<li class="chapter" data-level="4.5" data-path="api-ec.html"><a href="api-ec.html#-ec_polar"><i class="fa fa-check"></i><b>4.5</b> 极坐标系: ec_polar</a></li>
<li class="chapter" data-level="4.6" data-path="api-ec.html"><a href="api-ec.html#ec_radar"><i class="fa fa-check"></i><b>4.6</b> 雷达坐标系ec_radar</a></li>
<li class="chapter" data-level="4.7" data-path="api-ec.html"><a href="api-ec.html#-ec_parallel"><i class="fa fa-check"></i><b>4.7</b> 平行坐标系: ec_parallel</a></li>
<li class="chapter" data-level="4.8" data-path="api-ec.html"><a href="api-ec.html#-ec_singleaxis"><i class="fa fa-check"></i><b>4.8</b> 单轴坐标系: ec_singleAxis</a></li>
<li class="chapter" data-level="4.9" data-path="api-ec.html"><a href="api-ec.html#-ec_calendar"><i class="fa fa-check"></i><b>4.9</b> 日历坐标系: ec_calendar</a></li>
<li class="chapter" data-level="4.10" data-path="api-ec.html"><a href="api-ec.html#-ec_geo"><i class="fa fa-check"></i><b>4.10</b> 地理坐标系: ec_geo</a></li>
<li class="chapter" data-level="4.11" data-path="api-ec.html"><a href="api-ec.html#series.data"><i class="fa fa-check"></i><b>4.11</b> series.data</a></li>
<li class="chapter" data-level="4.12" data-path="api-ec.html"><a href="api-ec.html#-ec_dataset"><i class="fa fa-check"></i><b>4.12</b> 数据集: ec_dataset</a><ul>
<li class="chapter" data-level="4.12.1" data-path="api-ec.html"><a href="api-ec.html#id"><i class="fa fa-check"></i><b>4.12.1</b> id</a></li>
<li class="chapter" data-level="4.12.2" data-path="api-ec.html"><a href="api-ec.html#sourcedata"><i class="fa fa-check"></i><b>4.12.2</b> source/data</a></li>
<li class="chapter" data-level="4.12.3" data-path="api-ec.html"><a href="api-ec.html#dimensions"><i class="fa fa-check"></i><b>4.12.3</b> dimensions</a></li>
<li class="chapter" data-level="4.12.4" data-path="api-ec.html"><a href="api-ec.html#sourceheader"><i class="fa fa-check"></i><b>4.12.4</b> sourceHeader</a></li>
<li class="chapter" data-level="4.12.5" data-path="api-ec.html"><a href="api-ec.html#encode"><i class="fa fa-check"></i><b>4.12.5</b> encode</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="api-ec.html"><a href="api-ec.html#ec_add_series"><i class="fa fa-check"></i><b>4.13</b> ec_add_series</a><ul>
<li class="chapter" data-level="4.13.1" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.default"><i class="fa fa-check"></i><b>4.13.1</b> ec_add_series.default</a></li>
<li class="chapter" data-level="4.13.2" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.data.frame"><i class="fa fa-check"></i><b>4.13.2</b> ec_add_series.data.frame</a></li>
<li class="chapter" data-level="4.13.3" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.numeric"><i class="fa fa-check"></i><b>4.13.3</b> ec_add_series.numeric</a></li>
<li class="chapter" data-level="4.13.4" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.character"><i class="fa fa-check"></i><b>4.13.4</b> ec_add_series.character</a></li>
<li class="chapter" data-level="4.13.5" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.ts"><i class="fa fa-check"></i><b>4.13.5</b> ec_add_series.ts</a></li>
<li class="chapter" data-level="4.13.6" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.forecast"><i class="fa fa-check"></i><b>4.13.6</b> ec_add_series.forecast</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="api-ec.html"><a href="api-ec.html#echarter.option"><i class="fa fa-check"></i><b>4.14</b> 全局设置echarter.option</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="echarter.html"><a href="echarter.html"><i class="fa fa-check"></i><b>5</b> echarter</a><ul>
<li class="chapter" data-level="5.1" data-path="echarter.html"><a href="echarter.html#data-frames"><i class="fa fa-check"></i><b>5.1</b> Data Frames</a></li>
<li class="chapter" data-level="5.2" data-path="echarter.html"><a href="echarter.html#numeric-histograms"><i class="fa fa-check"></i><b>5.2</b> Numeric &amp; Histograms</a></li>
<li class="chapter" data-level="5.3" data-path="echarter.html"><a href="echarter.html#densities"><i class="fa fa-check"></i><b>5.3</b> Densities</a></li>
<li class="chapter" data-level="5.4" data-path="echarter.html"><a href="echarter.html#character-factor"><i class="fa fa-check"></i><b>5.4</b> Character &amp; Factor</a></li>
<li class="chapter" data-level="5.5" data-path="echarter.html"><a href="echarter.html#time-series"><i class="fa fa-check"></i><b>5.5</b> Time Series</a></li>
<li class="chapter" data-level="5.6" data-path="echarter.html"><a href="echarter.html#seasonal-decomposition-of-time-series-by-loess"><i class="fa fa-check"></i><b>5.6</b> Seasonal Decomposition of Time Series by Loess</a></li>
<li class="chapter" data-level="5.7" data-path="echarter.html"><a href="echarter.html#forecast-package"><i class="fa fa-check"></i><b>5.7</b> Forecast package</a></li>
<li class="chapter" data-level="5.8" data-path="echarter.html"><a href="echarter.html#igraph"><i class="fa fa-check"></i><b>5.8</b> igraph</a></li>
<li class="chapter" data-level="5.9" data-path="echarter.html"><a href="echarter.html#xts-from-quantmod-package"><i class="fa fa-check"></i><b>5.9</b> xts from quantmod package</a></li>
<li class="chapter" data-level="5.10" data-path="echarter.html"><a href="echarter.html#xts-ohlc-objects"><i class="fa fa-check"></i><b>5.10</b> xts ohlc objects</a></li>
<li class="chapter" data-level="5.11" data-path="echarter.html"><a href="echarter.html#autocovariance-autocorrelation"><i class="fa fa-check"></i><b>5.11</b> Autocovariance &amp; Autocorrelation</a></li>
<li class="chapter" data-level="5.12" data-path="echarter.html"><a href="echarter.html#multivariate-time-series"><i class="fa fa-check"></i><b>5.12</b> Multivariate Time series</a></li>
<li class="chapter" data-level="5.13" data-path="echarter.html"><a href="echarter.html#survival-models"><i class="fa fa-check"></i><b>5.13</b> Survival Models</a></li>
<li class="chapter" data-level="5.14" data-path="echarter.html"><a href="echarter.html#principal-components"><i class="fa fa-check"></i><b>5.14</b> Principal Components</a></li>
<li class="chapter" data-level="5.15" data-path="echarter.html"><a href="echarter.html#matrix"><i class="fa fa-check"></i><b>5.15</b> Matrix</a></li>
<li class="chapter" data-level="5.16" data-path="echarter.html"><a href="echarter.html#distance-matrix"><i class="fa fa-check"></i><b>5.16</b> Distance matrix</a></li>
<li class="chapter" data-level="5.17" data-path="echarter.html"><a href="echarter.html#correlation-matrix"><i class="fa fa-check"></i><b>5.17</b> Correlation matrix</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="theme.html"><a href="theme.html"><i class="fa fa-check"></i><b>6</b> theme</a><ul>
<li class="chapter" data-level="6.1" data-path="theme.html"><a href="theme.html#-1"><i class="fa fa-check"></i><b>6.1</b> 演示数据</a></li>
<li class="chapter" data-level="6.2" data-path="theme.html"><a href="theme.html#dark"><i class="fa fa-check"></i><b>6.2</b> dark</a></li>
<li class="chapter" data-level="6.3" data-path="theme.html"><a href="theme.html#infographic"><i class="fa fa-check"></i><b>6.3</b> infographic</a></li>
<li class="chapter" data-level="6.4" data-path="theme.html"><a href="theme.html#macarons"><i class="fa fa-check"></i><b>6.4</b> macarons</a></li>
<li class="chapter" data-level="6.5" data-path="theme.html"><a href="theme.html#roma"><i class="fa fa-check"></i><b>6.5</b> roma</a></li>
<li class="chapter" data-level="6.6" data-path="theme.html"><a href="theme.html#shine"><i class="fa fa-check"></i><b>6.6</b> shine</a></li>
<li class="chapter" data-level="6.7" data-path="theme.html"><a href="theme.html#vintage"><i class="fa fa-check"></i><b>6.7</b> vintage</a></li>
<li class="chapter" data-level="6.8" data-path="theme.html"><a href="theme.html#js"><i class="fa fa-check"></i><b>6.8</b> 自定义js主题</a></li>
<li class="chapter" data-level="6.9" data-path="theme.html"><a href="theme.html#ec_theme"><i class="fa fa-check"></i><b>6.9</b> 自定义ec_theme</a></li>
<li class="chapter" data-level="6.10" data-path="api-ec.html"><a href="api-ec.html#echarter.option"><i class="fa fa-check"></i><b>6.10</b> 自定义echarter.option</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basic.html"><a href="basic.html"><i class="fa fa-check"></i><b>7</b> 基本图表</a><ul>
<li class="chapter" data-level="7.1" data-path="basic.html"><a href="basic.html#section-7.1"><i class="fa fa-check"></i><b>7.1</b> 基本图表类型</a></li>
<li class="chapter" data-level="7.2" data-path="basic.html"><a href="basic.html#coordinatesystem"><i class="fa fa-check"></i><b>7.2</b> 坐标系coordinateSystem</a></li>
<li class="chapter" data-level="7.3" data-path="basic.html"><a href="basic.html#-2"><i class="fa fa-check"></i><b>7.3</b> 演示数据</a></li>
<li class="chapter" data-level="7.4" data-path="basic.html"><a href="basic.html#line"><i class="fa fa-check"></i><b>7.4</b> 折线图line</a><ul>
<li class="chapter" data-level="7.4.1" data-path="basic.html"><a href="basic.html#section-7.4.1"><i class="fa fa-check"></i><b>7.4.1</b> 基础折线图</a></li>
<li class="chapter" data-level="7.4.2" data-path="basic.html"><a href="basic.html#section-7.4.2"><i class="fa fa-check"></i><b>7.4.2</b> 堆叠折线图</a></li>
<li class="chapter" data-level="7.4.3" data-path="basic.html"><a href="basic.html#section-7.4.3"><i class="fa fa-check"></i><b>7.4.3</b> 光滑曲线图</a></li>
<li class="chapter" data-level="7.4.4" data-path="basic.html"><a href="basic.html#section-7.4.4"><i class="fa fa-check"></i><b>7.4.4</b> 区域图</a></li>
<li class="chapter" data-level="7.4.5" data-path="basic.html"><a href="basic.html#section-7.4.5"><i class="fa fa-check"></i><b>7.4.5</b> 堆叠区域图</a></li>
<li class="chapter" data-level="7.4.6" data-path="basic.html"><a href="basic.html#section-7.4.6"><i class="fa fa-check"></i><b>7.4.6</b> 阶梯线图</a></li>
<li class="chapter" data-level="7.4.7" data-path="basic.html"><a href="basic.html#section-7.4.7"><i class="fa fa-check"></i><b>7.4.7</b> 极坐标双数值轴</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="basic.html"><a href="basic.html#bar"><i class="fa fa-check"></i><b>7.5</b> 柱状图bar</a><ul>
<li class="chapter" data-level="7.5.1" data-path="basic.html"><a href="basic.html#section-7.5.1"><i class="fa fa-check"></i><b>7.5.1</b> 基础柱状图</a></li>
<li class="chapter" data-level="7.5.2" data-path="basic.html"><a href="basic.html#section-7.5.2"><i class="fa fa-check"></i><b>7.5.2</b> 堆叠柱状图</a></li>
<li class="chapter" data-level="7.5.3" data-path="basic.html"><a href="basic.html#section-7.5.3"><i class="fa fa-check"></i><b>7.5.3</b> 条形图</a></li>
<li class="chapter" data-level="7.5.4" data-path="basic.html"><a href="basic.html#section-7.5.4"><i class="fa fa-check"></i><b>7.5.4</b> 堆叠条形图</a></li>
<li class="chapter" data-level="7.5.5" data-path="basic.html"><a href="basic.html#section-7.5.5"><i class="fa fa-check"></i><b>7.5.5</b> 极坐标柱状图</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="basic.html"><a href="basic.html#pie"><i class="fa fa-check"></i><b>7.6</b> 饼图pie</a><ul>
<li class="chapter" data-level="7.6.1" data-path="basic.html"><a href="basic.html#section-7.6.1"><i class="fa fa-check"></i><b>7.6.1</b> 基础饼图</a></li>
<li class="chapter" data-level="7.6.2" data-path="basic.html"><a href="basic.html#section-7.6.2"><i class="fa fa-check"></i><b>7.6.2</b> 环行图</a></li>
<li class="chapter" data-level="7.6.3" data-path="basic.html"><a href="basic.html#section-7.6.3"><i class="fa fa-check"></i><b>7.6.3</b> 嵌套环形图</a></li>
<li class="chapter" data-level="7.6.4" data-path="basic.html"><a href="basic.html#section-7.6.4"><i class="fa fa-check"></i><b>7.6.4</b> 玫瑰图</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="basic.html"><a href="basic.html#scatter"><i class="fa fa-check"></i><b>7.7</b> 散点图scatter</a><ul>
<li class="chapter" data-level="7.7.1" data-path="basic.html"><a href="basic.html#section-7.7.1"><i class="fa fa-check"></i><b>7.7.1</b> 基本散点图</a></li>
<li class="chapter" data-level="7.7.2" data-path="basic.html"><a href="basic.html#bubble"><i class="fa fa-check"></i><b>7.7.2</b> 气泡图Bubble</a></li>
<li class="chapter" data-level="7.7.3" data-path="basic.html"><a href="basic.html#section-7.7.3"><i class="fa fa-check"></i><b>7.7.3</b> 地理散点图</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="basic.html"><a href="basic.html#effectscatter"><i class="fa fa-check"></i><b>7.8</b> 带特效散点图effectScatter</a></li>
<li class="chapter" data-level="7.9" data-path="basic.html"><a href="basic.html#boxplot"><i class="fa fa-check"></i><b>7.9</b> 盒须图/箱线图boxplot</a></li>
<li class="chapter" data-level="7.10" data-path="basic.html"><a href="basic.html#kcandlestick"><i class="fa fa-check"></i><b>7.10</b> k线图candlestick</a><ul>
<li class="chapter" data-level="7.10.1" data-path="basic.html"><a href="basic.html#waterfall"><i class="fa fa-check"></i><b>7.10.1</b> 瀑布图waterfall</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="basic.html"><a href="basic.html#pictorialbar"><i class="fa fa-check"></i><b>7.11</b> 象形柱图pictorialBar</a></li>
<li class="chapter" data-level="7.12" data-path="basic.html"><a href="basic.html#lines"><i class="fa fa-check"></i><b>7.12</b> 线图lines</a></li>
<li class="chapter" data-level="7.13" data-path="basic.html"><a href="basic.html#heatmap"><i class="fa fa-check"></i><b>7.13</b> 热力图heatmap</a><ul>
<li class="chapter" data-level="7.13.1" data-path="basic.html"><a href="basic.html#section-7.13.1"><i class="fa fa-check"></i><b>7.13.1</b> 直角坐标系</a></li>
<li class="chapter" data-level="7.13.2" data-path="basic.html"><a href="basic.html#section-7.13.2"><i class="fa fa-check"></i><b>7.13.2</b> 日历坐标系</a></li>
<li class="chapter" data-level="7.13.3" data-path="basic.html"><a href="basic.html#section-7.13.3"><i class="fa fa-check"></i><b>7.13.3</b> 地理坐标系</a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="basic.html"><a href="basic.html#themeriver"><i class="fa fa-check"></i><b>7.14</b> 主题河流图themeRiver</a></li>
<li class="chapter" data-level="7.15" data-path="basic.html"><a href="basic.html#radar"><i class="fa fa-check"></i><b>7.15</b> 雷达图radar</a></li>
<li class="chapter" data-level="7.16" data-path="basic.html"><a href="basic.html#parallel"><i class="fa fa-check"></i><b>7.16</b> 平行坐标系parallel</a></li>
<li class="chapter" data-level="7.17" data-path="basic.html"><a href="basic.html#map"><i class="fa fa-check"></i><b>7.17</b> 地图map</a><ul>
<li class="chapter" data-level="7.17.1" data-path="basic.html"><a href="basic.html#section-7.17.1"><i class="fa fa-check"></i><b>7.17.1</b> 基础地理分布图</a></li>
<li class="chapter" data-level="7.17.2" data-path="theme.html"><a href="theme.html#-1"><i class="fa fa-check"></i><b>7.17.2</b> 地理散点图</a></li>
<li class="chapter" data-level="7.17.3" data-path="basic.html"><a href="basic.html#section-7.17.3"><i class="fa fa-check"></i><b>7.17.3</b> 地理流向图</a></li>
</ul></li>
<li class="chapter" data-level="7.18" data-path="basic.html"><a href="basic.html#funnel"><i class="fa fa-check"></i><b>7.18</b> 漏斗图funnel</a></li>
<li class="chapter" data-level="7.19" data-path="basic.html"><a href="basic.html#gauge"><i class="fa fa-check"></i><b>7.19</b> 仪表盘gauge</a></li>
<li class="chapter" data-level="7.20" data-path="basic.html"><a href="basic.html#tree"><i class="fa fa-check"></i><b>7.20</b> 树图tree</a></li>
<li class="chapter" data-level="7.21" data-path="basic.html"><a href="basic.html#treemap"><i class="fa fa-check"></i><b>7.21</b> 矩形树图treemap</a></li>
<li class="chapter" data-level="7.22" data-path="basic.html"><a href="basic.html#sunburst"><i class="fa fa-check"></i><b>7.22</b> 旭日图sunburst</a></li>
<li class="chapter" data-level="7.23" data-path="basic.html"><a href="basic.html#sankey"><i class="fa fa-check"></i><b>7.23</b> - 桑基图sankey</a></li>
<li class="chapter" data-level="7.24" data-path="basic.html"><a href="basic.html#graph"><i class="fa fa-check"></i><b>7.24</b> - 关系图graph</a></li>
<li class="chapter" data-level="7.25" data-path="basic.html"><a href="basic.html#section-7.25"><i class="fa fa-check"></i><b>7.25</b> 组合</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="advanced.html"><a href="advanced.html"><i class="fa fa-check"></i><b>8</b> 图表拓展</a><ul>
<li class="chapter" data-level="8.1" data-path="advanced.html"><a href="advanced.html#liquidfill"><i class="fa fa-check"></i><b>8.1</b> 水球图liquidfill</a></li>
<li class="chapter" data-level="8.2" data-path="advanced.html"><a href="advanced.html#wordcloud"><i class="fa fa-check"></i><b>8.2</b> 字符云wordcloud</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>9</b> shiny</a><ul>
<li class="chapter" data-level="9.1" data-path="shiny.html"><a href="shiny.html#section-9.1"><i class="fa fa-check"></i><b>9.1</b> 简单例子</a></li>
<li class="chapter" data-level="9.2" data-path="shiny.html"><a href="shiny.html#shiny"><i class="fa fa-check"></i><b>9.2</b> shiny动态数据</a></li>
<li class="chapter" data-level="9.3" data-path="shiny.html"><a href="shiny.html#shiny-events"><i class="fa fa-check"></i><b>9.3</b> shiny events</a><ul>
<li class="chapter" data-level="9.3.1" data-path="shiny.html"><a href="shiny.html#section-9.3.1"><i class="fa fa-check"></i><b>9.3.1</b> 鼠标事件</a></li>
<li class="chapter" data-level="9.3.2" data-path="shiny.html"><a href="shiny.html#section-9.3.2"><i class="fa fa-check"></i><b>9.3.2</b> 触发图表行为</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="shiny.html"><a href="shiny.html#shiny-toolbox"><i class="fa fa-check"></i><b>9.4</b> shiny toolbox拓展</a></li>
</ul></li>
<li class="appendix"><span><b>附录</b></span></li>
<li class="chapter" data-level="A" data-path="articles.html"><a href="articles.html"><i class="fa fa-check"></i><b>A</b> 参考</a></li>
<li class="divider"></li>
<li><a href="https://github.com/jeevanyue/echarter" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">echarter: ECharts的R语言接口</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic" class="section level1">
<h1><span class="header-section-number">第 7 章</span> 基本图表</h1>
<div id="section-7.1" class="section level2">
<h2><span class="header-section-number">7.1</span> 基本图表类型</h2>
<p>ECharts 提供了常规的折线图line、柱状图bar、散点图scatter、饼图pie、雷达图radar、热力图heatmap用于统计的箱线图boxplot，用于多个状态直接流转分析的桑基图sankey，，用于地理数据可视化的地图map、热力地图heatmap、线图lines，用于金融市场分析的K线图candlestick，用于关系数据可视化的关系图graph、树图tree、树状图treemap、旭日图sunburst，多维数据可视化的平行坐标图parallel，还有用于BI的漏斗图funnel，仪表盘guage，并且支持图与图之间的混搭。</p>
</div>
<div id="coordinatesystem" class="section level2">
<h2><span class="header-section-number">7.2</span> 坐标系coordinateSystem</h2>
<ul>
<li>二维的直角坐标系cartesian2d，默认为空</li>
<li>极坐标系polar</li>
<li>平行坐标系parallel</li>
<li>单轴坐标系singleAxis</li>
<li>地理坐标系geo</li>
<li>日历坐标系calendar</li>
<li>雷达坐标系radar</li>
<li>不使用坐标系none</li>
</ul>
</div>
<div id="-2" class="section level2">
<h2><span class="header-section-number">7.3</span> 演示数据</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(echarter)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(tidyverse)

weekDays &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)
dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
 <span class="dt">saleNum =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">21</span>, <span class="dv">20</span>, <span class="dv">100</span>), <span class="dv">0</span>),
 <span class="dt">fruit =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;Apple&quot;</span>, <span class="dv">7</span>), <span class="kw">rep</span>(<span class="st">&quot;Pear&quot;</span>, <span class="dv">7</span>), <span class="kw">rep</span>(<span class="st">&quot;Banana&quot;</span>, <span class="dv">7</span>)),
 <span class="dt">weekDay =</span> <span class="kw">c</span>(<span class="kw">rep</span>(weekDays, <span class="dv">3</span>)),
 <span class="dt">price =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">21</span>, <span class="dv">10</span>, <span class="dv">20</span>), <span class="dv">0</span>),
 <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

dat_groupby_weekDay &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(weekDay) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(
    <span class="dt">saleNum =</span> <span class="kw">sum</span>(saleNum), 
    <span class="dt">price =</span> <span class="kw">round</span>(<span class="kw">mean</span>(price),<span class="dv">2</span>))

dat_groupby_fruit &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(fruit) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(
    <span class="dt">saleNum =</span> <span class="kw">sum</span>(saleNum), 
    <span class="dt">price =</span> <span class="kw">round</span>(<span class="kw">mean</span>(price),<span class="dv">2</span>))

dat_date &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">date =</span> <span class="kw">as.Date</span>(<span class="st">&#39;2017-01-01&#39;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">364</span>),
  <span class="dt">value =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">365</span>, <span class="dv">0</span>, <span class="dv">1000</span>), <span class="dv">0</span>),
  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

AQI &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/AQI.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
dat_geo &lt;-<span class="st"> </span>AQI <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(城市, lng, lat, AQI) 

dat_geo_lines &lt;-<span class="st"> </span>dat_geo <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="dt">start =</span> 城市, <span class="dt">start.lng =</span> lng, <span class="dt">start.lat =</span> lat, <span class="dt">value =</span> AQI) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(start <span class="op">!=</span><span class="st"> &quot;北京&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(start <span class="op">!=</span><span class="st"> &quot;上海&quot;</span>)
dat_geo_lines<span class="op">$</span>end &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;北京&quot;</span>, <span class="st">&quot;上海&quot;</span>), <span class="dv">50</span>)[<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(dat_geo_lines)]
dat_geo_lines &lt;-<span class="st"> </span>dat_geo_lines <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">left_join</span>(
    <span class="kw">select</span>(dat_geo, <span class="dt">end =</span> 城市, <span class="dt">end.lng =</span> lng, <span class="dt">end.lat =</span> lat), 
    <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;end&quot;</span> =<span class="st"> &quot;end&quot;</span>))

dat_boxplot &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">Uni05 =</span> (<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)<span class="op">/</span><span class="dv">21</span>, <span class="dt">Norm =</span> <span class="kw">rnorm</span>(<span class="dv">100</span>),
  <span class="dt">Rt =</span> <span class="kw">rt</span>(<span class="dv">100</span>, <span class="dt">df =</span> <span class="dv">5</span>), <span class="dt">Gam2 =</span> <span class="kw">rgamma</span>(<span class="dv">100</span>, <span class="dt">shape =</span> <span class="dv">2</span>), 
  <span class="dt">Runif =</span> <span class="kw">runif</span>(<span class="dv">100</span>, <span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>))

dat_tree &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">parent =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;m&quot;</span>,<span class="st">&quot;n&quot;</span>,<span class="st">&quot;p&quot;</span>,<span class="st">&quot;q&quot;</span>,<span class="st">&quot;r&quot;</span>), 
  <span class="dt">child =</span> <span class="kw">c</span>(<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>,<span class="st">&quot;e&quot;</span>,<span class="st">&quot;f&quot;</span>,<span class="st">&quot;g&quot;</span>,<span class="st">&quot;h&quot;</span>,<span class="st">&quot;i&quot;</span>,<span class="st">&quot;o&quot;</span>,<span class="st">&quot;p&quot;</span>,<span class="st">&quot;q&quot;</span>,<span class="st">&quot;r&quot;</span>,<span class="st">&quot;s&quot;</span>), 
  <span class="dt">value =</span> <span class="kw">c</span>(<span class="dv">20</span>,<span class="dv">10</span>,<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">15</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">5</span>),
  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

opt &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>))</code></pre></div>
</div>
<div id="line" class="section level2">
<h2><span class="header-section-number">7.4</span> 折线图line</h2>
<ul>
<li>基础折线图</li>
<li>堆叠折线图</li>
<li>光滑曲线图</li>
<li>区域图</li>
<li>堆叠区域图</li>
<li>阶梯线图</li>
<li>极坐标双数值轴</li>
</ul>
<div id="section-7.4.1" class="section level3">
<h3><span class="header-section-number">7.4.1</span> 基础折线图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-76e576a0bd1696ea0461" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-76e576a0bd1696ea0461">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"line"},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"line"},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"line"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p><strong>需要注意的是，即使提前设置 xAxis.data，echarts在绘制line图时，是根据series.data或者dataset.source的序列绘制的，而不是根据xAxis.data的序列。两者序列不一致，则会出现下列情况。</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_chaos &lt;-<span class="st"> </span><span class="kw">arrange</span>(dat, weekDay)

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">data =</span> weekDays) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_chaos, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-13c2cc6b791345323426" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-13c2cc6b791345323426">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]}],"type":"line"},{"name":"Banana","data":[{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]}],"type":"line"},{"name":"Pear","data":[{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]}],"type":"line"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>日期格式的数据，建议使用Axis.time，可以自动处理空数据和坐标长度</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 建议目前版本设置Axis.interval，否则坐标轴线与图之间有错位
## Axis.time的boundaryGap设置问题，需要设置min=NULL,max=NUL
## 参考：https://github.com/ecomfe/echarts/issues/4532#issuecomment-267804213
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">head</span>(dat_date, <span class="dv">10</span>), <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;time&#39;</span>,
    <span class="dt">boundaryGap =</span> <span class="kw">c</span>(<span class="st">&#39;0.1%&#39;</span>,<span class="st">&#39;0.1%&#39;</span>),
    <span class="dt">min =</span> <span class="ot">NULL</span>, <span class="dt">max =</span> <span class="ot">NULL</span>,
    <span class="dt">interval =</span>  <span class="dv">3600</span> <span class="op">*</span><span class="st"> </span><span class="dv">24</span> <span class="op">*</span><span class="st"> </span><span class="dv">1000</span>,
    <span class="dt">maxInterval =</span> <span class="dv">3600</span> <span class="op">*</span><span class="st"> </span><span class="dv">24</span> <span class="op">*</span><span class="st"> </span><span class="dv">1000</span>) </code></pre></div>
<div id="htmlwidget-185614eea8ca84401dd0" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-185614eea8ca84401dd0">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time","boundaryGap":["0.1%","0.1%"],"interval":86400000,"maxInterval":86400000},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":1483228800000,"y":474,"value":[1483228800000,474]},{"x":1483315200000,"y":78,"value":[1483315200000,78]},{"x":1483401600000,"y":271,"value":[1483401600000,271]},{"x":1483488000000,"y":198,"value":[1483488000000,198]},{"x":1483574400000,"y":204,"value":[1483574400000,204]},{"x":1483660800000,"y":149,"value":[1483660800000,149]},{"x":1483747200000,"y":95,"value":[1483747200000,95]},{"x":1483833600000,"y":339,"value":[1483833600000,339]},{"x":1483920000000,"y":80,"value":[1483920000000,80]},{"x":1484006400000,"y":933,"value":[1484006400000,933]}],"type":"line"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.4.2" class="section level3">
<h3><span class="header-section-number">7.4.2</span> 堆叠折线图</h3>
<p>详见：<a href="http://echarts.baidu.com/option.html#series-line.stack">series-line.stack</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">stack =</span> <span class="st">&#39;水果&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-c48bf63508299d883fa9" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-c48bf63508299d883fa9">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"line","stack":"水果"},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"line","stack":"水果"},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"line","stack":"水果"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.4.3" class="section level3">
<h3><span class="header-section-number">7.4.3</span> 光滑曲线图</h3>
<p>详见：<a href="http://echarts.baidu.com/option.html#series-line.smooth">series-line.smooth</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">smooth =</span> <span class="ot">TRUE</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-1350122bcd40004a916e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-1350122bcd40004a916e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"line","smooth":true},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"line","smooth":true},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"line","smooth":true}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.4.4" class="section level3">
<h3><span class="header-section-number">7.4.4</span> 区域图</h3>
<p>详见：<a href="http://echarts.baidu.com/option.html#series-line.areaStyle">series-line.areaStyle</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">areaStyle =</span> <span class="kw">list</span>(), 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-3f4f47f5ecae53cdd44f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-3f4f47f5ecae53cdd44f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"line","areaStyle":[]},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"line","areaStyle":[]},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"line","areaStyle":[]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.4.5" class="section level3">
<h3><span class="header-section-number">7.4.5</span> 堆叠区域图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">stack =</span> <span class="st">&#39;水果&#39;</span>, <span class="dt">areaStyle =</span> <span class="kw">list</span>(),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-b969e29f1f621dd84135" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-b969e29f1f621dd84135">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"line","stack":"水果","areaStyle":[]},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"line","stack":"水果","areaStyle":[]},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"line","stack":"水果","areaStyle":[]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.4.6" class="section level3">
<h3><span class="header-section-number">7.4.6</span> 阶梯线图</h3>
<p>详见：<a href="http://echarts.baidu.com/option.html#series-line.step">series-line.step</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">step =</span> <span class="st">&#39;end&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-22a4eca2cde07e3e2d9e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-22a4eca2cde07e3e2d9e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"line","step":"end"},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"line","step":"end"},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"line","step":"end"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.4.7" class="section level3">
<h3><span class="header-section-number">7.4.7</span> 极坐标双数值轴</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_polar</span>(
    <span class="dt">center =</span> <span class="kw">c</span>(<span class="st">&#39;50%&#39;</span>, <span class="st">&#39;50%&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_angleAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>),
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>
      )),
    <span class="dt">axisLine =</span><span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_radiusAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, 
    <span class="dt">coordinateSystem =</span> <span class="st">&#39;polar&#39;</span>,
    <span class="dt">data =</span> dat, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-c62f2badd43813adadf0" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-c62f2badd43813adadf0">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"polar":{"center":["50%","50%"]},"angleAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},"radiusAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"name":"Mon","value":55},{"name":"Tues","value":21},{"name":"Wed","value":43},{"name":"Thurs","value":89},{"name":"Fri","value":65},{"name":"Sat","value":86},{"name":"Sun","value":62}],"type":"line","coordinateSystem":"polar"},{"name":"Banana","data":[{"name":"Mon","value":60},{"name":"Tues","value":31},{"name":"Wed","value":24},{"name":"Thurs","value":79},{"name":"Fri","value":26},{"name":"Sat","value":70},{"name":"Sun","value":86}],"type":"line","coordinateSystem":"polar"},{"name":"Pear","data":[{"name":"Mon","value":57},{"name":"Tues","value":51},{"name":"Wed","value":24},{"name":"Thurs","value":61},{"name":"Fri","value":96},{"name":"Sat","value":43},{"name":"Sun","value":28}],"type":"line","coordinateSystem":"polar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="bar" class="section level2">
<h2><span class="header-section-number">7.5</span> 柱状图bar</h2>
<div id="section-7.5.1" class="section level3">
<h3><span class="header-section-number">7.5.1</span> 基础柱状图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-0a7eed050218b3c3d2f5" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-0a7eed050218b3c3d2f5">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"bar"},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"bar"},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.5.2" class="section level3">
<h3><span class="header-section-number">7.5.2</span> 堆叠柱状图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">stack =</span> <span class="st">&#39;水果&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-121e0a17daa78b9f5779" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-121e0a17daa78b9f5779">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"bar","stack":"水果"},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"bar","stack":"水果"},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"bar","stack":"水果"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.5.3" class="section level3">
<h3><span class="header-section-number">7.5.3</span> 条形图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">y =</span> weekDay, <span class="dt">x =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-d8bdb1f32cb1b3ef1f7e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d8bdb1f32cb1b3ef1f7e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"value"},"yAxis":{"type":"category"},"series":[{"name":"Apple","data":[{"x":55,"y":"Mon","value":["55","Mon"]},{"x":21,"y":"Tues","value":["21","Tues"]},{"x":43,"y":"Wed","value":["43","Wed"]},{"x":89,"y":"Thurs","value":["89","Thurs"]},{"x":65,"y":"Fri","value":["65","Fri"]},{"x":86,"y":"Sat","value":["86","Sat"]},{"x":62,"y":"Sun","value":["62","Sun"]}],"type":"bar"},{"name":"Banana","data":[{"x":60,"y":"Mon","value":["60","Mon"]},{"x":31,"y":"Tues","value":["31","Tues"]},{"x":24,"y":"Wed","value":["24","Wed"]},{"x":79,"y":"Thurs","value":["79","Thurs"]},{"x":26,"y":"Fri","value":["26","Fri"]},{"x":70,"y":"Sat","value":["70","Sat"]},{"x":86,"y":"Sun","value":["86","Sun"]}],"type":"bar"},{"name":"Pear","data":[{"x":57,"y":"Mon","value":["57","Mon"]},{"x":51,"y":"Tues","value":["51","Tues"]},{"x":24,"y":"Wed","value":["24","Wed"]},{"x":61,"y":"Thurs","value":["61","Thurs"]},{"x":96,"y":"Fri","value":["96","Fri"]},{"x":43,"y":"Sat","value":["43","Sat"]},{"x":28,"y":"Sun","value":["28","Sun"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.5.4" class="section level3">
<h3><span class="header-section-number">7.5.4</span> 堆叠条形图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">stack =</span> <span class="st">&#39;水果&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">y =</span> weekDay, <span class="dt">x =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-9a901f23ace17d9373c7" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-9a901f23ace17d9373c7">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"value"},"yAxis":{"type":"category"},"series":[{"name":"Apple","data":[{"x":55,"y":"Mon","value":["55","Mon"]},{"x":21,"y":"Tues","value":["21","Tues"]},{"x":43,"y":"Wed","value":["43","Wed"]},{"x":89,"y":"Thurs","value":["89","Thurs"]},{"x":65,"y":"Fri","value":["65","Fri"]},{"x":86,"y":"Sat","value":["86","Sat"]},{"x":62,"y":"Sun","value":["62","Sun"]}],"type":"bar","stack":"水果"},{"name":"Banana","data":[{"x":60,"y":"Mon","value":["60","Mon"]},{"x":31,"y":"Tues","value":["31","Tues"]},{"x":24,"y":"Wed","value":["24","Wed"]},{"x":79,"y":"Thurs","value":["79","Thurs"]},{"x":26,"y":"Fri","value":["26","Fri"]},{"x":70,"y":"Sat","value":["70","Sat"]},{"x":86,"y":"Sun","value":["86","Sun"]}],"type":"bar","stack":"水果"},{"name":"Pear","data":[{"x":57,"y":"Mon","value":["57","Mon"]},{"x":51,"y":"Tues","value":["51","Tues"]},{"x":24,"y":"Wed","value":["24","Wed"]},{"x":61,"y":"Thurs","value":["61","Thurs"]},{"x":96,"y":"Fri","value":["96","Fri"]},{"x":43,"y":"Sat","value":["43","Sat"]},{"x":28,"y":"Sun","value":["28","Sun"]}],"type":"bar","stack":"水果"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.5.5" class="section level3">
<h3><span class="header-section-number">7.5.5</span> 极坐标柱状图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_polar</span>(
    <span class="dt">center =</span> <span class="kw">c</span>(<span class="st">&#39;50%&#39;</span>, <span class="st">&#39;50%&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_angleAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>),
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>
      )),
    <span class="dt">axisLine =</span><span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_radiusAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>, <span class="dt">stack =</span> <span class="st">&#39;水果&#39;</span>,
    <span class="dt">coordinateSystem =</span> <span class="st">&#39;polar&#39;</span>,
    <span class="dt">data =</span> dat, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-3474c56af30e9c2c9d5c" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-3474c56af30e9c2c9d5c">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"polar":{"center":["50%","50%"]},"angleAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},"radiusAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"name":"Mon","value":55},{"name":"Tues","value":21},{"name":"Wed","value":43},{"name":"Thurs","value":89},{"name":"Fri","value":65},{"name":"Sat","value":86},{"name":"Sun","value":62}],"type":"bar","stack":"水果","coordinateSystem":"polar"},{"name":"Banana","data":[{"name":"Mon","value":60},{"name":"Tues","value":31},{"name":"Wed","value":24},{"name":"Thurs","value":79},{"name":"Fri","value":26},{"name":"Sat","value":70},{"name":"Sun","value":86}],"type":"bar","stack":"水果","coordinateSystem":"polar"},{"name":"Pear","data":[{"name":"Mon","value":57},{"name":"Tues","value":51},{"name":"Wed","value":24},{"name":"Thurs","value":61},{"name":"Fri","value":96},{"name":"Sat","value":43},{"name":"Sun","value":28}],"type":"bar","stack":"水果","coordinateSystem":"polar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="pie" class="section level2">
<h2><span class="header-section-number">7.6</span> 饼图pie</h2>
<pre><code>data: [{
  name: &#39;数据1&#39;,
  value: 10
}, {
  // 数据项名称
  name: &#39;数据2&#39;,
  value : 56,
  //自定义特殊 tooltip，仅对该数据项有效
  tooltip:{},
  //自定义特殊itemStyle，仅对该item有效
  itemStyle:{}
}]</code></pre>
<p>对应mapping的设置为：<code>ecaes(name,value)</code></p>
<div id="section-7.6.1" class="section level3">
<h3><span class="header-section-number">7.6.1</span> 基础饼图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;pie&#39;</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum))</code></pre></div>
<div id="htmlwidget-42a022deef65a9727600" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-42a022deef65a9727600">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"pie"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.6.2" class="section level3">
<h3><span class="header-section-number">7.6.2</span> 环行图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;pie&#39;</span>, 
    <span class="dt">radius =</span> <span class="kw">list</span>(<span class="st">&#39;20%&#39;</span>, <span class="st">&#39;40%&#39;</span>),
    <span class="dt">center =</span> <span class="kw">list</span>(<span class="st">&#39;25%&#39;</span>, <span class="st">&#39;50%&#39;</span>),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name=</span>weekDay, <span class="dt">value=</span>saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;pie&#39;</span>, 
    <span class="dt">radius =</span> <span class="kw">list</span>(<span class="dv">40</span>, <span class="dv">60</span>),
    <span class="dt">center =</span> <span class="kw">list</span>(<span class="st">&#39;75%&#39;</span>, <span class="st">&#39;50%&#39;</span>),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name=</span>weekDay, <span class="dt">value=</span>saleNum))</code></pre></div>
<div id="htmlwidget-ff00b7335d5935983a1f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-ff00b7335d5935983a1f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"pie","radius":["20%","40%"],"center":["25%","50%"]},{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"pie","radius":[40,60],"center":["75%","50%"]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.6.3" class="section level3">
<h3><span class="header-section-number">7.6.3</span> 嵌套环形图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;pie&#39;</span>, 
    <span class="dt">radius =</span> <span class="kw">list</span>(<span class="st">&#39;0%&#39;</span>, <span class="st">&#39;40%&#39;</span>),
    <span class="dt">label =</span> <span class="kw">list</span>(<span class="dt">normal =</span> <span class="kw">list</span>(<span class="dt">position=</span><span class="st">&#39;inner&#39;</span>)),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name=</span>weekDay, <span class="dt">value=</span>price)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;pie&#39;</span>, 
    <span class="dt">radius =</span> <span class="kw">list</span>(<span class="st">&#39;50%&#39;</span>, <span class="st">&#39;70%&#39;</span>),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name=</span>weekDay, <span class="dt">value=</span>saleNum))</code></pre></div>
<div id="htmlwidget-23662d02f3b9cb9752bf" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-23662d02f3b9cb9752bf">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"group":"group","data":[{"name":"Fri","value":17},{"name":"Mon","value":15},{"name":"Sat","value":15.67},{"name":"Sun","value":14.67},{"name":"Thurs","value":14},{"name":"Tues","value":16},{"name":"Wed","value":14.33}],"type":"pie","radius":["0%","40%"],"label":{"normal":{"position":"inner"}}},{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"pie","radius":["50%","70%"]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.6.4" class="section level3">
<h3><span class="header-section-number">7.6.4</span> 玫瑰图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;pie&#39;</span>, <span class="dt">roseType =</span> <span class="st">&#39;radius&#39;</span>,
    <span class="dt">center =</span> <span class="kw">list</span>(<span class="st">&#39;25%&#39;</span>, <span class="st">&#39;50%&#39;</span>), <span class="dt">radius =</span> <span class="kw">list</span>(<span class="dv">0</span>,<span class="st">&#39;45%&#39;</span>),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name=</span>weekDay, <span class="dt">value=</span>saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;pie&#39;</span>, <span class="dt">roseType =</span> <span class="st">&#39;area&#39;</span>,
    <span class="dt">center =</span> <span class="kw">list</span>(<span class="st">&#39;75%&#39;</span>, <span class="st">&#39;50%&#39;</span>), <span class="dt">radius =</span> <span class="kw">list</span>(<span class="dv">0</span>,<span class="st">&#39;45%&#39;</span>),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name=</span>weekDay, <span class="dt">value=</span>saleNum))</code></pre></div>
<div id="htmlwidget-2f1744c3c0e8a2d2b95a" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-2f1744c3c0e8a2d2b95a">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"pie","roseType":"radius","center":["25%","50%"],"radius":[0,"45%"]},{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"pie","roseType":"area","center":["75%","50%"],"radius":[0,"45%"]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="scatter" class="section level2">
<h2><span class="header-section-number">7.7</span> 散点图scatter</h2>
<div id="section-7.7.1" class="section level3">
<h3><span class="header-section-number">7.7.1</span> 基本散点图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-d55fb9085a8d46d32067" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d55fb9085a8d46d32067">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"scatter"},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"scatter"},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"scatter"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="bubble" class="section level3">
<h3><span class="header-section-number">7.7.2</span> 气泡图Bubble</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit, <span class="dt">size =</span> price))</code></pre></div>
<div id="htmlwidget-e1c4ab64b483d7181c25" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-e1c4ab64b483d7181c25">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"symbolSize":11,"value":["Mon","55"]},{"x":"Tues","y":21,"symbolSize":19,"value":["Tues","21"]},{"x":"Wed","y":43,"symbolSize":14,"value":["Wed","43"]},{"x":"Thurs","y":89,"symbolSize":15,"value":["Thurs","89"]},{"x":"Fri","y":65,"symbolSize":16,"value":["Fri","65"]},{"x":"Sat","y":86,"symbolSize":18,"value":["Sat","86"]},{"x":"Sun","y":62,"symbolSize":14,"value":["Sun","62"]}],"type":"scatter"},{"name":"Banana","data":[{"x":"Mon","y":60,"symbolSize":19,"value":["Mon","60"]},{"x":"Tues","y":31,"symbolSize":10,"value":["Tues","31"]},{"x":"Wed","y":24,"symbolSize":14,"value":["Wed","24"]},{"x":"Thurs","y":79,"symbolSize":11,"value":["Thurs","79"]},{"x":"Fri","y":26,"symbolSize":18,"value":["Fri","26"]},{"x":"Sat","y":70,"symbolSize":18,"value":["Sat","70"]},{"x":"Sun","y":86,"symbolSize":14,"value":["Sun","86"]}],"type":"scatter"},{"name":"Pear","data":[{"x":"Mon","y":57,"symbolSize":15,"value":["Mon","57"]},{"x":"Tues","y":51,"symbolSize":19,"value":["Tues","51"]},{"x":"Wed","y":24,"symbolSize":15,"value":["Wed","24"]},{"x":"Thurs","y":61,"symbolSize":16,"value":["Thurs","61"]},{"x":"Fri","y":96,"symbolSize":17,"value":["Fri","96"]},{"x":"Sat","y":43,"symbolSize":11,"value":["Sat","43"]},{"x":"Sun","y":28,"symbolSize":16,"value":["Sun","28"]}],"type":"scatter"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.7.3" class="section level3">
<h3><span class="header-section-number">7.7.3</span> 地理散点图</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#404a59&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;bottom&#39;</span>,
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">text =</span> <span class="st">&quot;全国主要城市空气质量&quot;</span>,
    <span class="dt">subtext =</span> <span class="st">&quot;data from 真气网&quot;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, 
    <span class="dt">formatter =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">&quot;function (params) {return params.name + &#39; : &#39; + params.value[2];}&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">200</span>,
    <span class="dt">calculable =</span> <span class="ot">TRUE</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>),
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_geo</span>(
    <span class="dt">map =</span> <span class="st">&#39;china&#39;</span>,
    <span class="dt">label =</span> <span class="kw">list</span>(
        <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)),
    <span class="dt">itemStyle =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(
        <span class="dt">areaColor =</span> <span class="st">&#39;#323c48&#39;</span>,
        <span class="dt">borderColor =</span> <span class="st">&#39;#111&#39;</span>),
      <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">areaColor =</span> <span class="st">&#39;#2a333d&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;geo&#39;</span>,
    <span class="dt">data =</span> dat_geo, <span class="dt">name =</span> <span class="st">&#39;AQI&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> lng, <span class="dt">y =</span> lat, <span class="dt">value =</span> AQI))</code></pre></div>
<div id="htmlwidget-dbb5b77d2438be63f01b" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-dbb5b77d2438be63f01b">{"x":{"opt":{"legend":{"show":true,"left":"right","top":"bottom","textStyle":{"color":"#fff"}},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"function (params) {return params.name + ' : ' + params.value[2];}"},"backgroundColor":["#404a59"],"title":{"text":"全国主要城市空气质量","subtext":"data from 真气网","left":"center","textStyle":{"color":"#fff"}},"visualMap":{"min":0,"max":200,"calculable":true,"color":["#d94e5d","#eac736","#50a3ba"],"textStyle":{"color":"#fff"}},"geo":{"map":"china","label":{"emphasis":{"show":false}},"itemStyle":{"normal":{"areaColor":"#323c48","borderColor":"#111"},"emphasis":{"areaColor":"#2a333d"}}},"series":[{"group":"AQI","data":[{"x":88.31104,"y":43.36378,"value":[88.31104,43.36378,175]},{"x":104.10194,"y":30.65984,"value":[104.10194,30.65984,117]},{"x":117.18554,"y":34.28823,"value":[117.18554,34.28823,114]},{"x":103.71878,"y":36.10396,"value":[103.71878,36.10396,113]},{"x":108.93425,"y":34.23053,"value":[108.93425,34.23053,110]},{"x":119.59794,"y":31.72322,"value":[119.59794,31.72322,98]},{"x":118.24238,"y":33.96315,"value":[118.24238,33.96315,98]},{"x":123.46987,"y":41.80515,"value":[123.46987,41.80515,95]},{"x":126.95717,"y":45.54774,"value":[126.95717,45.54774,94]},{"x":121.48941,"y":31.40527,"value":[121.48941,31.40527,94]},{"x":114.02919,"y":30.58203,"value":[114.02919,30.58203,93]},{"x":119.43396,"y":32.13188,"value":[119.43396,32.13188,93]},{"x":119.91284,"y":28.44594,"value":[119.91284,28.44594,92]},{"x":119.1773,"y":34.84065,"value":[119.1773,34.84065,92]},{"x":101.76628,"y":36.6502,"value":[101.76628,36.6502,91]},{"x":119.43157,"y":32.39463,"value":[119.43157,32.39463,89]},{"x":120.28429,"y":31.52853,"value":[120.28429,31.52853,89]},{"x":119.88116,"y":32.31841,"value":[119.88116,32.31841,88]},{"x":120.85737,"y":32.00986,"value":[120.85737,32.00986,88]},{"x":120.63132,"y":31.30227,"value":[120.63132,31.30227,87]},{"x":125.28845,"y":43.83327,"value":[125.28845,43.83327,87]},{"x":120.78483,"y":30.74744,"value":[120.78483,30.74744,87]},{"x":117.30794,"y":31.79322,"value":[117.30794,31.79322,85]},{"x":114.49339,"y":36.61853,"value":[114.49339,36.61853,84]},{"x":120.49476,"y":30.08189,"value":[120.49476,30.08189,83]},{"x":121.84431,"y":29.89889,"value":[121.84431,29.89889,82]},{"x":114.50713,"y":37.06787,"value":[114.50713,37.06787,82]},{"x":118.8735,"y":33.29433,"value":[118.8735,33.29433,80]},{"x":120.50102,"y":33.20107,"value":[120.50102,33.20107,80]},{"x":120.21201,"y":30.2084,"value":[120.21201,30.2084,79]},{"x":118.8921,"y":31.32751,"value":[118.8921,31.32751,78]},{"x":106.62304,"y":26.67856,"value":[106.62304,26.67856,78]},{"x":106.24284,"y":38.47314,"value":[106.24284,38.47314,77]},{"x":112.48699,"y":37.94036,"value":[112.48699,37.94036,76]},{"x":120.41847,"y":30.84979,"value":[120.41847,30.84979,75]},{"x":121.26295,"y":28.64965,"value":[121.26295,28.64965,75]},{"x":106.54041,"y":29.40268,"value":[106.54041,29.40268,75]},{"x":119.69311,"y":29.09914,"value":[119.69311,29.09914,69]},{"x":110.32941,"y":20.02971,"value":[110.32941,20.02971,69]},{"x":120.39629,"y":36.30744,"value":[120.39629,36.30744,69]},{"x":114.53952,"y":38.03647,"value":[114.53952,38.03647,65]},{"x":112.98626,"y":28.25591,"value":[112.98626,28.25591,64]},{"x":115.89925,"y":28.68503,"value":[115.89925,28.68503,63]},{"x":116.75199,"y":36.55358,"value":[116.75199,36.55358,63]},{"x":118.87117,"y":28.96864,"value":[118.87117,28.96864,62]},{"x":113.88308,"y":22.55329,"value":[113.88308,22.55329,62]},{"x":122.10679,"y":30.01979,"value":[122.10679,30.01979,61]},{"x":113.6401,"y":34.72468,"value":[113.6401,34.72468,61]},{"x":102.82147,"y":24.88554,"value":[102.82147,24.88554,60]},{"x":113.29658,"y":22.20903,"value":[113.29658,22.20903,58]},{"x":121.1572,"y":27.83616,"value":[121.1572,27.83616,58]},{"x":115.57938,"y":37.55085,"value":[115.57938,37.55085,58]},{"x":108.27331,"y":22.78129,"value":[108.27331,22.78129,57]},{"x":116.86622,"y":38.31419,"value":[116.86622,38.31419,57]},{"x":91.13775,"y":29.65262,"value":[91.13775,29.65262,56]},{"x":114.38273,"y":23.08383,"value":[114.38273,23.08383,55]},{"x":119.27345,"y":26.04769,"value":[119.27345,26.04769,55]},{"x":115.45875,"y":38.87757,"value":[115.45875,38.87757,54]},{"x":112.56706,"y":23.15815,"value":[112.56706,23.15815,54]},{"x":111.62299,"y":40.80772,"value":[111.62299,40.80772,53]},{"x":112.89262,"y":22.90026,"value":[112.89262,22.90026,52]},{"x":118.03394,"y":24.48405,"value":[118.03394,24.48405,52]},{"x":118.46023,"y":39.27313,"value":[118.46023,39.27313,50]},{"x":113.75179,"y":23.02067,"value":[113.75179,23.02067,50]},{"x":113.3926,"y":22.51595,"value":[113.3926,22.51595,50]},{"x":113.11103,"y":22.56028,"value":[113.11103,22.56028,48]},{"x":113.27324,"y":23.15792,"value":[113.27324,23.15792,46]},{"x":117.30983,"y":39.71755,"value":[117.30983,39.71755,43]},{"x":117.80024,"y":40.95913,"value":[117.80024,40.95913,42]},{"x":115.28264,"y":40.97457,"value":[115.28264,40.97457,40]},{"x":119.48458,"y":39.83507,"value":[119.48458,39.83507,40]},{"x":116.23128,"y":40.22077,"value":[116.23128,40.22077,37]},{"x":121.5255,"y":38.95223,"value":[121.5255,38.95223,36]},{"x":116.68572,"y":39.50311,"value":[116.68572,39.50311,35]}],"type":"scatter","coordinateSystem":"geo","name":"AQI"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="effectscatter" class="section level2">
<h2><span class="header-section-number">7.8</span> 带特效散点图effectScatter</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;effectScatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-55bd7f65f46abddb699e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-55bd7f65f46abddb699e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"effectScatter"},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"effectScatter"},{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"effectScatter"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="boxplot" class="section level2">
<h2><span class="header-section-number">7.9</span> 盒须图/箱线图boxplot</h2>
<p>ECharts并不内置对原始数据的处理，输入给boxplot的数据须是五个统计结果量值，五个量值依次是：[min, Q1, median (or Q2), Q3, max]。</p>
<p><code>mapping = ecaes(min, Q1, median (or Q2), Q3, max)</code>。</p>
<p>若<code>mapping</code>不为空，这根据mapping指定的五个量值绘制boxplot。</p>
<p>若<code>mapping</code>为空，则根据<code>graphics::boxplot</code>统计出五个量值后绘制boxplot，并且根据<code>outline</code>判断是否绘制outline，若<code>outline == TRUE</code>则绘制outline，若<code>outline == FALSE</code>则绘制不绘制outline，默认为TRUE。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># boxplot(dat_boxplot)</span>
dat_bp &lt;-<span class="st"> </span><span class="kw">boxplot</span>(dat_boxplot, <span class="dt">plot =</span> <span class="ot">FALSE</span>)

dat_stats &lt;-<span class="st"> </span>dat_bp<span class="op">$</span>stats
dat_stats_t &lt;-<span class="st"> </span><span class="kw">t</span>(dat_stats)

dat_stats_t_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(dat_stats_t)
<span class="kw">names</span>(dat_stats_t_df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;min&quot;</span>, <span class="st">&quot;Q1&quot;</span>, <span class="st">&quot;median&quot;</span>, <span class="st">&quot;Q3&quot;</span>, <span class="st">&quot;max&quot;</span>)

dat_out &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">group =</span> dat_bp<span class="op">$</span>group <span class="op">-</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">out =</span> dat_bp<span class="op">$</span>out,
  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># matrix</span>
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> <span class="kw">names</span>(dat_boxplot)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_stats_t, <span class="dt">type =</span> <span class="st">&quot;boxplot&quot;</span>) 
<span class="co"># data.frame</span>
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> <span class="kw">names</span>(dat_boxplot)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_stats_t_df, <span class="dt">type =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">min =</span> min, <span class="dt">Q1 =</span> Q1, <span class="dt">median =</span> median, <span class="dt">Q3 =</span> Q3, <span class="dt">max =</span> max)) </code></pre></div>
<p>layout布局方式，可选值：</p>
<ul>
<li>horizontal：水平排布各个 box</li>
<li>vertical：竖直排布各个 box</li>
</ul>
<p>默认值根据当前坐标系状况决定：如果category轴为横轴，则水平排布；否则竖直排布；如果没有category轴则水平排布。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> <span class="kw">names</span>(dat_boxplot)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;boxplot&quot;</span>,
    <span class="dt">data =</span> dat_stats_t_df, <span class="dt">type =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">min =</span> min, <span class="dt">Q1 =</span> Q1, <span class="dt">median =</span> median, <span class="dt">Q3 =</span> Q3, <span class="dt">max =</span> max)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;boxplot&quot;</span>,
    <span class="dt">data =</span> dat_out, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> group, <span class="dt">y =</span> out))</code></pre></div>
<div id="htmlwidget-d0408d042a2f0ec1ba41" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d0408d042a2f0ec1ba41">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Uni05","Norm","Rt","Gam2","Runif"]},"yAxis":{"type":"value"},"series":[{"group":"boxplot","data":[[0.0476190476190476,1.21428571428571,2.4047619047619,3.5952380952381,4.76190476190476],[-2.38406576282892,-0.956018268059708,-0.0714269618662235,0.670677491533068,2.17167437755212],[-2.58430595929872,-0.67756462437981,0.0536846512703512,0.726203456149793,2.71263245963415],[0.167299805439779,1.09717119132474,1.7289576704479,2.7040490508027,4.53499797928452],[-4.95547094615176,-2.74729218101129,-0.586777419084683,1.91206189105287,4.95775367133319]],"name":"boxplot","type":"boxplot"},{"group":"boxplot","data":[{"x":2,"y":3.89584858089997,"value":[2,3.89584858089997]},{"x":2,"y":-3.69233628840162,"value":[2,-3.69233628840162]},{"x":2,"y":-3.02543136293081,"value":[2,-3.02543136293081]},{"x":2,"y":3.55487517494091,"value":[2,3.55487517494091]},{"x":3,"y":6.30436236821661,"value":[3,6.30436236821661]},{"x":3,"y":6.15926163039075,"value":[3,6.15926163039075]},{"x":3,"y":5.6003651926926,"value":[3,5.6003651926926]},{"x":3,"y":6.34017226930279,"value":[3,6.34017226930279]},{"x":3,"y":5.28259128530848,"value":[3,5.28259128530848]},{"x":3,"y":5.73526052503228,"value":[3,5.73526052503228]},{"x":3,"y":5.64643645318348,"value":[3,5.64643645318348]}],"name":"boxplot","type":"scatter"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> <span class="kw">names</span>(dat_boxplot)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;boxplot&quot;</span>,
    <span class="dt">data =</span> dat_stats_t_df, <span class="dt">type =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">min =</span> min, <span class="dt">Q1 =</span> Q1, <span class="dt">median =</span> median, <span class="dt">Q3 =</span> Q3, <span class="dt">max =</span> max)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;boxplot&quot;</span>,
    <span class="dt">data =</span> dat_out, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">y =</span> group, <span class="dt">x =</span> out))</code></pre></div>
<div id="htmlwidget-5accfbd9a0ae9d66afda" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-5accfbd9a0ae9d66afda">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"yAxis":{"type":"category","data":["Uni05","Norm","Rt","Gam2","Runif"]},"xAxis":{"type":"value"},"series":[{"group":"boxplot","data":[[0.0476190476190476,1.21428571428571,2.4047619047619,3.5952380952381,4.76190476190476],[-2.38406576282892,-0.956018268059708,-0.0714269618662235,0.670677491533068,2.17167437755212],[-2.58430595929872,-0.67756462437981,0.0536846512703512,0.726203456149793,2.71263245963415],[0.167299805439779,1.09717119132474,1.7289576704479,2.7040490508027,4.53499797928452],[-4.95547094615176,-2.74729218101129,-0.586777419084683,1.91206189105287,4.95775367133319]],"name":"boxplot","type":"boxplot"},{"group":"boxplot","data":[{"x":3.89584858089997,"y":2,"value":[3.89584858089997,2]},{"x":-3.69233628840162,"y":2,"value":[-3.69233628840162,2]},{"x":-3.02543136293081,"y":2,"value":[-3.02543136293081,2]},{"x":3.55487517494091,"y":2,"value":[3.55487517494091,2]},{"x":6.30436236821661,"y":3,"value":[6.30436236821661,3]},{"x":6.15926163039075,"y":3,"value":[6.15926163039075,3]},{"x":5.6003651926926,"y":3,"value":[5.6003651926926,3]},{"x":6.34017226930279,"y":3,"value":[6.34017226930279,3]},{"x":5.28259128530848,"y":3,"value":[5.28259128530848,3]},{"x":5.73526052503228,"y":3,"value":[5.73526052503228,3]},{"x":5.64643645318348,"y":3,"value":[5.64643645318348,3]}],"name":"boxplot","type":"scatter"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>horizontal和vertical</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> <span class="kw">names</span>(dat_boxplot)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;boxplot&quot;</span>,
    <span class="dt">data =</span> dat_boxplot, <span class="dt">type =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">outline =</span> <span class="ot">TRUE</span>, <span class="dt">layout =</span> <span class="st">&#39;horizontal&#39;</span>) </code></pre></div>
<div id="htmlwidget-6e15042c2af81b647329" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-6e15042c2af81b647329">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Uni05","Norm","Rt","Gam2","Runif"]},"yAxis":{"type":"value"},"series":[{"data":[[0.0476190476190476,1.21428571428571,2.4047619047619,3.5952380952381,4.76190476190476],[-2.38406576282892,-0.956018268059708,-0.0714269618662235,0.670677491533068,2.17167437755212],[-2.58430595929872,-0.67756462437981,0.0536846512703512,0.726203456149793,2.71263245963415],[0.167299805439779,1.09717119132474,1.7289576704479,2.7040490508027,4.53499797928452],[-4.95547094615176,-2.74729218101129,-0.586777419084683,1.91206189105287,4.95775367133319]],"name":"boxplot","type":"boxplot","outline":true,"layout":"horizontal"},{"name":"boxplot","data":[[2,3.89584858089997],[2,-3.69233628840162],[2,-3.02543136293081],[2,3.55487517494091],[3,6.30436236821661],[3,6.15926163039075],[3,5.6003651926926],[3,6.34017226930279],[3,5.28259128530848],[3,5.73526052503228],[3,5.64643645318348]],"type":"pictorialBar","symbolPosition":"end","symbolSize":8,"barGap":"30%"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> <span class="kw">names</span>(dat_boxplot)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;boxplot&quot;</span>,
    <span class="dt">data =</span> dat_boxplot, <span class="dt">type =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">outline =</span> <span class="ot">TRUE</span>, <span class="dt">layout =</span> <span class="st">&#39;vertical&#39;</span>)</code></pre></div>
<div id="htmlwidget-8668e552a60224b79ef0" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-8668e552a60224b79ef0">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"yAxis":{"type":"category","data":["Uni05","Norm","Rt","Gam2","Runif"]},"xAxis":{"type":"value"},"series":[{"data":[[0.0476190476190476,1.21428571428571,2.4047619047619,3.5952380952381,4.76190476190476],[-2.38406576282892,-0.956018268059708,-0.0714269618662235,0.670677491533068,2.17167437755212],[-2.58430595929872,-0.67756462437981,0.0536846512703512,0.726203456149793,2.71263245963415],[0.167299805439779,1.09717119132474,1.7289576704479,2.7040490508027,4.53499797928452],[-4.95547094615176,-2.74729218101129,-0.586777419084683,1.91206189105287,4.95775367133319]],"name":"boxplot","type":"boxplot","outline":true,"layout":"vertical"},{"name":"boxplot","data":[[3.89584858089997,2],[-3.69233628840162,2],[-3.02543136293081,2],[3.55487517494091,2],[6.30436236821661,3],[6.15926163039075,3],[5.6003651926926,3],[6.34017226930279,3],[5.28259128530848,3],[5.73526052503228,3],[5.64643645318348,3]],"type":"pictorialBar","symbolPosition":"end","symbolSize":8,"barGap":"30%"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_boxplot_ &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">Uni05 =</span> (<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)<span class="op">/</span><span class="dv">21</span>, <span class="dt">Norm =</span> <span class="kw">rnorm</span>(<span class="dv">100</span>),
  <span class="dt">Rt =</span> <span class="kw">rt</span>(<span class="dv">100</span>, <span class="dt">df =</span> <span class="dv">5</span>), <span class="dt">Gam2 =</span> <span class="kw">rgamma</span>(<span class="dv">100</span>, <span class="dt">shape =</span> <span class="dv">2</span>), 
  <span class="dt">Runif =</span> <span class="kw">runif</span>(<span class="dv">100</span>, <span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>))

dat_boxplot2 &lt;-<span class="st"> </span><span class="kw">rbind</span>(<span class="kw">mutate</span>(dat_boxplot, <span class="dt">index =</span> <span class="st">&quot;data1&quot;</span>), <span class="kw">mutate</span>(dat_boxplot_, <span class="dt">index =</span> <span class="st">&quot;data2&quot;</span>))

dat_boxplot_ &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">Uni05 =</span> (<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)<span class="op">/</span><span class="dv">21</span>, <span class="dt">Norm =</span> <span class="kw">rnorm</span>(<span class="dv">100</span>),
  <span class="dt">Rt =</span> <span class="kw">rt</span>(<span class="dv">100</span>, <span class="dt">df =</span> <span class="dv">5</span>), <span class="dt">Gam2 =</span> <span class="kw">rgamma</span>(<span class="dv">100</span>, <span class="dt">shape =</span> <span class="dv">2</span>), 
  <span class="dt">Runif =</span> <span class="kw">runif</span>(<span class="dv">100</span>, <span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>))
dat_boxplot3 &lt;-<span class="st"> </span><span class="kw">rbind</span>(dat_boxplot2, <span class="kw">mutate</span>(dat_boxplot_, <span class="dt">index =</span> <span class="st">&quot;data3&quot;</span>))

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> <span class="kw">names</span>(dat_boxplot)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_boxplot3, 
    <span class="dt">group =</span> <span class="st">&quot;index&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;boxplot&quot;</span>, <span class="dt">outline =</span> <span class="ot">TRUE</span>, <span class="dt">layout =</span> <span class="st">&#39;horizontal&#39;</span>)</code></pre></div>
<div id="htmlwidget-c48794b47f5fc6535bd2" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-c48794b47f5fc6535bd2">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Uni05","Norm","Rt","Gam2","Runif"]},"yAxis":{"type":"value"},"series":[{"name":"data1","data":[[0.0476190476190476,1.21428571428571,2.4047619047619,3.5952380952381,4.76190476190476],[-2.38406576282892,-0.956018268059708,-0.0714269618662235,0.670677491533068,2.17167437755212],[-2.58430595929872,-0.67756462437981,0.0536846512703512,0.726203456149793,2.71263245963415],[0.167299805439779,1.09717119132474,1.7289576704479,2.7040490508027,4.53499797928452],[-4.95547094615176,-2.74729218101129,-0.586777419084683,1.91206189105287,4.95775367133319]],"group":"index","type":"boxplot","outline":true,"layout":"horizontal"},{"name":"data2","data":[[0.0476190476190476,1.21428571428571,2.4047619047619,3.5952380952381,4.76190476190476],[-2.92811900134927,-0.732672045511551,-0.026319932511011,0.905442666924047,2.30012584492793],[-2.679599785524,-0.661872745861566,-0.0300286829118523,0.753011057247629,2.73126881756192],[0.0895072629463444,0.883121250337363,1.46676181178954,2.53451272408631,4.94271073565931],[-4.98736799461767,-3.12873053364456,0.0794187851715833,2.80298532918096,4.98925275169313]],"group":"index","type":"boxplot","outline":true,"layout":"horizontal"},{"name":"data3","data":[[0.0476190476190476,1.21428571428571,2.4047619047619,3.5952380952381,4.76190476190476],[-2.25142223570061,-0.726230265857532,-0.0468929309456857,0.793426190375827,2.6219879574386],[-2.98958314218829,-0.605950313161166,0.255306487423091,0.986175622775607,2.78639735029338],[0.233301309738924,1.14213432836306,1.73546504846312,2.68643093175435,4.83520035252237],[-4.94242063025013,-2.72213984280825,-0.699279129039496,3.27373479842208,4.87944450695068]],"group":"index","type":"boxplot","outline":true,"layout":"horizontal"},{"name":"data1","data":[[2,3.89584858089997],[2,-3.69233628840162],[2,-3.02543136293081],[2,3.55487517494091],[3,6.30436236821661],[3,6.15926163039075],[3,5.6003651926926],[3,6.34017226930279],[3,5.28259128530848],[3,5.73526052503228],[3,5.64643645318348]],"type":"pictorialBar","symbolPosition":"end","symbolSize":8,"barGap":"30%"},{"name":"data2","data":[[1,-3.29200755383127],[2,3.04445135704734],[2,3.49406865905598],[2,4.3047421234208],[2,-3.10158893690746],[2,3.81916823267614],[2,3.02038886719589],[3,5.61495746265481],[3,6.98247749371156],[3,5.09861473704307],[3,7.64445814085991]],"type":"pictorialBar","symbolPosition":"end","symbolSize":8,"barGap":"30%"},{"name":"data3","data":[[2,-3.07405997295411],[2,3.74294585921875],[3,5.13794655218392],[3,5.42887943064881],[3,6.82991681200915],[3,6.2927756936063],[3,5.20330679449317]],"type":"pictorialBar","symbolPosition":"end","symbolSize":8,"barGap":"30%"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="kcandlestick" class="section level2">
<h2><span class="header-section-number">7.10</span> k线图candlestick</h2>
<p>四个量值依次是：[open, close, lowest, highest] （即：[开盘值, 收盘值, 最低值, 最高值]）</p>
<p>对应mapping的设置为：<code>ecaes(open, close, lowest, highest)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">getstockdata &lt;-<span class="st"> </span><span class="cf">function</span>(code, start, end){
  html &lt;-<span class="st"> &quot;http://q.stock.sohu.com/hisHq?&quot;</span>
  url &lt;-<span class="st"> </span><span class="kw">paste</span>(html, <span class="st">&quot;code=&quot;</span>, code, <span class="st">&quot;&amp;start=&quot;</span>, start, <span class="st">&quot;&amp;end=&quot;</span>, end, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)
  data &lt;-<span class="st"> </span>rjson<span class="op">::</span><span class="kw">fromJSON</span>(RCurl<span class="op">::</span><span class="kw">getURL</span>(url, <span class="dt">.encoding =</span> <span class="st">&#39;utf-8&#39;</span>))[[<span class="dv">1</span>]]<span class="op">$</span>hq
  result &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">t</span>(<span class="kw">sapply</span>(data, <span class="st">`</span><span class="dt">[</span><span class="st">`</span>)), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
  result_name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;date&#39;</span>,<span class="st">&#39;open&#39;</span>,<span class="st">&#39;close&#39;</span>,<span class="st">&#39;increase&#39;</span>,<span class="st">&#39;increPer&#39;</span>,<span class="st">&#39;low&#39;</span>,<span class="st">&#39;high&#39;</span>,<span class="st">&#39;volume&#39;</span>,<span class="st">&#39;amount&#39;</span>,<span class="st">&#39;other&#39;</span>)
  <span class="kw">names</span>(result) &lt;-<span class="st"> </span>result_name
  result[result_name[<span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>,<span class="dv">6</span><span class="op">:</span><span class="dv">9</span>)]] &lt;-<span class="st"> </span><span class="kw">sapply</span>(result[result_name[<span class="kw">c</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">4</span>,<span class="dv">6</span><span class="op">:</span><span class="dv">9</span>)]],as.numeric)

  <span class="kw">return</span>(result)
}

dat_stock_zs_<span class="dv">000001</span> &lt;-<span class="st"> </span><span class="kw">getstockdata</span>(<span class="dt">code =</span> <span class="st">&quot;zs_000001&quot;</span>, <span class="dt">start =</span> <span class="st">&quot;20150101&quot;</span>, <span class="dt">end =</span> <span class="kw">format</span>(<span class="kw">Sys.Date</span>(),<span class="st">&quot;%Y%m%d&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(date) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA5 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">5</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA10 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">10</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA20 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">20</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA30 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">30</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA40 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">40</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA50 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">50</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA6 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">60</span>), <span class="dv">2</span>))

dat_stock_zs_<span class="dv">399001</span> &lt;-<span class="st"> </span><span class="kw">getstockdata</span>(<span class="dt">code =</span> <span class="st">&quot;zs_399001&quot;</span>, <span class="dt">start =</span> <span class="st">&quot;20150101&quot;</span>, <span class="dt">end =</span> <span class="kw">format</span>(<span class="kw">Sys.Date</span>(),<span class="st">&quot;%Y%m%d&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(date) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA5 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">5</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA10 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">10</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA20 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">20</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA30 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">30</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA40 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">40</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA50 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">50</span>), <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">MA6 =</span> <span class="kw">round</span>(TTR<span class="op">::</span><span class="kw">SMA</span>(close, <span class="dv">60</span>), <span class="dv">2</span>))
<span class="co"># write.csv(dat_stock_zs_000001,&quot;data/dat_stock_zs_000001.csv&quot;, row.names = FALSE)</span>
<span class="co"># write.csv(dat_stock_zs_399001,&quot;data/dat_stock_zs_399001.csv&quot;, row.names = FALSE)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_stock_zs_<span class="dv">000001</span> &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/dat_stock_zs_000001.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">tail</span>(<span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">code =</span> <span class="st">&quot;上证指数&quot;</span>)
dat_stock_zs_<span class="dv">399001</span> &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/dat_stock_zs_399001.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">tail</span>(<span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">code =</span> <span class="st">&quot;深圳指数&quot;</span>)

dat_stock &lt;-<span class="st"> </span><span class="kw">rbind</span>(dat_stock_zs_<span class="dv">399001</span>, dat_stock_zs_<span class="dv">000001</span>)

dat_stock_date &lt;-<span class="st"> </span><span class="kw">unique</span>(dat_stock<span class="op">$</span>date)

dat_stock_v &lt;-<span class="st"> </span>dat_stock <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">increase =</span> <span class="kw">ifelse</span>(close <span class="op">&gt;=</span><span class="st"> </span>open, <span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date, volume, increase, code) 

dat_stock_ &lt;-<span class="st"> </span>dat_stock <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(open, close, low, high, volume, increase, date) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">setNames</span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">as.matrix</span>()

upColor &lt;-<span class="st"> &#39;#00da3c&#39;</span>;
downColor &lt;-<span class="st"> &#39;#ec0000&#39;</span>;

itemStyle &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">normal =</span> <span class="kw">list</span>(
    <span class="dt">color =</span> downColor,
    <span class="dt">color0 =</span> upColor,
    <span class="dt">borderColor =</span> <span class="st">&quot;#8A0000&quot;</span>,
    <span class="dt">borderColor0 =</span> <span class="st">&quot;#008F28&quot;</span>))

MA_lineStyle =<span class="st"> </span><span class="kw">list</span>(<span class="dt">normal =</span> <span class="kw">list</span>(<span class="dt">opacity =</span> <span class="fl">0.5</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&quot;上证指数&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;axis&#39;</span>, <span class="dt">axisPointer =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;cross&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_axisPointer</span>(<span class="dt">link =</span> <span class="kw">list</span>(<span class="dt">xAxisIndex=</span> <span class="st">&#39;all&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_grid</span>(
    <span class="kw">list</span>(<span class="dt">left=</span><span class="st">&#39;10%&#39;</span>,<span class="dt">right=</span><span class="st">&#39;8%&#39;</span>,<span class="dt">height=</span><span class="st">&#39;50%&#39;</span>),
    <span class="kw">list</span>(<span class="dt">left=</span><span class="st">&#39;10%&#39;</span>,<span class="dt">right=</span><span class="st">&#39;8%&#39;</span>,<span class="dt">top=</span><span class="st">&#39;68%&#39;</span>,<span class="dt">height=</span><span class="st">&#39;16%&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="kw">list</span>(
      <span class="dt">gridIndex =</span> <span class="dv">0</span>,<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, 
      <span class="dt">data =</span> dat_stock_date, <span class="dt">scale =</span> <span class="ot">TRUE</span>,
      <span class="dt">boundaryGap=</span> <span class="ot">FALSE</span>,
      <span class="dt">axisLine=</span><span class="kw">list</span>(<span class="dt">onZero=</span><span class="ot">FALSE</span>),
      <span class="dt">splitLine=</span><span class="kw">list</span>(<span class="dt">show=</span><span class="ot">FALSE</span>),
      <span class="dt">splitNumber=</span> <span class="dv">20</span>,
      <span class="dt">min=</span><span class="st">&#39;dataMin&#39;</span>,
      <span class="dt">max=</span> <span class="st">&#39;dataMax&#39;</span>,
      <span class="dt">axisPointer=</span><span class="kw">list</span>(<span class="dt">z=</span><span class="dv">100</span>)),
    <span class="kw">list</span>(
      <span class="dt">gridIndex =</span> <span class="dv">1</span>,<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, 
      <span class="dt">data =</span> dat_stock_date, <span class="dt">scale =</span> <span class="ot">TRUE</span>,
      <span class="dt">boundaryGap=</span> <span class="ot">FALSE</span>,
      <span class="dt">axisLine=</span><span class="kw">list</span>(<span class="dt">onZero=</span><span class="ot">FALSE</span>),
      <span class="dt">splitLine=</span><span class="kw">list</span>(<span class="dt">show=</span><span class="ot">FALSE</span>),
      <span class="dt">axisTick=</span><span class="kw">list</span>(<span class="dt">show=</span><span class="ot">FALSE</span>),
      <span class="dt">axisLabel=</span><span class="kw">list</span>(<span class="dt">show=</span><span class="ot">FALSE</span>),
      <span class="dt">splitNumber=</span> <span class="dv">20</span>,
      <span class="dt">min=</span><span class="st">&#39;dataMin&#39;</span>,
      <span class="dt">max=</span> <span class="st">&#39;dataMax&#39;</span>,
      <span class="dt">axisPointer=</span><span class="kw">list</span>(<span class="dt">z=</span><span class="dv">100</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(
    <span class="kw">list</span>(
      <span class="dt">gridIndex =</span> <span class="dv">0</span>, <span class="dt">type =</span> <span class="st">&quot;value&quot;</span>, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">splitArea =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>)),
    <span class="kw">list</span>(
      <span class="dt">gridIndex =</span> <span class="dv">1</span>, <span class="dt">scale =</span> <span class="ot">TRUE</span>,
      <span class="dt">gridIndex =</span> <span class="dv">1</span>, <span class="dt">splitNumber =</span> <span class="dv">2</span>,
      <span class="dt">axisLabel =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>),
      <span class="dt">axisLine =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>),
      <span class="dt">axisTick =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>),
      <span class="dt">splitLine =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_dataZoom</span>(
    <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;inside&#39;</span>,<span class="dt">xAxisIndex=</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)),
    <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;slider&#39;</span>,<span class="dt">xAxisIndex=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),
      <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">top =</span> <span class="st">&#39;85%&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;上证指数&quot;</span>,
    <span class="dt">type =</span> <span class="st">&quot;candlestick&quot;</span>, <span class="dt">itemStyle =</span> itemStyle,
    <span class="dt">data =</span> dat_stock_zs_<span class="dv">000001</span>, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">open =</span> open, <span class="dt">close =</span> close, <span class="dt">lowest =</span> low, <span class="dt">highest =</span> high)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;MA10&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">lineStyle =</span> MA_lineStyle,
    <span class="dt">symbol =</span> <span class="st">&#39;none&#39;</span>,
    <span class="dt">smooth =</span> <span class="ot">TRUE</span>, <span class="dt">data =</span> dat_stock_zs_<span class="dv">000001</span><span class="op">$</span>MA10) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;MA20&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">lineStyle =</span> MA_lineStyle,
    <span class="dt">symbol =</span> <span class="st">&#39;none&#39;</span>,
    <span class="dt">smooth =</span> <span class="ot">TRUE</span>, <span class="dt">data =</span> dat_stock_zs_<span class="dv">000001</span><span class="op">$</span>MA20) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;MA30&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">lineStyle =</span> MA_lineStyle,
    <span class="dt">symbol =</span> <span class="st">&#39;none&#39;</span>,
    <span class="dt">smooth =</span> <span class="ot">TRUE</span>, <span class="dt">data =</span> dat_stock_zs_<span class="dv">000001</span><span class="op">$</span>MA30) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="co"># ec_add_series(</span>
<span class="st">  </span><span class="co">#   xAxisIndex = 1, yAxisIndex = 1,</span>
<span class="st">  </span><span class="co">#   name = &quot;Volume&quot;, type = &quot;bar&quot;,</span>
<span class="st">  </span><span class="co">#   data = jsonlite::toJSON(setNames(dat_stock_v, NULL))) %&gt;% </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">xAxisIndex =</span> <span class="dv">1</span>, <span class="dt">yAxisIndex =</span> <span class="dv">1</span>,
    <span class="dt">name =</span> <span class="st">&quot;Volume&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">data =</span> <span class="kw">filter</span>(dat_stock_v, code <span class="op">==</span><span class="st"> &quot;上证指数&quot;</span>),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> volume, <span class="dt">increase =</span> increase)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">type =</span> <span class="st">&quot;piecewise&quot;</span>,
    <span class="dt">show =</span> <span class="ot">FALSE</span>,
    <span class="dt">seriesIndex =</span> <span class="dv">4</span>, <span class="dt">dimension =</span> <span class="dv">2</span>,
    <span class="dt">pieces =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">value =</span> <span class="dv">1</span>, <span class="dt">color =</span> downColor), 
      <span class="kw">list</span>(<span class="dt">value =</span> <span class="op">-</span><span class="dv">1</span>, <span class="dt">color =</span> upColor))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_mark</span>(
    <span class="dt">markname =</span> <span class="st">&quot;markLine&quot;</span>, <span class="dt">symbol =</span> <span class="kw">c</span>(<span class="st">&#39;none&#39;</span>, <span class="st">&#39;none&#39;</span>),
    <span class="dt">data =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;max&quot;</span>, <span class="dt">name =</span> <span class="st">&quot;最大值&quot;</span>, <span class="dt">valueDim =</span> <span class="st">&quot;highest&quot;</span>),
      <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;min&quot;</span>, <span class="dt">name =</span> <span class="st">&quot;最小值&quot;</span>, <span class="dt">valueDim =</span> <span class="st">&quot;lowest&quot;</span>))) </code></pre></div>
<div id="htmlwidget-9e4d75314b28069dea1f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-9e4d75314b28069dea1f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross"}},"title":{"text":"上证指数"},"axisPointer":{"link":{"xAxisIndex":"all"}},"grid":[{"left":"10%","right":"8%","height":"50%"},{"left":"10%","right":"8%","top":"68%","height":"16%"}],"xAxis":[{"gridIndex":0,"type":"category","data":["2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-04","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-03","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30"],"scale":true,"boundaryGap":false,"axisLine":{"onZero":false},"splitLine":{"show":false},"splitNumber":20,"min":"dataMin","max":"dataMax","axisPointer":{"z":100}},{"gridIndex":1,"type":"category","data":["2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-04","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-03","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30"],"scale":true,"boundaryGap":false,"axisLine":{"onZero":false},"splitLine":{"show":false},"axisTick":{"show":false},"axisLabel":{"show":false},"splitNumber":20,"min":"dataMin","max":"dataMax","axisPointer":{"z":100}}],"yAxis":[{"gridIndex":0,"type":"value","scale":true,"splitArea":{"show":true}},{"gridIndex":1,"scale":true,"gridIndex.1":1,"splitNumber":2,"axisLabel":{"show":false},"axisLine":{"show":false},"axisTick":{"show":false},"splitLine":{"show":false}}],"dataZoom":[{"type":"inside","xAxisIndex":[0,1]},{"type":"slider","xAxisIndex":[0,1],"show":true,"top":"85%"}],"series":[{"group":"上证指数","data":[[3083.43,3091.19,3076.99,3098.4],[3088.01,3114.21,3080.05,3114.77],[3109.17,3115.18,3103.53,3117.53],[3121.18,3109.5,3105.58,3128.72],[3100.6,3067.15,3053.29,3100.68],[3057.34,3052.78,3037.91,3063.61],[3053.03,3079.8,3034.1,3081.45],[3071.46,3049.8,3044.12,3071.46],[3038.07,3044.16,3032.41,3066.05],[3037.45,3021.9,3008.73,3048.8],[2982.65,2907.82,2871.35,2984.97],[2889.98,2915.73,2872.16,2925.56],[2912,2875.81,2872.62,2940.59],[2855.58,2889.76,2837.14,2891.97],[2903.45,2859.34,2857.87,2908.62],[2829.99,2844.51,2803.79,2850.24],[2842.4,2813.18,2798.8,2854.26],[2799.9,2786.9,2782.45,2825.99],[2789.81,2847.42,2782.38,2848.37],[2841.58,2775.56,2756.81,2845.68],[2774.57,2786.89,2722.45,2786.89],[2776.63,2759.13,2754.16,2793.18],[2755.34,2733.88,2727.94,2777.52],[2731.35,2747.23,2691.02,2768.87],[2752.45,2815.11,2752.45,2815.79],[2819.71,2827.63,2800.62,2828.49],[2780.7,2777.77,2752.44,2794.36],[2771.04,2837.66,2771.04,2844.19],[2831.43,2831.18,2818.85,2835.46],[2827.08,2814.04,2804.49,2837.51],[2806.89,2798.13,2774.76,2806.92],[2801.78,2787.26,2786.04,2818.4],[2791.02,2772.55,2764.49,2805.01],[2769.75,2829.27,2753.84,2837.86],[2815.2,2859.54,2809.62,2863.57],[2862.27,2905.56,2862.27,2911.46],[2911.45,2903.65,2894.04,2912.31],[2905.79,2882.23,2875.7,2915.3],[2879.69,2873.59,2864.11,2889.69],[2871.94,2869.05,2850.3,2896.01],[2866.9,2876.4,2854.32,2884.68],[2882.51,2824.53,2823.93,2897.4],[2815.34,2768.02,2726.48,2815.34],[2763.4,2740.44,2740.43,2777.66],[2736.53,2705.16,2692.32,2760.47],[2711.74,2779.37,2696.04,2779.37],[2771.13,2744.07,2741.07,2779.91],[2729.58,2794.38,2726.22,2801.66],[2791.4,2795.31,2777.51,2806.11],[2769.02,2785.87,2742.56,2789.8],[2780.74,2780.96,2766.57,2789.44],[2777.25,2723.26,2721.24,2777.7],[2691.43,2705.19,2672.74,2732.95],[2723.89,2668.97,2665.59,2730.33],[2673.07,2698.47,2653.11,2698.47],[2700.34,2733.83,2696.29,2739.17],[2731.96,2714.61,2709.06,2731.96],[2714.87,2724.62,2700.8,2736.01],[2717.08,2729.43,2705.32,2748.82],[2736.32,2780.9,2736.32,2780.9],[2782.29,2777.98,2769.4,2791.39],[2774.86,2769.29,2762.35,2778.54],[2769.33,2737.74,2736.35,2780.53],[2730.11,2725.25,2710.54,2744.63],[2716.4,2720.73,2692.36,2722.85],[2720.65,2750.58,2712.38,2756.61],[2741.38,2704.34,2704.34,2745.47],[2697.58,2691.59,2683.74,2719.41],[2696.68,2702.3,2683.72,2728.55],[2698.01,2669.48,2667.32,2703.43],[2668.49,2664.8,2652.7,2680.57],[2659.74,2656.11,2647.17,2672.07],[2679.21,2686.58,2653.19,2689.06],[2688.78,2681.64,2675.29,2694.92],[2671.29,2651.79,2647.92,2671.29],[2644.3,2699.95,2644.3,2700.19],[2694.8,2730.85,2690.99,2746.08],[2732.17,2729.24,2724.08,2743.96],[2733.87,2797.48,2722.03,2797.49],[2775.07,2781.14,2771.16,2790.03],[2785.32,2806.81,2783.34,2827.34],[2805.79,2791.77,2786.32,2810.51],[2794.26,2821.35,2791.84,2821.76],[2768.21,2716.51,2710.18,2771.94],[2713.73,2721.01,2711.2,2734.31],[2723.72,2725.84,2703.06,2743.55],[2643.07,2583.46,2560.32,2661.29],[2574.04,2606.91,2536.67,2615.92],[2605.91,2568.1,2564.74,2611.97],[2567.76,2546.33,2536.44,2597.72],[2574.31,2561.61,2517.57,2582.55],[2544.91,2486.42,2485.62,2544.91],[2460.08,2550.47,2449.2,2553.39],[2565.64,2654.88,2565.64,2675.41],[2652.65,2594.83,2583.26,2659.81],[2579.97,2603.3,2577.77,2640.4],[2540.93,2603.8,2531.53,2606.1],[2610.9,2598.85,2580.85,2626.12],[2593.59,2542.1,2529.19,2595.54],[2538.57,2568.05,2521.78,2586.92]],"name":"上证指数","type":"candlestick","itemStyle":{"normal":{"color":"#ec0000","color0":"#00da3c","borderColor":"#8A0000","borderColor0":"#008F28"}},"markLine":{"symbol":["none","none"],"data":[{"type":"max","name":"最大值","valueDim":"highest"},{"type":"min","name":"最小值","valueDim":"lowest"}]}},{"data":[3123.8,3113.79,3108.41,3103.9,3096.48,3088.25,3084.19,3085.02,3079.89,3074.57,3056.23,3036.38,3012.44,2990.47,2969.69,2948.86,2922.2,2895.91,2876.24,2851.6,2839.51,2823.85,2809.66,2795.4,2790.98,2789.29,2785.75,2790.83,2789.2,2793.05,2794.18,2796.99,2800.86,2809.06,2813.5,2821.3,2833.88,2838.34,2842.58,2848.08,2855.91,2859.64,2859.18,2850.3,2834.86,2822.24,2806.29,2797.5,2789.67,2781.35,2771.81,2761.68,2755.4,2748.25,2747.58,2743.03,2740.08,2733.11,2726.52,2726.02,2725.73,2730.33,2733.58,2739.21,2741.44,2743.11,2742.09,2738.78,2736.07,2724.93,2713.61,2702.29,2697.18,2692.81,2685.92,2680.86,2683.51,2687.27,2696.79,2707.96,2722.16,2735.72,2749.2,2752.69,2759.61,2762.2,2747.46,2735.23,2712.29,2688.81,2664.29,2633.75,2606.67,2600.5,2587.88,2575.63,2577.66,2576.86,2574.26,2576.43],"name":"MA10","type":"line","lineStyle":{"normal":{"opacity":0.5}},"symbol":"none","smooth":true},{"data":[3149.68,3147.31,3145.11,3141.87,3137.06,3131,3125.38,3119.39,3113.89,3105.32,3090.02,3075.09,3060.43,3047.18,3033.09,3018.56,3003.19,2990.47,2978.06,2963.09,2947.87,2930.12,2911.05,2892.94,2880.34,2869.08,2853.98,2843.37,2832.72,2822.33,2816.84,2810.42,2805.26,2802.23,2802.24,2805.29,2809.82,2814.58,2815.89,2820.57,2825.04,2828.31,2830.02,2829.68,2824.18,2821.77,2820.09,2817.92,2816.13,2814.72,2813.86,2810.66,2807.29,2799.28,2791.22,2782.64,2773.19,2765.31,2758.1,2753.69,2748.77,2746.01,2744.49,2743.73,2744.51,2743.07,2741.09,2735.95,2731.3,2725.48,2719.67,2716.31,2715.38,2716.01,2713.68,2711.99,2712.8,2713.03,2716.43,2716.44,2717.88,2719.01,2723.19,2722.75,2722.77,2721.53,2715.49,2711.25,2704.54,2698.38,2693.22,2684.74,2677.93,2676.6,2673.75,2668.92,2662.56,2656.04,2643.27,2632.62],"name":"MA20","type":"line","lineStyle":{"normal":{"opacity":0.5}},"symbol":"none","smooth":true},{"data":[3131.56,3132.99,3134.56,3133.91,3132.22,3131.48,3131.39,3130.35,3128.46,3126.15,3118.53,3110.33,3100.89,3091.4,3081.27,3070.29,3057.66,3044.9,3034.67,3020.75,3006.51,2991.34,2976.84,2963.26,2952.38,2942.14,2930.71,2923.92,2915.11,2906.41,2896.64,2885.74,2874.32,2864.98,2858.06,2853.15,2847.28,2841.69,2836.01,2830.91,2829.87,2826.83,2823.23,2818.25,2813.12,2810.94,2808.64,2808.89,2807.15,2807.5,2807.3,2806.1,2805.15,2802.54,2798.65,2795.52,2793.42,2789.65,2786.26,2785.15,2784.48,2783.88,2782.72,2779.26,2774.63,2769.46,2762.82,2756.46,2750.75,2744.1,2737.05,2731.44,2728.72,2726.76,2724.98,2722.33,2721.89,2719.72,2719.79,2719.64,2720.5,2722.78,2726.65,2728.24,2728.99,2728.72,2724.35,2720.43,2715.05,2707.23,2700.02,2690.59,2684.35,2682,2677.81,2672.9,2669.55,2666.45,2661.11,2657.73],"name":"MA30","type":"line","lineStyle":{"normal":{"opacity":0.5}},"symbol":"none","smooth":true},{"group":"Volume","data":[{"x":"2018-06-04","y":114593904,"increase":1,"value":["2018-06-04","114593904","1"]},{"x":"2018-06-05","y":118735592,"increase":1,"value":["2018-06-05","118735592","1"]},{"x":"2018-06-06","y":120196136,"increase":1,"value":["2018-06-06","120196136","1"]},{"x":"2018-06-07","y":127784968,"increase":-1,"value":["2018-06-07","127784968","-1"]},{"x":"2018-06-08","y":134688208,"increase":-1,"value":["2018-06-08","134688208","-1"]},{"x":"2018-06-11","y":108563784,"increase":-1,"value":["2018-06-11","108563784","-1"]},{"x":"2018-06-12","y":113275096,"increase":1,"value":["2018-06-12","113275096","1"]},{"x":"2018-06-13","y":119607888,"increase":-1,"value":["2018-06-13","119607888","-1"]},{"x":"2018-06-14","y":115469488,"increase":1,"value":["2018-06-14","115469488","1"]},{"x":"2018-06-15","y":144532576,"increase":-1,"value":["2018-06-15","144532576","-1"]},{"x":"2018-06-19","y":230550064,"increase":-1,"value":["2018-06-19","230550064","-1"]},{"x":"2018-06-20","y":144301424,"increase":1,"value":["2018-06-20","144301424","1"]},{"x":"2018-06-21","y":154378336,"increase":-1,"value":["2018-06-21","154378336","-1"]},{"x":"2018-06-22","y":126143128,"increase":1,"value":["2018-06-22","126143128","1"]},{"x":"2018-06-25","y":121917688,"increase":-1,"value":["2018-06-25","121917688","-1"]},{"x":"2018-06-26","y":125918464,"increase":1,"value":["2018-06-26","125918464","1"]},{"x":"2018-06-27","y":129420832,"increase":-1,"value":["2018-06-27","129420832","-1"]},{"x":"2018-06-28","y":118357904,"increase":-1,"value":["2018-06-28","118357904","-1"]},{"x":"2018-06-29","y":125671680,"increase":1,"value":["2018-06-29","125671680","1"]},{"x":"2018-07-02","y":137035040,"increase":-1,"value":["2018-07-02","137035040","-1"]},{"x":"2018-07-03","y":142498464,"increase":1,"value":["2018-07-03","142498464","1"]},{"x":"2018-07-04","y":123262176,"increase":-1,"value":["2018-07-04","123262176","-1"]},{"x":"2018-07-05","y":129226120,"increase":-1,"value":["2018-07-05","129226120","-1"]},{"x":"2018-07-06","y":136294384,"increase":1,"value":["2018-07-06","136294384","1"]},{"x":"2018-07-09","y":121549312,"increase":1,"value":["2018-07-09","121549312","1"]},{"x":"2018-07-10","y":117062752,"increase":1,"value":["2018-07-10","117062752","1"]},{"x":"2018-07-11","y":126821152,"increase":-1,"value":["2018-07-11","126821152","-1"]},{"x":"2018-07-12","y":146980192,"increase":1,"value":["2018-07-12","146980192","1"]},{"x":"2018-07-13","y":117689344,"increase":-1,"value":["2018-07-13","117689344","-1"]},{"x":"2018-07-16","y":107767152,"increase":-1,"value":["2018-07-16","107767152","-1"]},{"x":"2018-07-17","y":105409216,"increase":-1,"value":["2018-07-17","105409216","-1"]},{"x":"2018-07-18","y":120961168,"increase":-1,"value":["2018-07-18","120961168","-1"]},{"x":"2018-07-19","y":114486496,"increase":-1,"value":["2018-07-19","114486496","-1"]},{"x":"2018-07-20","y":145907696,"increase":1,"value":["2018-07-20","145907696","1"]},{"x":"2018-07-23","y":173382800,"increase":1,"value":["2018-07-23","173382800","1"]},{"x":"2018-07-24","y":229578304,"increase":1,"value":["2018-07-24","229578304","1"]},{"x":"2018-07-25","y":167800208,"increase":-1,"value":["2018-07-25","167800208","-1"]},{"x":"2018-07-26","y":168428208,"increase":-1,"value":["2018-07-26","168428208","-1"]},{"x":"2018-07-27","y":146371616,"increase":-1,"value":["2018-07-27","146371616","-1"]},{"x":"2018-07-30","y":151652256,"increase":-1,"value":["2018-07-30","151652256","-1"]},{"x":"2018-07-31","y":118931120,"increase":1,"value":["2018-07-31","118931120","1"]},{"x":"2018-08-01","y":149514352,"increase":-1,"value":["2018-08-01","149514352","-1"]},{"x":"2018-08-02","y":174179008,"increase":-1,"value":["2018-08-02","174179008","-1"]},{"x":"2018-08-03","y":127006360,"increase":-1,"value":["2018-08-03","127006360","-1"]},{"x":"2018-08-06","y":129753056,"increase":-1,"value":["2018-08-06","129753056","-1"]},{"x":"2018-08-07","y":149579744,"increase":1,"value":["2018-08-07","149579744","1"]},{"x":"2018-08-08","y":147688720,"increase":-1,"value":["2018-08-08","147688720","-1"]},{"x":"2018-08-09","y":151660336,"increase":1,"value":["2018-08-09","151660336","1"]},{"x":"2018-08-10","y":121532232,"increase":1,"value":["2018-08-10","121532232","1"]},{"x":"2018-08-13","y":127532240,"increase":1,"value":["2018-08-13","127532240","1"]},{"x":"2018-08-14","y":109571072,"increase":1,"value":["2018-08-14","109571072","1"]},{"x":"2018-08-15","y":116161792,"increase":-1,"value":["2018-08-15","116161792","-1"]},{"x":"2018-08-16","y":120277880,"increase":1,"value":["2018-08-16","120277880","1"]},{"x":"2018-08-17","y":112445296,"increase":-1,"value":["2018-08-17","112445296","-1"]},{"x":"2018-08-20","y":110784160,"increase":1,"value":["2018-08-20","110784160","1"]},{"x":"2018-08-21","y":113586840,"increase":1,"value":["2018-08-21","113586840","1"]},{"x":"2018-08-22","y":93664648,"increase":-1,"value":["2018-08-22","93664648","-1"]},{"x":"2018-08-23","y":98446472,"increase":1,"value":["2018-08-23","98446472","1"]},{"x":"2018-08-24","y":100516272,"increase":1,"value":["2018-08-24","100516272","1"]},{"x":"2018-08-27","y":132762584,"increase":1,"value":["2018-08-27","132762584","1"]},{"x":"2018-08-28","y":118749368,"increase":-1,"value":["2018-08-28","118749368","-1"]},{"x":"2018-08-29","y":100156928,"increase":-1,"value":["2018-08-29","100156928","-1"]},{"x":"2018-08-30","y":106060944,"increase":-1,"value":["2018-08-30","106060944","-1"]},{"x":"2018-08-31","y":109758744,"increase":-1,"value":["2018-08-31","109758744","-1"]},{"x":"2018-09-03","y":102213008,"increase":1,"value":["2018-09-03","102213008","1"]},{"x":"2018-09-04","y":109010312,"increase":1,"value":["2018-09-04","109010312","1"]},{"x":"2018-09-05","y":105002272,"increase":-1,"value":["2018-09-05","105002272","-1"]},{"x":"2018-09-06","y":99017832,"increase":-1,"value":["2018-09-06","99017832","-1"]},{"x":"2018-09-07","y":107523296,"increase":1,"value":["2018-09-07","107523296","1"]},{"x":"2018-09-10","y":103559168,"increase":-1,"value":["2018-09-10","103559168","-1"]},{"x":"2018-09-11","y":99865952,"increase":-1,"value":["2018-09-11","99865952","-1"]},{"x":"2018-09-12","y":90026760,"increase":-1,"value":["2018-09-12","90026760","-1"]},{"x":"2018-09-13","y":107335016,"increase":1,"value":["2018-09-13","107335016","1"]},{"x":"2018-09-14","y":100005008,"increase":-1,"value":["2018-09-14","100005008","-1"]},{"x":"2018-09-17","y":88238888,"increase":-1,"value":["2018-09-17","88238888","-1"]},{"x":"2018-09-18","y":115767992,"increase":1,"value":["2018-09-18","115767992","1"]},{"x":"2018-09-19","y":141550320,"increase":1,"value":["2018-09-19","141550320","1"]},{"x":"2018-09-20","y":111387464,"increase":-1,"value":["2018-09-20","111387464","-1"]},{"x":"2018-09-21","y":158016640,"increase":1,"value":["2018-09-21","158016640","1"]},{"x":"2018-09-25","y":111983176,"increase":1,"value":["2018-09-25","111983176","1"]},{"x":"2018-09-26","y":139567712,"increase":1,"value":["2018-09-26","139567712","1"]},{"x":"2018-09-27","y":123997696,"increase":-1,"value":["2018-09-27","123997696","-1"]},{"x":"2018-09-28","y":134290448,"increase":1,"value":["2018-09-28","134290448","1"]},{"x":"2018-10-08","y":149501392,"increase":-1,"value":["2018-10-08","149501392","-1"]},{"x":"2018-10-09","y":116771904,"increase":1,"value":["2018-10-09","116771904","1"]},{"x":"2018-10-10","y":113485728,"increase":1,"value":["2018-10-10","113485728","1"]},{"x":"2018-10-11","y":197150704,"increase":-1,"value":["2018-10-11","197150704","-1"]},{"x":"2018-10-12","y":170081632,"increase":1,"value":["2018-10-12","170081632","1"]},{"x":"2018-10-15","y":118576200,"increase":-1,"value":["2018-10-15","118576200","-1"]},{"x":"2018-10-16","y":119419144,"increase":-1,"value":["2018-10-16","119419144","-1"]},{"x":"2018-10-17","y":129954000,"increase":-1,"value":["2018-10-17","129954000","-1"]},{"x":"2018-10-18","y":125428512,"increase":-1,"value":["2018-10-18","125428512","-1"]},{"x":"2018-10-19","y":147323552,"increase":1,"value":["2018-10-19","147323552","1"]},{"x":"2018-10-22","y":211888448,"increase":1,"value":["2018-10-22","211888448","1"]},{"x":"2018-10-23","y":178343552,"increase":-1,"value":["2018-10-23","178343552","-1"]},{"x":"2018-10-24","y":160060400,"increase":1,"value":["2018-10-24","160060400","1"]},{"x":"2018-10-25","y":162032976,"increase":1,"value":["2018-10-25","162032976","1"]},{"x":"2018-10-26","y":158936112,"increase":-1,"value":["2018-10-26","158936112","-1"]},{"x":"2018-10-29","y":134241920,"increase":-1,"value":["2018-10-29","134241920","-1"]},{"x":"2018-10-30","y":166682304,"increase":1,"value":["2018-10-30","166682304","1"]}],"xAxisIndex":1,"yAxisIndex":1,"name":"Volume","type":"bar"}],"visualMap":{"type":"piecewise","show":false,"seriesIndex":4,"dimension":2,"pieces":[{"value":1,"color":"#ec0000"},{"value":-1,"color":"#00da3c"}]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&quot;指数对比&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;axis&#39;</span>, <span class="dt">axisPointer =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;cross&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_axisPointer</span>(<span class="dt">link =</span> <span class="kw">list</span>(<span class="dt">xAxisIndex=</span> <span class="st">&#39;all&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, 
    <span class="dt">data =</span> dat_stock_date, <span class="dt">scale =</span> <span class="ot">TRUE</span>,
    <span class="dt">boundaryGap=</span> <span class="ot">FALSE</span>,
    <span class="dt">axisLine=</span><span class="kw">list</span>(<span class="dt">onZero=</span><span class="ot">FALSE</span>),
    <span class="dt">splitLine=</span><span class="kw">list</span>(<span class="dt">show=</span><span class="ot">FALSE</span>),
    <span class="dt">splitNumber=</span> <span class="dv">20</span>,
    <span class="dt">min=</span><span class="st">&#39;dataMin&#39;</span>,
    <span class="dt">max=</span> <span class="st">&#39;dataMax&#39;</span>,
    <span class="dt">axisPointer=</span><span class="kw">list</span>(<span class="dt">z=</span><span class="dv">100</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(
    <span class="dt">type =</span> <span class="st">&quot;value&quot;</span>, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">splitArea =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_dataZoom</span>(<span class="dt">type =</span> <span class="st">&#39;inside&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&quot;candlestick&quot;</span>, <span class="dt">itemStyle =</span> itemStyle,
    <span class="dt">data =</span> dat_stock, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">open =</span> open, <span class="dt">close =</span> close, <span class="dt">lowest =</span> low, <span class="dt">highest =</span> high, <span class="dt">group =</span> code))</code></pre></div>
<div id="htmlwidget-1cd64b2b669814cb93d2" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-1cd64b2b669814cb93d2">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross"}},"title":{"text":"指数对比"},"axisPointer":{"link":{"xAxisIndex":"all"}},"xAxis":{"type":"category","data":["2018-06-04","2018-06-05","2018-06-06","2018-06-07","2018-06-08","2018-06-11","2018-06-12","2018-06-13","2018-06-14","2018-06-15","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-25","2018-06-26","2018-06-27","2018-06-28","2018-06-29","2018-07-02","2018-07-03","2018-07-04","2018-07-05","2018-07-06","2018-07-09","2018-07-10","2018-07-11","2018-07-12","2018-07-13","2018-07-16","2018-07-17","2018-07-18","2018-07-19","2018-07-20","2018-07-23","2018-07-24","2018-07-25","2018-07-26","2018-07-27","2018-07-30","2018-07-31","2018-08-01","2018-08-02","2018-08-03","2018-08-06","2018-08-07","2018-08-08","2018-08-09","2018-08-10","2018-08-13","2018-08-14","2018-08-15","2018-08-16","2018-08-17","2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24","2018-08-27","2018-08-28","2018-08-29","2018-08-30","2018-08-31","2018-09-03","2018-09-04","2018-09-05","2018-09-06","2018-09-07","2018-09-10","2018-09-11","2018-09-12","2018-09-13","2018-09-14","2018-09-17","2018-09-18","2018-09-19","2018-09-20","2018-09-21","2018-09-25","2018-09-26","2018-09-27","2018-09-28","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-29","2018-10-30"],"scale":true,"boundaryGap":false,"axisLine":{"onZero":false},"splitLine":{"show":false},"splitNumber":20,"min":"dataMin","max":"dataMax","axisPointer":{"z":100}},"yAxis":{"type":"value","scale":true,"splitArea":{"show":true}},"dataZoom":{"type":"inside"},"series":[{"name":"上证指数","data":[[3083.43,3091.19,3076.99,3098.4],[3088.01,3114.21,3080.05,3114.77],[3109.17,3115.18,3103.53,3117.53],[3121.18,3109.5,3105.58,3128.72],[3100.6,3067.15,3053.29,3100.68],[3057.34,3052.78,3037.91,3063.61],[3053.03,3079.8,3034.1,3081.45],[3071.46,3049.8,3044.12,3071.46],[3038.07,3044.16,3032.41,3066.05],[3037.45,3021.9,3008.73,3048.8],[2982.65,2907.82,2871.35,2984.97],[2889.98,2915.73,2872.16,2925.56],[2912,2875.81,2872.62,2940.59],[2855.58,2889.76,2837.14,2891.97],[2903.45,2859.34,2857.87,2908.62],[2829.99,2844.51,2803.79,2850.24],[2842.4,2813.18,2798.8,2854.26],[2799.9,2786.9,2782.45,2825.99],[2789.81,2847.42,2782.38,2848.37],[2841.58,2775.56,2756.81,2845.68],[2774.57,2786.89,2722.45,2786.89],[2776.63,2759.13,2754.16,2793.18],[2755.34,2733.88,2727.94,2777.52],[2731.35,2747.23,2691.02,2768.87],[2752.45,2815.11,2752.45,2815.79],[2819.71,2827.63,2800.62,2828.49],[2780.7,2777.77,2752.44,2794.36],[2771.04,2837.66,2771.04,2844.19],[2831.43,2831.18,2818.85,2835.46],[2827.08,2814.04,2804.49,2837.51],[2806.89,2798.13,2774.76,2806.92],[2801.78,2787.26,2786.04,2818.4],[2791.02,2772.55,2764.49,2805.01],[2769.75,2829.27,2753.84,2837.86],[2815.2,2859.54,2809.62,2863.57],[2862.27,2905.56,2862.27,2911.46],[2911.45,2903.65,2894.04,2912.31],[2905.79,2882.23,2875.7,2915.3],[2879.69,2873.59,2864.11,2889.69],[2871.94,2869.05,2850.3,2896.01],[2866.9,2876.4,2854.32,2884.68],[2882.51,2824.53,2823.93,2897.4],[2815.34,2768.02,2726.48,2815.34],[2763.4,2740.44,2740.43,2777.66],[2736.53,2705.16,2692.32,2760.47],[2711.74,2779.37,2696.04,2779.37],[2771.13,2744.07,2741.07,2779.91],[2729.58,2794.38,2726.22,2801.66],[2791.4,2795.31,2777.51,2806.11],[2769.02,2785.87,2742.56,2789.8],[2780.74,2780.96,2766.57,2789.44],[2777.25,2723.26,2721.24,2777.7],[2691.43,2705.19,2672.74,2732.95],[2723.89,2668.97,2665.59,2730.33],[2673.07,2698.47,2653.11,2698.47],[2700.34,2733.83,2696.29,2739.17],[2731.96,2714.61,2709.06,2731.96],[2714.87,2724.62,2700.8,2736.01],[2717.08,2729.43,2705.32,2748.82],[2736.32,2780.9,2736.32,2780.9],[2782.29,2777.98,2769.4,2791.39],[2774.86,2769.29,2762.35,2778.54],[2769.33,2737.74,2736.35,2780.53],[2730.11,2725.25,2710.54,2744.63],[2716.4,2720.73,2692.36,2722.85],[2720.65,2750.58,2712.38,2756.61],[2741.38,2704.34,2704.34,2745.47],[2697.58,2691.59,2683.74,2719.41],[2696.68,2702.3,2683.72,2728.55],[2698.01,2669.48,2667.32,2703.43],[2668.49,2664.8,2652.7,2680.57],[2659.74,2656.11,2647.17,2672.07],[2679.21,2686.58,2653.19,2689.06],[2688.78,2681.64,2675.29,2694.92],[2671.29,2651.79,2647.92,2671.29],[2644.3,2699.95,2644.3,2700.19],[2694.8,2730.85,2690.99,2746.08],[2732.17,2729.24,2724.08,2743.96],[2733.87,2797.48,2722.03,2797.49],[2775.07,2781.14,2771.16,2790.03],[2785.32,2806.81,2783.34,2827.34],[2805.79,2791.77,2786.32,2810.51],[2794.26,2821.35,2791.84,2821.76],[2768.21,2716.51,2710.18,2771.94],[2713.73,2721.01,2711.2,2734.31],[2723.72,2725.84,2703.06,2743.55],[2643.07,2583.46,2560.32,2661.29],[2574.04,2606.91,2536.67,2615.92],[2605.91,2568.1,2564.74,2611.97],[2567.76,2546.33,2536.44,2597.72],[2574.31,2561.61,2517.57,2582.55],[2544.91,2486.42,2485.62,2544.91],[2460.08,2550.47,2449.2,2553.39],[2565.64,2654.88,2565.64,2675.41],[2652.65,2594.83,2583.26,2659.81],[2579.97,2603.3,2577.77,2640.4],[2540.93,2603.8,2531.53,2606.1],[2610.9,2598.85,2580.85,2626.12],[2593.59,2542.1,2529.19,2595.54],[2538.57,2568.05,2521.78,2586.92]],"type":"candlestick","itemStyle":{"normal":{"color":"#ec0000","color0":"#00da3c","borderColor":"#8A0000","borderColor0":"#008F28"}}},{"name":"深圳指数","data":[[10192.04,10204.32,10148.69,10237.6],[10216.63,10385.61,10216.02,10385.61],[10375.26,10365.13,10337.71,10403.93],[10397.65,10313.85,10308.06,10411.56],[10290.63,10205.52,10136.58,10291.89],[10191.31,10175.35,10141.27,10242.76],[10187.31,10315.28,10124.98,10323],[10280.08,10161.65,10161.39,10288],[10124.76,10084.18,10054.37,10213.79],[10077.43,9943.13,9902.63,10108.53],[9775.97,9414.76,9336.7,9815.01],[9367.74,9501.34,9310.19,9549.53],[9493.5,9316.68,9313.09,9573.49],[9247.02,9409.95,9172.3,9416.09],[9472.91,9324.83,9320.66,9494.44],[9201,9339.37,9175.39,9364.51],[9338.01,9168.66,9139.82,9378.08],[9130.52,9071.73,9065.2,9230.89],[9100.6,9379.48,9078.24,9381.03],[9369.24,9179.8,9107.55,9393.1],[9184.31,9221.54,8945.42,9233.02],[9182.96,9035.49,9008.09,9200.27],[9036.12,8862.18,8844.67,9096.54],[8873.9,8911.34,8736.36,9035.45],[8954.31,9160.62,8954.31,9160.62],[9176.29,9205.43,9123.22,9213.87],[9024.72,9023.82,8916.98,9092.88],[9019.96,9273.61,9019.96,9312.38],[9288.47,9326.97,9270.2,9344.65],[9322.97,9317.36,9278.07,9366.21],[9307.66,9285.16,9175.66,9307.66],[9293.2,9195.24,9195.24,9335.09],[9214.9,9148.78,9116.45,9266.93],[9141.51,9251.48,9055.86,9277.95],[9188.47,9314.3,9160.05,9314.3],[9316.65,9465.8,9313.17,9491.24],[9475.72,9463.76,9436.99,9514.94],[9467.57,9352.25,9331.45,9488.39],[9344.75,9295.93,9270.36,9363.17],[9289.36,9181.94,9139.74,9309.44],[9168.83,9178.78,9132.08,9216.73],[9205.75,9005.37,9005.37,9235.74],[8971.71,8780.56,8613.84,8971.71],[8767.56,8602.12,8602.12,8807.95],[8582.43,8422.84,8374.4,8638.37],[8453.55,8674.03,8379.7,8674.03],[8654.55,8499.22,8498.21,8665.39],[8475.79,8752.2,8460.43,8797.58],[8752.94,8813.49,8742.4,8839.29],[8712.12,8844.86,8676.21,8855.62],[8832.27,8784.9,8752.76,8843.57],[8786.35,8581.18,8567.23,8786.35],[8470.91,8500.42,8408,8628.92],[8573.57,8357.04,8341.11,8597.79],[8355,8414.15,8241.14,8414.15],[8419.79,8549.06,8396.58,8561.79],[8533.43,8454.75,8440.58,8533.43],[8446.98,8501.39,8411.74,8543.42],[8480.22,8484.74,8438.08,8544.25],[8511.37,8728.56,8511.37,8728.56],[8731.64,8733.75,8693.52,8758.71],[8716.82,8678.26,8649.73,8724.81],[8666.9,8552.8,8543.79,8701.04],[8509.27,8465.47,8425.35,8536.06],[8440.95,8455.55,8344.93,8459.95],[8454.14,8554.44,8420.88,8573.2],[8519.57,8402.51,8402.51,8536.84],[8369.3,8324.16,8295.48,8450.89],[8344.57,8322.36,8270.4,8462.39],[8310.46,8158.49,8155.35,8311.92],[8155.95,8168.1,8112,8216.62],[8162.17,8111.16,8095.01,8196.86],[8196.21,8163.76,8038.12,8227.2],[8173.56,8113.88,8090.4,8180.7],[8068.06,7999.35,7977.44,8074.79],[7970.45,8133.22,7958.52,8133.9],[8111.24,8248.12,8097.23,8313.62],[8241.7,8233.89,8218.38,8295.13],[8258.02,8409.18,8216.68,8419.47],[8336.75,8353.38,8311.93,8390.65],[8369.52,8420.54,8344.72,8485.68],[8411.18,8334.75,8331.78,8434.87],[8351.63,8401.09,8317.48,8405.99],[8225.84,8060.83,8055.98,8249.39],[8083.23,8046.39,8013.19,8132.15],[8062.46,8010.69,7952.13,8090.22],[7753.03,7524.09,7481.9,7803.29],[7484.86,7558.28,7331.81,7595.93],[7571.71,7444.48,7430.96,7622.03],[7444.94,7298.98,7263.29,7493.15],[7390.69,7365.21,7206.34,7419.21],[7309,7187.49,7182.39,7316.19],[7097.04,7387.74,7084.44,7390.92],[7464.92,7748.82,7464.92,7816.82],[7752.18,7574.99,7523.07,7769.52],[7531.6,7545.11,7484.63,7653.24],[7334.52,7529.41,7305.77,7543.1],[7582.77,7504.72,7476.13,7621.38],[7449.64,7322.24,7290.82,7450.38],[7271.96,7375.23,7189.35,7451.66]],"type":"candlestick","itemStyle":{"normal":{"color":"#ec0000","color0":"#00da3c","borderColor":"#8A0000","borderColor0":"#008F28"}}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div id="waterfall" class="section level3">
<h3><span class="header-section-number">7.10.1</span> 瀑布图waterfall</h3>
<p>瀑布图类似于k线图，只是开盘值就是最低值，收盘值就是最高值。形态似瀑布</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_wf &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">first =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="op">-</span><span class="dv">21</span>,<span class="op">-</span><span class="dv">10</span>,<span class="dv">138</span>,<span class="dv">232</span>,<span class="dv">222</span>,<span class="dv">242</span>),
  <span class="dt">end =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">21</span>,<span class="op">-</span><span class="dv">10</span>,<span class="dv">138</span>,<span class="dv">232</span>,<span class="dv">222</span>,<span class="dv">242</span>,<span class="dv">406</span>), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
dat_wf_name &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Mon&quot;</span>,<span class="st">&quot;Tues&quot;</span>,<span class="st">&quot;Wed&quot;</span>,<span class="st">&quot;Thurs&quot;</span>,<span class="st">&quot;Fri&quot;</span>,<span class="st">&quot;Sat&quot;</span>,<span class="st">&quot;Sun&quot;</span>)

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, <span class="dt">data =</span> dat_wf_name) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_wf, <span class="dt">type =</span> <span class="st">&quot;candlestick&quot;</span>, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">open =</span> first, <span class="dt">close =</span> end, <span class="dt">lowest =</span> first, <span class="dt">highest =</span> end))</code></pre></div>
<div id="htmlwidget-a9b3bcce1abee3a5a5b4" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-a9b3bcce1abee3a5a5b4">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":[{"group":"group","data":[[0,-21,0,-21],[-21,-10,-21,-10],[-10,138,-10,138],[138,232,138,232],[232,222,232,222],[222,242,222,242],[242,406,242,406]],"type":"candlestick"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="pictorialbar" class="section level2">
<h2><span class="header-section-number">7.11</span> 象形柱图pictorialBar</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&quot;pictorialBar&quot;</span>,
    <span class="dt">symbol =</span> <span class="st">&quot;rect&quot;</span>, <span class="dt">symbolRepeat =</span> <span class="ot">TRUE</span>, <span class="dt">barWidth =</span> <span class="dv">10</span>,
    <span class="dt">symbolMargin =</span> <span class="dv">2</span>, <span class="dt">symbolSize =</span> <span class="dv">10</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum))</code></pre></div>
<div id="htmlwidget-86910f31560bf3df2790" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-86910f31560bf3df2790">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"Fri","y":187,"value":["Fri","187"]},{"x":"Mon","y":172,"value":["Mon","172"]},{"x":"Sat","y":199,"value":["Sat","199"]},{"x":"Sun","y":176,"value":["Sun","176"]},{"x":"Thurs","y":229,"value":["Thurs","229"]},{"x":"Tues","y":103,"value":["Tues","103"]},{"x":"Wed","y":91,"value":["Wed","91"]}],"type":"pictorialBar","symbol":"rect","symbolRepeat":true,"barWidth":10,"symbolMargin":2,"symbolSize":10}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="lines" class="section level2">
<h2><span class="header-section-number">7.12</span> 线图lines</h2>
<p>对应mapping的设置为：<code>ecaes(start.lng, start.lat, end.lng, end.lat)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#404a59&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_geo</span>(
    <span class="dt">map =</span> <span class="st">&#39;china&#39;</span>,
    <span class="dt">label =</span> <span class="kw">list</span>(
        <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)),
    <span class="dt">itemStyle =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(
        <span class="dt">areaColor =</span> <span class="st">&#39;#323c48&#39;</span>,
        <span class="dt">borderColor =</span> <span class="st">&#39;#111&#39;</span>),
      <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">areaColor =</span> <span class="st">&#39;#2a333d&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_geo_lines, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">start.lng =</span> start.lng, <span class="dt">start.lat =</span> start.lat, <span class="dt">end.lng =</span> end.lng, <span class="dt">end.lat =</span> end.lat),
    <span class="dt">type =</span> <span class="st">&quot;lines&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;geo&#39;</span>, 
    <span class="dt">effect =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">constantSpeed =</span> <span class="dv">30</span>,
      <span class="dt">symbol =</span> <span class="st">&#39;pin&#39;</span>,
      <span class="dt">symbolSize =</span> <span class="dv">3</span>,
      <span class="dt">trailLength =</span> <span class="dv">0</span>),
    <span class="dt">lineStyle =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">opacity =</span> <span class="fl">0.6</span>, <span class="dt">curveness =</span> <span class="fl">0.2</span>)))</code></pre></div>
<div id="htmlwidget-45e927ef92495abd48a0" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-45e927ef92495abd48a0">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"backgroundColor":["#404a59"],"geo":{"map":"china","label":{"emphasis":{"show":false}},"itemStyle":{"normal":{"areaColor":"#323c48","borderColor":"#111"},"emphasis":{"areaColor":"#2a333d"}}},"series":[{"data":[[[88.31104,43.36378],[116.23128,40.22077]],[[104.10194,30.65984],[121.48941,31.40527]],[[117.18554,34.28823],[116.23128,40.22077]],[[103.71878,36.10396],[121.48941,31.40527]],[[108.93425,34.23053],[116.23128,40.22077]],[[119.59794,31.72322],[121.48941,31.40527]],[[118.24238,33.96315],[116.23128,40.22077]],[[123.46987,41.80515],[121.48941,31.40527]],[[126.95717,45.54774],[116.23128,40.22077]],[[114.02919,30.58203],[121.48941,31.40527]],[[119.43396,32.13188],[116.23128,40.22077]],[[119.91284,28.44594],[121.48941,31.40527]],[[119.1773,34.84065],[116.23128,40.22077]],[[101.76628,36.6502],[121.48941,31.40527]],[[119.43157,32.39463],[116.23128,40.22077]],[[120.28429,31.52853],[121.48941,31.40527]],[[119.88116,32.31841],[116.23128,40.22077]],[[120.85737,32.00986],[121.48941,31.40527]],[[120.63132,31.30227],[116.23128,40.22077]],[[125.28845,43.83327],[121.48941,31.40527]],[[120.78483,30.74744],[116.23128,40.22077]],[[117.30794,31.79322],[121.48941,31.40527]],[[114.49339,36.61853],[116.23128,40.22077]],[[120.49476,30.08189],[121.48941,31.40527]],[[121.84431,29.89889],[116.23128,40.22077]],[[114.50713,37.06787],[121.48941,31.40527]],[[118.8735,33.29433],[116.23128,40.22077]],[[120.50102,33.20107],[121.48941,31.40527]],[[120.21201,30.2084],[116.23128,40.22077]],[[118.8921,31.32751],[121.48941,31.40527]],[[106.62304,26.67856],[116.23128,40.22077]],[[106.24284,38.47314],[121.48941,31.40527]],[[112.48699,37.94036],[116.23128,40.22077]],[[120.41847,30.84979],[121.48941,31.40527]],[[121.26295,28.64965],[116.23128,40.22077]],[[106.54041,29.40268],[121.48941,31.40527]],[[119.69311,29.09914],[116.23128,40.22077]],[[110.32941,20.02971],[121.48941,31.40527]],[[120.39629,36.30744],[116.23128,40.22077]],[[114.53952,38.03647],[121.48941,31.40527]],[[112.98626,28.25591],[116.23128,40.22077]],[[115.89925,28.68503],[121.48941,31.40527]],[[116.75199,36.55358],[116.23128,40.22077]],[[118.87117,28.96864],[121.48941,31.40527]],[[113.88308,22.55329],[116.23128,40.22077]],[[122.10679,30.01979],[121.48941,31.40527]],[[113.6401,34.72468],[116.23128,40.22077]],[[102.82147,24.88554],[121.48941,31.40527]],[[113.29658,22.20903],[116.23128,40.22077]],[[121.1572,27.83616],[121.48941,31.40527]],[[115.57938,37.55085],[116.23128,40.22077]],[[108.27331,22.78129],[121.48941,31.40527]],[[116.86622,38.31419],[116.23128,40.22077]],[[91.13775,29.65262],[121.48941,31.40527]],[[114.38273,23.08383],[116.23128,40.22077]],[[119.27345,26.04769],[121.48941,31.40527]],[[115.45875,38.87757],[116.23128,40.22077]],[[112.56706,23.15815],[121.48941,31.40527]],[[111.62299,40.80772],[116.23128,40.22077]],[[112.89262,22.90026],[121.48941,31.40527]],[[118.03394,24.48405],[116.23128,40.22077]],[[118.46023,39.27313],[121.48941,31.40527]],[[113.75179,23.02067],[116.23128,40.22077]],[[113.3926,22.51595],[121.48941,31.40527]],[[113.11103,22.56028],[116.23128,40.22077]],[[113.27324,23.15792],[121.48941,31.40527]],[[117.30983,39.71755],[116.23128,40.22077]],[[117.80024,40.95913],[121.48941,31.40527]],[[115.28264,40.97457],[116.23128,40.22077]],[[119.48458,39.83507],[121.48941,31.40527]],[[121.5255,38.95223],[116.23128,40.22077]],[[116.68572,39.50311],[121.48941,31.40527]]],"type":"lines","coordinateSystem":"geo","effect":{"show":true,"constantSpeed":30,"symbol":"pin","symbolSize":3,"trailLength":0},"lineStyle":{"normal":{"width":1,"opacity":0.6,"curveness":0.2}}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="heatmap" class="section level2">
<h2><span class="header-section-number">7.13</span> 热力图heatmap</h2>
<p><a href="http://echarts.baidu.com/option.html#series-heatmap.coordinateSystem">coordinateSystem</a>，heatmap可使用的坐标系，可选：二维的直角坐标系cartesian2d、地理坐标系geo、日历坐标系calendar</p>
<div id="section-7.13.1" class="section level3">
<h3><span class="header-section-number">7.13.1</span> 直角坐标系</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;heatmap&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> fruit, <span class="dt">value =</span> saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>,
    <span class="dt">formatter =</span> <span class="st">&#39;{b}:{c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">20</span>, <span class="dt">max =</span> <span class="dv">100</span>, <span class="dt">type =</span> <span class="st">&#39;piecewise&#39;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">orient =</span> <span class="st">&#39;horizontal&#39;</span>) </code></pre></div>
<div id="htmlwidget-7d3a344d88b2d70420e5" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-7d3a344d88b2d70420e5">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}:{c}"},"xAxis":{"type":"category"},"yAxis":{"type":"category"},"series":[{"group":"group","data":[{"x":"Mon","y":"Apple","value":["Mon","Apple","55"]},{"x":"Tues","y":"Apple","value":["Tues","Apple","21"]},{"x":"Wed","y":"Apple","value":["Wed","Apple","43"]},{"x":"Thurs","y":"Apple","value":["Thurs","Apple","89"]},{"x":"Fri","y":"Apple","value":["Fri","Apple","65"]},{"x":"Sat","y":"Apple","value":["Sat","Apple","86"]},{"x":"Sun","y":"Apple","value":["Sun","Apple","62"]},{"x":"Mon","y":"Pear","value":["Mon","Pear","57"]},{"x":"Tues","y":"Pear","value":["Tues","Pear","51"]},{"x":"Wed","y":"Pear","value":["Wed","Pear","24"]},{"x":"Thurs","y":"Pear","value":["Thurs","Pear","61"]},{"x":"Fri","y":"Pear","value":["Fri","Pear","96"]},{"x":"Sat","y":"Pear","value":["Sat","Pear","43"]},{"x":"Sun","y":"Pear","value":["Sun","Pear","28"]},{"x":"Mon","y":"Banana","value":["Mon","Banana","60"]},{"x":"Tues","y":"Banana","value":["Tues","Banana","31"]},{"x":"Wed","y":"Banana","value":["Wed","Banana","24"]},{"x":"Thurs","y":"Banana","value":["Thurs","Banana","79"]},{"x":"Fri","y":"Banana","value":["Fri","Banana","26"]},{"x":"Sat","y":"Banana","value":["Sat","Banana","70"]},{"x":"Sun","y":"Banana","value":["Sun","Banana","86"]}],"type":"heatmap"}],"visualMap":{"min":20,"max":100,"type":"piecewise","left":"center","orient":"horizontal"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.13.2" class="section level3">
<h3><span class="header-section-number">7.13.2</span> 日历坐标系</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">1000</span>, <span class="dt">type =</span> <span class="st">&#39;piecewise&#39;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">top =</span> <span class="dv">30</span>, <span class="dt">orient =</span> <span class="st">&#39;horizontal&#39;</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_calendar</span>(
    <span class="dt">top =</span> <span class="dv">120</span>, <span class="dt">left =</span> <span class="dv">30</span>, <span class="dt">right =</span> <span class="dv">30</span>, 
    <span class="dt">cellSize =</span> <span class="kw">c</span>(<span class="st">&#39;auto&#39;</span>, <span class="dv">20</span>),
    <span class="dt">range =</span> <span class="kw">c</span>(<span class="st">&#39;2017&#39;</span>)
    <span class="co"># range = c(&#39;2017-01-01&#39;, &#39;2017-06-10&#39;)</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;heatmap&#39;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;calendar&#39;</span>,
    <span class="dt">data =</span> dat_date, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value))</code></pre></div>
<div id="htmlwidget-d732285fef306968947e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d732285fef306968947e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"visualMap":{"min":0,"max":1000,"type":"piecewise","left":"center","top":30,"orient":"horizontal"},"calendar":{"top":120,"left":30,"right":30,"cellSize":["auto","20"],"range":"2017"},"series":[{"group":"group","data":[{"x":"2017-01-01","y":474,"value":["2017-01-01","474"]},{"x":"2017-01-02","y":78,"value":["2017-01-02","78"]},{"x":"2017-01-03","y":271,"value":["2017-01-03","271"]},{"x":"2017-01-04","y":198,"value":["2017-01-04","198"]},{"x":"2017-01-05","y":204,"value":["2017-01-05","204"]},{"x":"2017-01-06","y":149,"value":["2017-01-06","149"]},{"x":"2017-01-07","y":95,"value":["2017-01-07","95"]},{"x":"2017-01-08","y":339,"value":["2017-01-08","339"]},{"x":"2017-01-09","y":80,"value":["2017-01-09","80"]},{"x":"2017-01-10","y":933,"value":["2017-01-10","933"]},{"x":"2017-01-11","y":659,"value":["2017-01-11","659"]},{"x":"2017-01-12","y":791,"value":["2017-01-12","791"]},{"x":"2017-01-13","y":516,"value":["2017-01-13","516"]},{"x":"2017-01-14","y":252,"value":["2017-01-14","252"]},{"x":"2017-01-15","y":117,"value":["2017-01-15","117"]},{"x":"2017-01-16","y":815,"value":["2017-01-16","815"]},{"x":"2017-01-17","y":767,"value":["2017-01-17","767"]},{"x":"2017-01-18","y":546,"value":["2017-01-18","546"]},{"x":"2017-01-19","y":962,"value":["2017-01-19","962"]},{"x":"2017-01-20","y":211,"value":["2017-01-20","211"]},{"x":"2017-01-21","y":32,"value":["2017-01-21","32"]},{"x":"2017-01-22","y":160,"value":["2017-01-22","160"]},{"x":"2017-01-23","y":616,"value":["2017-01-23","616"]},{"x":"2017-01-24","y":532,"value":["2017-01-24","532"]},{"x":"2017-01-25","y":247,"value":["2017-01-25","247"]},{"x":"2017-01-26","y":662,"value":["2017-01-26","662"]},{"x":"2017-01-27","y":74,"value":["2017-01-27","74"]},{"x":"2017-01-28","y":314,"value":["2017-01-28","314"]},{"x":"2017-01-29","y":73,"value":["2017-01-29","73"]},{"x":"2017-01-30","y":171,"value":["2017-01-30","171"]},{"x":"2017-01-31","y":801,"value":["2017-01-31","801"]},{"x":"2017-02-01","y":254,"value":["2017-02-01","254"]},{"x":"2017-02-02","y":0,"value":["2017-02-02","0"]},{"x":"2017-02-03","y":292,"value":["2017-02-03","292"]},{"x":"2017-02-04","y":567,"value":["2017-02-04","567"]},{"x":"2017-02-05","y":431,"value":["2017-02-05","431"]},{"x":"2017-02-06","y":247,"value":["2017-02-06","247"]},{"x":"2017-02-07","y":309,"value":["2017-02-07","309"]},{"x":"2017-02-08","y":281,"value":["2017-02-08","281"]},{"x":"2017-02-09","y":958,"value":["2017-02-09","958"]},{"x":"2017-02-10","y":925,"value":["2017-02-10","925"]},{"x":"2017-02-11","y":680,"value":["2017-02-11","680"]},{"x":"2017-02-12","y":326,"value":["2017-02-12","326"]},{"x":"2017-02-13","y":802,"value":["2017-02-13","802"]},{"x":"2017-02-14","y":829,"value":["2017-02-14","829"]},{"x":"2017-02-15","y":312,"value":["2017-02-15","312"]},{"x":"2017-02-16","y":723,"value":["2017-02-16","723"]},{"x":"2017-02-17","y":412,"value":["2017-02-17","412"]},{"x":"2017-02-18","y":885,"value":["2017-02-18","885"]},{"x":"2017-02-19","y":621,"value":["2017-02-19","621"]},{"x":"2017-02-20","y":125,"value":["2017-02-20","125"]},{"x":"2017-02-21","y":386,"value":["2017-02-21","386"]},{"x":"2017-02-22","y":117,"value":["2017-02-22","117"]},{"x":"2017-02-23","y":844,"value":["2017-02-23","844"]},{"x":"2017-02-24","y":254,"value":["2017-02-24","254"]},{"x":"2017-02-25","y":209,"value":["2017-02-25","209"]},{"x":"2017-02-26","y":135,"value":["2017-02-26","135"]},{"x":"2017-02-27","y":642,"value":["2017-02-27","642"]},{"x":"2017-02-28","y":923,"value":["2017-02-28","923"]},{"x":"2017-03-01","y":636,"value":["2017-03-01","636"]},{"x":"2017-03-02","y":802,"value":["2017-03-02","802"]},{"x":"2017-03-03","y":879,"value":["2017-03-03","879"]},{"x":"2017-03-04","y":496,"value":["2017-03-04","496"]},{"x":"2017-03-05","y":244,"value":["2017-03-05","244"]},{"x":"2017-03-06","y":177,"value":["2017-03-06","177"]},{"x":"2017-03-07","y":621,"value":["2017-03-07","621"]},{"x":"2017-03-08","y":775,"value":["2017-03-08","775"]},{"x":"2017-03-09","y":186,"value":["2017-03-09","186"]},{"x":"2017-03-10","y":169,"value":["2017-03-10","169"]},{"x":"2017-03-11","y":678,"value":["2017-03-11","678"]},{"x":"2017-03-12","y":829,"value":["2017-03-12","829"]},{"x":"2017-03-13","y":221,"value":["2017-03-13","221"]},{"x":"2017-03-14","y":76,"value":["2017-03-14","76"]},{"x":"2017-03-15","y":678,"value":["2017-03-15","678"]},{"x":"2017-03-16","y":676,"value":["2017-03-16","676"]},{"x":"2017-03-17","y":938,"value":["2017-03-17","938"]},{"x":"2017-03-18","y":39,"value":["2017-03-18","39"]},{"x":"2017-03-19","y":494,"value":["2017-03-19","494"]},{"x":"2017-03-20","y":929,"value":["2017-03-20","929"]},{"x":"2017-03-21","y":22,"value":["2017-03-21","22"]},{"x":"2017-03-22","y":10,"value":["2017-03-22","10"]},{"x":"2017-03-23","y":95,"value":["2017-03-23","95"]},{"x":"2017-03-24","y":700,"value":["2017-03-24","700"]},{"x":"2017-03-25","y":762,"value":["2017-03-25","762"]},{"x":"2017-03-26","y":823,"value":["2017-03-26","823"]},{"x":"2017-03-27","y":958,"value":["2017-03-27","958"]},{"x":"2017-03-28","y":74,"value":["2017-03-28","74"]},{"x":"2017-03-29","y":118,"value":["2017-03-29","118"]},{"x":"2017-03-30","y":41,"value":["2017-03-30","41"]},{"x":"2017-03-31","y":93,"value":["2017-03-31","93"]},{"x":"2017-04-01","y":852,"value":["2017-04-01","852"]},{"x":"2017-04-02","y":655,"value":["2017-04-02","655"]},{"x":"2017-04-03","y":546,"value":["2017-04-03","546"]},{"x":"2017-04-04","y":625,"value":["2017-04-04","625"]},{"x":"2017-04-05","y":341,"value":["2017-04-05","341"]},{"x":"2017-04-06","y":476,"value":["2017-04-06","476"]},{"x":"2017-04-07","y":845,"value":["2017-04-07","845"]},{"x":"2017-04-08","y":742,"value":["2017-04-08","742"]},{"x":"2017-04-09","y":694,"value":["2017-04-09","694"]},{"x":"2017-04-10","y":952,"value":["2017-04-10","952"]},{"x":"2017-04-11","y":173,"value":["2017-04-11","173"]},{"x":"2017-04-12","y":693,"value":["2017-04-12","693"]},{"x":"2017-04-13","y":701,"value":["2017-04-13","701"]},{"x":"2017-04-14","y":936,"value":["2017-04-14","936"]},{"x":"2017-04-15","y":123,"value":["2017-04-15","123"]},{"x":"2017-04-16","y":495,"value":["2017-04-16","495"]},{"x":"2017-04-17","y":602,"value":["2017-04-17","602"]},{"x":"2017-04-18","y":565,"value":["2017-04-18","565"]},{"x":"2017-04-19","y":123,"value":["2017-04-19","123"]},{"x":"2017-04-20","y":139,"value":["2017-04-20","139"]},{"x":"2017-04-21","y":673,"value":["2017-04-21","673"]},{"x":"2017-04-22","y":883,"value":["2017-04-22","883"]},{"x":"2017-04-23","y":492,"value":["2017-04-23","492"]},{"x":"2017-04-24","y":578,"value":["2017-04-24","578"]},{"x":"2017-04-25","y":450,"value":["2017-04-25","450"]},{"x":"2017-04-26","y":781,"value":["2017-04-26","781"]},{"x":"2017-04-27","y":204,"value":["2017-04-27","204"]},{"x":"2017-04-28","y":455,"value":["2017-04-28","455"]},{"x":"2017-04-29","y":770,"value":["2017-04-29","770"]},{"x":"2017-04-30","y":415,"value":["2017-04-30","415"]},{"x":"2017-05-01","y":950,"value":["2017-05-01","950"]},{"x":"2017-05-02","y":56,"value":["2017-05-02","56"]},{"x":"2017-05-03","y":612,"value":["2017-05-03","612"]},{"x":"2017-05-04","y":173,"value":["2017-05-04","173"]},{"x":"2017-05-05","y":614,"value":["2017-05-05","614"]},{"x":"2017-05-06","y":363,"value":["2017-05-06","363"]},{"x":"2017-05-07","y":260,"value":["2017-05-07","260"]},{"x":"2017-05-08","y":628,"value":["2017-05-08","628"]},{"x":"2017-05-09","y":134,"value":["2017-05-09","134"]},{"x":"2017-05-10","y":869,"value":["2017-05-10","869"]},{"x":"2017-05-11","y":935,"value":["2017-05-11","935"]},{"x":"2017-05-12","y":396,"value":["2017-05-12","396"]},{"x":"2017-05-13","y":661,"value":["2017-05-13","661"]},{"x":"2017-05-14","y":449,"value":["2017-05-14","449"]},{"x":"2017-05-15","y":465,"value":["2017-05-15","465"]},{"x":"2017-05-16","y":2,"value":["2017-05-16","2"]},{"x":"2017-05-17","y":999,"value":["2017-05-17","999"]},{"x":"2017-05-18","y":0,"value":["2017-05-18","0"]},{"x":"2017-05-19","y":717,"value":["2017-05-19","717"]},{"x":"2017-05-20","y":202,"value":["2017-05-20","202"]},{"x":"2017-05-21","y":365,"value":["2017-05-21","365"]},{"x":"2017-05-22","y":348,"value":["2017-05-22","348"]},{"x":"2017-05-23","y":208,"value":["2017-05-23","208"]},{"x":"2017-05-24","y":594,"value":["2017-05-24","594"]},{"x":"2017-05-25","y":227,"value":["2017-05-25","227"]},{"x":"2017-05-26","y":124,"value":["2017-05-26","124"]},{"x":"2017-05-27","y":141,"value":["2017-05-27","141"]},{"x":"2017-05-28","y":401,"value":["2017-05-28","401"]},{"x":"2017-05-29","y":176,"value":["2017-05-29","176"]},{"x":"2017-05-30","y":11,"value":["2017-05-30","11"]},{"x":"2017-05-31","y":952,"value":["2017-05-31","952"]},{"x":"2017-06-01","y":726,"value":["2017-06-01","726"]},{"x":"2017-06-02","y":796,"value":["2017-06-02","796"]},{"x":"2017-06-03","y":591,"value":["2017-06-03","591"]},{"x":"2017-06-04","y":324,"value":["2017-06-04","324"]},{"x":"2017-06-05","y":747,"value":["2017-06-05","747"]},{"x":"2017-06-06","y":185,"value":["2017-06-06","185"]},{"x":"2017-06-07","y":94,"value":["2017-06-07","94"]},{"x":"2017-06-08","y":268,"value":["2017-06-08","268"]},{"x":"2017-06-09","y":763,"value":["2017-06-09","763"]},{"x":"2017-06-10","y":753,"value":["2017-06-10","753"]},{"x":"2017-06-11","y":908,"value":["2017-06-11","908"]},{"x":"2017-06-12","y":635,"value":["2017-06-12","635"]},{"x":"2017-06-13","y":821,"value":["2017-06-13","821"]},{"x":"2017-06-14","y":725,"value":["2017-06-14","725"]},{"x":"2017-06-15","y":355,"value":["2017-06-15","355"]},{"x":"2017-06-16","y":833,"value":["2017-06-16","833"]},{"x":"2017-06-17","y":374,"value":["2017-06-17","374"]},{"x":"2017-06-18","y":726,"value":["2017-06-18","726"]},{"x":"2017-06-19","y":33,"value":["2017-06-19","33"]},{"x":"2017-06-20","y":355,"value":["2017-06-20","355"]},{"x":"2017-06-21","y":551,"value":["2017-06-21","551"]},{"x":"2017-06-22","y":275,"value":["2017-06-22","275"]},{"x":"2017-06-23","y":827,"value":["2017-06-23","827"]},{"x":"2017-06-24","y":128,"value":["2017-06-24","128"]},{"x":"2017-06-25","y":404,"value":["2017-06-25","404"]},{"x":"2017-06-26","y":880,"value":["2017-06-26","880"]},{"x":"2017-06-27","y":769,"value":["2017-06-27","769"]},{"x":"2017-06-28","y":671,"value":["2017-06-28","671"]},{"x":"2017-06-29","y":394,"value":["2017-06-29","394"]},{"x":"2017-06-30","y":707,"value":["2017-06-30","707"]},{"x":"2017-07-01","y":514,"value":["2017-07-01","514"]},{"x":"2017-07-02","y":843,"value":["2017-07-02","843"]},{"x":"2017-07-03","y":97,"value":["2017-07-03","97"]},{"x":"2017-07-04","y":110,"value":["2017-07-04","110"]},{"x":"2017-07-05","y":147,"value":["2017-07-05","147"]},{"x":"2017-07-06","y":857,"value":["2017-07-06","857"]},{"x":"2017-07-07","y":711,"value":["2017-07-07","711"]},{"x":"2017-07-08","y":719,"value":["2017-07-08","719"]},{"x":"2017-07-09","y":490,"value":["2017-07-09","490"]},{"x":"2017-07-10","y":141,"value":["2017-07-10","141"]},{"x":"2017-07-11","y":220,"value":["2017-07-11","220"]},{"x":"2017-07-12","y":745,"value":["2017-07-12","745"]},{"x":"2017-07-13","y":388,"value":["2017-07-13","388"]},{"x":"2017-07-14","y":941,"value":["2017-07-14","941"]},{"x":"2017-07-15","y":107,"value":["2017-07-15","107"]},{"x":"2017-07-16","y":333,"value":["2017-07-16","333"]},{"x":"2017-07-17","y":740,"value":["2017-07-17","740"]},{"x":"2017-07-18","y":499,"value":["2017-07-18","499"]},{"x":"2017-07-19","y":397,"value":["2017-07-19","397"]},{"x":"2017-07-20","y":955,"value":["2017-07-20","955"]},{"x":"2017-07-21","y":416,"value":["2017-07-21","416"]},{"x":"2017-07-22","y":740,"value":["2017-07-22","740"]},{"x":"2017-07-23","y":857,"value":["2017-07-23","857"]},{"x":"2017-07-24","y":411,"value":["2017-07-24","411"]},{"x":"2017-07-25","y":619,"value":["2017-07-25","619"]},{"x":"2017-07-26","y":815,"value":["2017-07-26","815"]},{"x":"2017-07-27","y":252,"value":["2017-07-27","252"]},{"x":"2017-07-28","y":551,"value":["2017-07-28","551"]},{"x":"2017-07-29","y":18,"value":["2017-07-29","18"]},{"x":"2017-07-30","y":166,"value":["2017-07-30","166"]},{"x":"2017-07-31","y":185,"value":["2017-07-31","185"]},{"x":"2017-08-01","y":57,"value":["2017-08-01","57"]},{"x":"2017-08-02","y":757,"value":["2017-08-02","757"]},{"x":"2017-08-03","y":730,"value":["2017-08-03","730"]},{"x":"2017-08-04","y":257,"value":["2017-08-04","257"]},{"x":"2017-08-05","y":352,"value":["2017-08-05","352"]},{"x":"2017-08-06","y":800,"value":["2017-08-06","800"]},{"x":"2017-08-07","y":982,"value":["2017-08-07","982"]},{"x":"2017-08-08","y":848,"value":["2017-08-08","848"]},{"x":"2017-08-09","y":626,"value":["2017-08-09","626"]},{"x":"2017-08-10","y":682,"value":["2017-08-10","682"]},{"x":"2017-08-11","y":615,"value":["2017-08-11","615"]},{"x":"2017-08-12","y":399,"value":["2017-08-12","399"]},{"x":"2017-08-13","y":684,"value":["2017-08-13","684"]},{"x":"2017-08-14","y":855,"value":["2017-08-14","855"]},{"x":"2017-08-15","y":432,"value":["2017-08-15","432"]},{"x":"2017-08-16","y":83,"value":["2017-08-16","83"]},{"x":"2017-08-17","y":17,"value":["2017-08-17","17"]},{"x":"2017-08-18","y":176,"value":["2017-08-18","176"]},{"x":"2017-08-19","y":164,"value":["2017-08-19","164"]},{"x":"2017-08-20","y":970,"value":["2017-08-20","970"]},{"x":"2017-08-21","y":108,"value":["2017-08-21","108"]},{"x":"2017-08-22","y":391,"value":["2017-08-22","391"]},{"x":"2017-08-23","y":452,"value":["2017-08-23","452"]},{"x":"2017-08-24","y":163,"value":["2017-08-24","163"]},{"x":"2017-08-25","y":525,"value":["2017-08-25","525"]},{"x":"2017-08-26","y":406,"value":["2017-08-26","406"]},{"x":"2017-08-27","y":896,"value":["2017-08-27","896"]},{"x":"2017-08-28","y":323,"value":["2017-08-28","323"]},{"x":"2017-08-29","y":652,"value":["2017-08-29","652"]},{"x":"2017-08-30","y":9,"value":["2017-08-30","9"]},{"x":"2017-08-31","y":143,"value":["2017-08-31","143"]},{"x":"2017-09-01","y":717,"value":["2017-09-01","717"]},{"x":"2017-09-02","y":619,"value":["2017-09-02","619"]},{"x":"2017-09-03","y":941,"value":["2017-09-03","941"]},{"x":"2017-09-04","y":768,"value":["2017-09-04","768"]},{"x":"2017-09-05","y":531,"value":["2017-09-05","531"]},{"x":"2017-09-06","y":581,"value":["2017-09-06","581"]},{"x":"2017-09-07","y":706,"value":["2017-09-07","706"]},{"x":"2017-09-08","y":498,"value":["2017-09-08","498"]},{"x":"2017-09-09","y":375,"value":["2017-09-09","375"]},{"x":"2017-09-10","y":775,"value":["2017-09-10","775"]},{"x":"2017-09-11","y":328,"value":["2017-09-11","328"]},{"x":"2017-09-12","y":357,"value":["2017-09-12","357"]},{"x":"2017-09-13","y":824,"value":["2017-09-13","824"]},{"x":"2017-09-14","y":619,"value":["2017-09-14","619"]},{"x":"2017-09-15","y":304,"value":["2017-09-15","304"]},{"x":"2017-09-16","y":460,"value":["2017-09-16","460"]},{"x":"2017-09-17","y":195,"value":["2017-09-17","195"]},{"x":"2017-09-18","y":295,"value":["2017-09-18","295"]},{"x":"2017-09-19","y":157,"value":["2017-09-19","157"]},{"x":"2017-09-20","y":25,"value":["2017-09-20","25"]},{"x":"2017-09-21","y":617,"value":["2017-09-21","617"]},{"x":"2017-09-22","y":918,"value":["2017-09-22","918"]},{"x":"2017-09-23","y":124,"value":["2017-09-23","124"]},{"x":"2017-09-24","y":111,"value":["2017-09-24","111"]},{"x":"2017-09-25","y":839,"value":["2017-09-25","839"]},{"x":"2017-09-26","y":294,"value":["2017-09-26","294"]},{"x":"2017-09-27","y":169,"value":["2017-09-27","169"]},{"x":"2017-09-28","y":399,"value":["2017-09-28","399"]},{"x":"2017-09-29","y":596,"value":["2017-09-29","596"]},{"x":"2017-09-30","y":78,"value":["2017-09-30","78"]},{"x":"2017-10-01","y":796,"value":["2017-10-01","796"]},{"x":"2017-10-02","y":577,"value":["2017-10-02","577"]},{"x":"2017-10-03","y":822,"value":["2017-10-03","822"]},{"x":"2017-10-04","y":663,"value":["2017-10-04","663"]},{"x":"2017-10-05","y":701,"value":["2017-10-05","701"]},{"x":"2017-10-06","y":735,"value":["2017-10-06","735"]},{"x":"2017-10-07","y":806,"value":["2017-10-07","806"]},{"x":"2017-10-08","y":102,"value":["2017-10-08","102"]},{"x":"2017-10-09","y":744,"value":["2017-10-09","744"]},{"x":"2017-10-10","y":890,"value":["2017-10-10","890"]},{"x":"2017-10-11","y":647,"value":["2017-10-11","647"]},{"x":"2017-10-12","y":647,"value":["2017-10-12","647"]},{"x":"2017-10-13","y":704,"value":["2017-10-13","704"]},{"x":"2017-10-14","y":524,"value":["2017-10-14","524"]},{"x":"2017-10-15","y":568,"value":["2017-10-15","568"]},{"x":"2017-10-16","y":61,"value":["2017-10-16","61"]},{"x":"2017-10-17","y":194,"value":["2017-10-17","194"]},{"x":"2017-10-18","y":337,"value":["2017-10-18","337"]},{"x":"2017-10-19","y":45,"value":["2017-10-19","45"]},{"x":"2017-10-20","y":950,"value":["2017-10-20","950"]},{"x":"2017-10-21","y":873,"value":["2017-10-21","873"]},{"x":"2017-10-22","y":154,"value":["2017-10-22","154"]},{"x":"2017-10-23","y":564,"value":["2017-10-23","564"]},{"x":"2017-10-24","y":273,"value":["2017-10-24","273"]},{"x":"2017-10-25","y":912,"value":["2017-10-25","912"]},{"x":"2017-10-26","y":153,"value":["2017-10-26","153"]},{"x":"2017-10-27","y":937,"value":["2017-10-27","937"]},{"x":"2017-10-28","y":572,"value":["2017-10-28","572"]},{"x":"2017-10-29","y":287,"value":["2017-10-29","287"]},{"x":"2017-10-30","y":353,"value":["2017-10-30","353"]},{"x":"2017-10-31","y":740,"value":["2017-10-31","740"]},{"x":"2017-11-01","y":283,"value":["2017-11-01","283"]},{"x":"2017-11-02","y":625,"value":["2017-11-02","625"]},{"x":"2017-11-03","y":492,"value":["2017-11-03","492"]},{"x":"2017-11-04","y":228,"value":["2017-11-04","228"]},{"x":"2017-11-05","y":207,"value":["2017-11-05","207"]},{"x":"2017-11-06","y":303,"value":["2017-11-06","303"]},{"x":"2017-11-07","y":535,"value":["2017-11-07","535"]},{"x":"2017-11-08","y":696,"value":["2017-11-08","696"]},{"x":"2017-11-09","y":840,"value":["2017-11-09","840"]},{"x":"2017-11-10","y":19,"value":["2017-11-10","19"]},{"x":"2017-11-11","y":127,"value":["2017-11-11","127"]},{"x":"2017-11-12","y":897,"value":["2017-11-12","897"]},{"x":"2017-11-13","y":842,"value":["2017-11-13","842"]},{"x":"2017-11-14","y":199,"value":["2017-11-14","199"]},{"x":"2017-11-15","y":160,"value":["2017-11-15","160"]},{"x":"2017-11-16","y":372,"value":["2017-11-16","372"]},{"x":"2017-11-17","y":936,"value":["2017-11-17","936"]},{"x":"2017-11-18","y":191,"value":["2017-11-18","191"]},{"x":"2017-11-19","y":413,"value":["2017-11-19","413"]},{"x":"2017-11-20","y":409,"value":["2017-11-20","409"]},{"x":"2017-11-21","y":579,"value":["2017-11-21","579"]},{"x":"2017-11-22","y":493,"value":["2017-11-22","493"]},{"x":"2017-11-23","y":577,"value":["2017-11-23","577"]},{"x":"2017-11-24","y":495,"value":["2017-11-24","495"]},{"x":"2017-11-25","y":200,"value":["2017-11-25","200"]},{"x":"2017-11-26","y":120,"value":["2017-11-26","120"]},{"x":"2017-11-27","y":334,"value":["2017-11-27","334"]},{"x":"2017-11-28","y":218,"value":["2017-11-28","218"]},{"x":"2017-11-29","y":580,"value":["2017-11-29","580"]},{"x":"2017-11-30","y":106,"value":["2017-11-30","106"]},{"x":"2017-12-01","y":829,"value":["2017-12-01","829"]},{"x":"2017-12-02","y":215,"value":["2017-12-02","215"]},{"x":"2017-12-03","y":702,"value":["2017-12-03","702"]},{"x":"2017-12-04","y":460,"value":["2017-12-04","460"]},{"x":"2017-12-05","y":584,"value":["2017-12-05","584"]},{"x":"2017-12-06","y":223,"value":["2017-12-06","223"]},{"x":"2017-12-07","y":647,"value":["2017-12-07","647"]},{"x":"2017-12-08","y":11,"value":["2017-12-08","11"]},{"x":"2017-12-09","y":213,"value":["2017-12-09","213"]},{"x":"2017-12-10","y":260,"value":["2017-12-10","260"]},{"x":"2017-12-11","y":710,"value":["2017-12-11","710"]},{"x":"2017-12-12","y":602,"value":["2017-12-12","602"]},{"x":"2017-12-13","y":850,"value":["2017-12-13","850"]},{"x":"2017-12-14","y":570,"value":["2017-12-14","570"]},{"x":"2017-12-15","y":992,"value":["2017-12-15","992"]},{"x":"2017-12-16","y":986,"value":["2017-12-16","986"]},{"x":"2017-12-17","y":684,"value":["2017-12-17","684"]},{"x":"2017-12-18","y":74,"value":["2017-12-18","74"]},{"x":"2017-12-19","y":613,"value":["2017-12-19","613"]},{"x":"2017-12-20","y":866,"value":["2017-12-20","866"]},{"x":"2017-12-21","y":848,"value":["2017-12-21","848"]},{"x":"2017-12-22","y":182,"value":["2017-12-22","182"]},{"x":"2017-12-23","y":203,"value":["2017-12-23","203"]},{"x":"2017-12-24","y":645,"value":["2017-12-24","645"]},{"x":"2017-12-25","y":778,"value":["2017-12-25","778"]},{"x":"2017-12-26","y":171,"value":["2017-12-26","171"]},{"x":"2017-12-27","y":909,"value":["2017-12-27","909"]},{"x":"2017-12-28","y":515,"value":["2017-12-28","515"]},{"x":"2017-12-29","y":814,"value":["2017-12-29","814"]},{"x":"2017-12-30","y":986,"value":["2017-12-30","986"]},{"x":"2017-12-31","y":66,"value":["2017-12-31","66"]}],"type":"heatmap","coordinateSystem":"calendar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.13.3" class="section level3">
<h3><span class="header-section-number">7.13.3</span> 地理坐标系</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">AQI &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/AQI.csv&quot;</span>)
dat_geo &lt;-<span class="st"> </span>AQI <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(城市, lng, lat, AQI) 

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#404a59&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;bottom&#39;</span>,
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">text =</span> <span class="st">&quot;全国主要城市空气质量&quot;</span>,
    <span class="dt">subtext =</span> <span class="st">&quot;data from 真气网&quot;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, 
    <span class="dt">formatter =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">&quot;function (params) {return params.name + &#39; : &#39; + params.value[2];}&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">200</span>,
    <span class="dt">calculable =</span> <span class="ot">TRUE</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>),
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_geo</span>(
    <span class="dt">map =</span> <span class="st">&#39;china&#39;</span>,
    <span class="dt">label =</span> <span class="kw">list</span>(
        <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)),
    <span class="dt">itemStyle =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(
        <span class="dt">areaColor =</span> <span class="st">&#39;#323c48&#39;</span>,
        <span class="dt">borderColor =</span> <span class="st">&#39;#111&#39;</span>),
      <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">areaColor =</span> <span class="st">&#39;#2a333d&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;heatmap&#39;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;geo&#39;</span>,
    <span class="dt">data =</span> dat_geo, <span class="dt">name =</span> <span class="st">&#39;AQI&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> 城市, <span class="dt">x =</span> lng, <span class="dt">y =</span> lat, <span class="dt">value =</span> AQI))</code></pre></div>
<div id="htmlwidget-937e331e5537941bd437" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-937e331e5537941bd437">{"x":{"opt":{"legend":{"show":true,"left":"right","top":"bottom","textStyle":{"color":"#fff"}},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"function (params) {return params.name + ' : ' + params.value[2];}"},"backgroundColor":["#404a59"],"title":{"text":"全国主要城市空气质量","subtext":"data from 真气网","left":"center","textStyle":{"color":"#fff"}},"visualMap":{"min":0,"max":200,"calculable":true,"color":["#d94e5d","#eac736","#50a3ba"],"textStyle":{"color":"#fff"}},"geo":{"map":"china","label":{"emphasis":{"show":false}},"itemStyle":{"normal":{"areaColor":"#323c48","borderColor":"#111"},"emphasis":{"areaColor":"#2a333d"}}},"series":[{"group":"AQI","data":[{"x":88.31104,"y":43.36378,"name":"乌鲁木齐","value":[88.31104,43.36378,175]},{"x":104.10194,"y":30.65984,"name":"成都","value":[104.10194,30.65984,117]},{"x":117.18554,"y":34.28823,"name":"徐州","value":[117.18554,34.28823,114]},{"x":103.71878,"y":36.10396,"name":"兰州","value":[103.71878,36.10396,113]},{"x":108.93425,"y":34.23053,"name":"西安","value":[108.93425,34.23053,110]},{"x":119.59794,"y":31.72322,"name":"常州","value":[119.59794,31.72322,98]},{"x":118.24238,"y":33.96315,"name":"宿迁","value":[118.24238,33.96315,98]},{"x":123.46987,"y":41.80515,"name":"沈阳","value":[123.46987,41.80515,95]},{"x":126.95717,"y":45.54774,"name":"哈尔滨","value":[126.95717,45.54774,94]},{"x":121.48941,"y":31.40527,"name":"上海","value":[121.48941,31.40527,94]},{"x":114.02919,"y":30.58203,"name":"武汉","value":[114.02919,30.58203,93]},{"x":119.43396,"y":32.13188,"name":"镇江","value":[119.43396,32.13188,93]},{"x":119.91284,"y":28.44594,"name":"丽水","value":[119.91284,28.44594,92]},{"x":119.1773,"y":34.84065,"name":"连云港","value":[119.1773,34.84065,92]},{"x":101.76628,"y":36.6502,"name":"西宁","value":[101.76628,36.6502,91]},{"x":119.43157,"y":32.39463,"name":"扬州","value":[119.43157,32.39463,89]},{"x":120.28429,"y":31.52853,"name":"无锡","value":[120.28429,31.52853,89]},{"x":119.88116,"y":32.31841,"name":"泰州","value":[119.88116,32.31841,88]},{"x":120.85737,"y":32.00986,"name":"南通","value":[120.85737,32.00986,88]},{"x":120.63132,"y":31.30227,"name":"苏州","value":[120.63132,31.30227,87]},{"x":125.28845,"y":43.83327,"name":"长春","value":[125.28845,43.83327,87]},{"x":120.78483,"y":30.74744,"name":"嘉兴","value":[120.78483,30.74744,87]},{"x":117.30794,"y":31.79322,"name":"合肥","value":[117.30794,31.79322,85]},{"x":114.49339,"y":36.61853,"name":"邯郸","value":[114.49339,36.61853,84]},{"x":120.49476,"y":30.08189,"name":"绍兴","value":[120.49476,30.08189,83]},{"x":121.84431,"y":29.89889,"name":"宁波","value":[121.84431,29.89889,82]},{"x":114.50713,"y":37.06787,"name":"邢台","value":[114.50713,37.06787,82]},{"x":118.8735,"y":33.29433,"name":"淮安","value":[118.8735,33.29433,80]},{"x":120.50102,"y":33.20107,"name":"盐城","value":[120.50102,33.20107,80]},{"x":120.21201,"y":30.2084,"name":"杭州","value":[120.21201,30.2084,79]},{"x":118.8921,"y":31.32751,"name":"南京","value":[118.8921,31.32751,78]},{"x":106.62304,"y":26.67856,"name":"贵阳","value":[106.62304,26.67856,78]},{"x":106.24284,"y":38.47314,"name":"银川","value":[106.24284,38.47314,77]},{"x":112.48699,"y":37.94036,"name":"太原","value":[112.48699,37.94036,76]},{"x":120.41847,"y":30.84979,"name":"湖州","value":[120.41847,30.84979,75]},{"x":121.26295,"y":28.64965,"name":"台州","value":[121.26295,28.64965,75]},{"x":106.54041,"y":29.40268,"name":"重庆","value":[106.54041,29.40268,75]},{"x":119.69311,"y":29.09914,"name":"金华","value":[119.69311,29.09914,69]},{"x":110.32941,"y":20.02971,"name":"海口","value":[110.32941,20.02971,69]},{"x":120.39629,"y":36.30744,"name":"青岛","value":[120.39629,36.30744,69]},{"x":114.53952,"y":38.03647,"name":"石家庄","value":[114.53952,38.03647,65]},{"x":112.98626,"y":28.25591,"name":"长沙","value":[112.98626,28.25591,64]},{"x":115.89925,"y":28.68503,"name":"南昌","value":[115.89925,28.68503,63]},{"x":116.75199,"y":36.55358,"name":"济南","value":[116.75199,36.55358,63]},{"x":118.87117,"y":28.96864,"name":"衢州","value":[118.87117,28.96864,62]},{"x":113.88308,"y":22.55329,"name":"深圳","value":[113.88308,22.55329,62]},{"x":122.10679,"y":30.01979,"name":"舟山","value":[122.10679,30.01979,61]},{"x":113.6401,"y":34.72468,"name":"郑州","value":[113.6401,34.72468,61]},{"x":102.82147,"y":24.88554,"name":"昆明","value":[102.82147,24.88554,60]},{"x":113.29658,"y":22.20903,"name":"珠海","value":[113.29658,22.20903,58]},{"x":121.1572,"y":27.83616,"name":"温州","value":[121.1572,27.83616,58]},{"x":115.57938,"y":37.55085,"name":"衡水","value":[115.57938,37.55085,58]},{"x":108.27331,"y":22.78129,"name":"南宁","value":[108.27331,22.78129,57]},{"x":116.86622,"y":38.31419,"name":"沧州","value":[116.86622,38.31419,57]},{"x":91.13775,"y":29.65262,"name":"拉萨","value":[91.13775,29.65262,56]},{"x":114.38273,"y":23.08383,"name":"惠州","value":[114.38273,23.08383,55]},{"x":119.27345,"y":26.04769,"name":"福州","value":[119.27345,26.04769,55]},{"x":115.45875,"y":38.87757,"name":"保定","value":[115.45875,38.87757,54]},{"x":112.56706,"y":23.15815,"name":"肇庆","value":[112.56706,23.15815,54]},{"x":111.62299,"y":40.80772,"name":"呼和浩特","value":[111.62299,40.80772,53]},{"x":112.89262,"y":22.90026,"name":"佛山","value":[112.89262,22.90026,52]},{"x":118.03394,"y":24.48405,"name":"厦门","value":[118.03394,24.48405,52]},{"x":118.46023,"y":39.27313,"name":"唐山","value":[118.46023,39.27313,50]},{"x":113.75179,"y":23.02067,"name":"东莞","value":[113.75179,23.02067,50]},{"x":113.3926,"y":22.51595,"name":"中山","value":[113.3926,22.51595,50]},{"x":113.11103,"y":22.56028,"name":"江门","value":[113.11103,22.56028,48]},{"x":113.27324,"y":23.15792,"name":"广州","value":[113.27324,23.15792,46]},{"x":117.30983,"y":39.71755,"name":"天津","value":[117.30983,39.71755,43]},{"x":117.80024,"y":40.95913,"name":"承德","value":[117.80024,40.95913,42]},{"x":115.28264,"y":40.97457,"name":"张家口","value":[115.28264,40.97457,40]},{"x":119.48458,"y":39.83507,"name":"秦皇岛","value":[119.48458,39.83507,40]},{"x":116.23128,"y":40.22077,"name":"北京","value":[116.23128,40.22077,37]},{"x":121.5255,"y":38.95223,"name":"大连","value":[121.5255,38.95223,36]},{"x":116.68572,"y":39.50311,"name":"廊坊","value":[116.68572,39.50311,35]}],"type":"heatmap","coordinateSystem":"geo","name":"AQI"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="themeriver" class="section level2">
<h2><span class="header-section-number">7.14</span> 主题河流图themeRiver</h2>
<p><a href="http://echarts.baidu.com/option.html#series-themeRiver.data">series-themeRiver.data</a></p>
<p>对应mapping的设置为：<code>mapping = ecaes(x, y, group)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_ &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> <span class="kw">rep</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">6</span>,<span class="dv">3</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date, saleNum, fruit)
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_singleAxis</span>(
    <span class="dt">left =</span> <span class="dv">80</span>, <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>), 
    <span class="dt">top =</span> <span class="dv">60</span>, <span class="dt">bottom =</span> <span class="dv">60</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_, <span class="dt">type =</span> <span class="st">&#39;themeRiver&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-b3759539a5023642b59a" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-b3759539a5023642b59a">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"singleAxis":{"left":80,"type":"category","boundaryGap":false,"data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"top":60,"bottom":60},"series":[{"data":[[0,55,"Apple"],[1,21,"Apple"],[2,43,"Apple"],[3,89,"Apple"],[4,65,"Apple"],[5,86,"Apple"],[6,62,"Apple"],[0,57,"Pear"],[1,51,"Pear"],[2,24,"Pear"],[3,61,"Pear"],[4,96,"Pear"],[5,43,"Pear"],[6,28,"Pear"],[0,60,"Banana"],[1,31,"Banana"],[2,24,"Banana"],[3,79,"Banana"],[4,26,"Banana"],[5,70,"Banana"],[6,86,"Banana"]],"type":"themeRiver"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_ &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> <span class="kw">rep</span>(<span class="kw">Sys.Date</span>()<span class="op">+</span><span class="dv">1</span><span class="op">:</span><span class="dv">7</span>,<span class="dv">3</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(date, saleNum, fruit)
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_singleAxis</span>(
    <span class="dt">left =</span> <span class="dv">80</span>, <span class="dt">type =</span> <span class="st">&#39;time&#39;</span>,
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">top =</span> <span class="dv">60</span>, <span class="dt">bottom =</span> <span class="dv">60</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_, <span class="dt">type =</span> <span class="st">&#39;themeRiver&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-d991fefcaf129dddd92e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d991fefcaf129dddd92e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"singleAxis":{"left":80,"type":"time","boundaryGap":false,"top":60,"bottom":60},"series":[{"data":[[1541030400000,55,"Apple"],[1541116800000,21,"Apple"],[1541203200000,43,"Apple"],[1541289600000,89,"Apple"],[1541376000000,65,"Apple"],[1541462400000,86,"Apple"],[1541548800000,62,"Apple"],[1541030400000,57,"Pear"],[1541116800000,51,"Pear"],[1541203200000,24,"Pear"],[1541289600000,61,"Pear"],[1541376000000,96,"Pear"],[1541462400000,43,"Pear"],[1541548800000,28,"Pear"],[1541030400000,60,"Banana"],[1541116800000,31,"Banana"],[1541203200000,24,"Banana"],[1541289600000,79,"Banana"],[1541376000000,26,"Banana"],[1541462400000,70,"Banana"],[1541548800000,86,"Banana"]],"type":"themeRiver"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="radar" class="section level2">
<h2><span class="header-section-number">7.15</span> 雷达图radar</h2>
<p>series-radar.data.value项数组是具体的数据，每个值跟radar.indicator 一一对应。所以需要提前配置ec_radar.indicator</p>
<p>对应mapping的设置为：<code>ecaes(name, value)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_radar</span>(
    <span class="dt">indicator =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Mon&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Tues&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Wed&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Thurs&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Fri&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sat&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sun&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&quot;radar&quot;</span>,
    <span class="dt">data =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;Fruit&quot;</span>, <span class="dt">value =</span> <span class="kw">c</span>(<span class="dv">100</span>,<span class="dv">80</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">20</span>,<span class="dv">60</span>,<span class="dv">70</span>))))</code></pre></div>
<div id="htmlwidget-34a5c72be883d0fc1016" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-34a5c72be883d0fc1016">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"radar":{"indicator":[{"name":"Mon","max":100},{"name":"Tues","max":100},{"name":"Wed","max":100},{"name":"Thurs","max":100},{"name":"Fri","max":100},{"name":"Sat","max":100},{"name":"Sun","max":100}]},"series":{"type":"radar","data":[{"name":"Fruit","value":[100,80,30,40,20,60,70]}]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_radar</span>(
    <span class="dt">indicator =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Mon&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Tues&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Wed&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Thurs&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Fri&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sat&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sun&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;radar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-01c3d77307f2d97a6e8d" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-01c3d77307f2d97a6e8d">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"radar":{"indicator":[{"name":"Mon","max":100},{"name":"Tues","max":100},{"name":"Wed","max":100},{"name":"Thurs","max":100},{"name":"Fri","max":100},{"name":"Sat","max":100},{"name":"Sun","max":100}]},"series":[{"name":"Apple","data":[{"name":"Apple","value":[[55],[21],[43],[89],[65],[86],[62]]}],"type":"radar"},{"name":"Banana","data":[{"name":"Banana","value":[[60],[31],[24],[79],[26],[70],[86]]}],"type":"radar"},{"name":"Pear","data":[{"name":"Pear","value":[[57],[51],[24],[61],[96],[43],[28]]}],"type":"radar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="parallel" class="section level2">
<h2><span class="header-section-number">7.16</span> 平行坐标系parallel</h2>
<p>series-parallel.data.value项数组是具体的数据，每个值跟parallelAxis.dim 一一对应。所以需要提前配置ec_parallelAxis</p>
<p>对应mapping的设置为：<code>ecaes(name, value)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_parallel</span>(
    <span class="dt">left =</span> <span class="st">&#39;5%&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;13%&#39;</span>, <span class="dt">bottom =</span> <span class="st">&#39;10%&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;20%&#39;</span>,
    <span class="dt">parallelAxisDefault =</span> <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;value&#39;</span>,
      <span class="dt">nameLocation =</span> <span class="st">&#39;end&#39;</span>,
      <span class="dt">nameGap =</span> <span class="dv">20</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_parallelAxis</span>(
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">0</span>, <span class="dt">name =</span> <span class="st">&#39;Mon&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">1</span>, <span class="dt">name =</span> <span class="st">&#39;Tues&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">2</span>, <span class="dt">name =</span> <span class="st">&#39;Wed&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">3</span>, <span class="dt">name =</span> <span class="st">&#39;Thurs&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">4</span>, <span class="dt">name =</span> <span class="st">&#39;Fri&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">5</span>, <span class="dt">name =</span> <span class="st">&#39;Sat&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">6</span>, <span class="dt">name =</span> <span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;parallel&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-97b2a233c7f44be4eac4" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-97b2a233c7f44be4eac4">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"parallel":{"left":"5%","right":"13%","bottom":"10%","top":"20%","parallelAxisDefault":{"type":"value","nameLocation":"end","nameGap":20}},"parallelAxis":[{"dim":0,"name":"Mon"},{"dim":1,"name":"Tues"},{"dim":2,"name":"Wed"},{"dim":3,"name":"Thurs"},{"dim":4,"name":"Fri"},{"dim":5,"name":"Sat"},{"dim":6,"name":"Sun"}],"series":[{"name":"Apple","data":[{"name":"Apple","value":[[55],[21],[43],[89],[65],[86],[62]]}],"type":"parallel"},{"name":"Banana","data":[{"name":"Banana","value":[[60],[31],[24],[79],[26],[70],[86]]}],"type":"parallel"},{"name":"Pear","data":[{"name":"Pear","value":[[57],[51],[24],[61],[96],[43],[28]]}],"type":"parallel"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="map" class="section level2">
<h2><span class="header-section-number">7.17</span> 地图map</h2>
<ul>
<li>基础地理分布图：type=‘map’</li>
<li>地理散点图：type=‘scatter’，coordinateSystem=‘geo’，详见散点图scatter</li>
<li>地理流向图：type=‘lines’，coordinateSystem=‘geo’，详见线图lines</li>
</ul>
<div id="section-7.17.1" class="section level3">
<h3><span class="header-section-number">7.17.1</span> 基础地理分布图</h3>
<p>对应mapping的设置为：<code>ecaes(name, value)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">province &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;北京&#39;</span>, <span class="st">&#39;天津&#39;</span>, <span class="st">&#39;上海&#39;</span>, <span class="st">&#39;重庆&#39;</span>, <span class="st">&#39;河北&#39;</span>, <span class="st">&#39;山西&#39;</span>, <span class="st">&#39;辽宁&#39;</span>, <span class="st">&#39;吉林&#39;</span>, <span class="st">&#39;黑龙江&#39;</span>, <span class="st">&#39;江苏&#39;</span>, <span class="st">&#39;浙江&#39;</span>, <span class="st">&#39;安徽&#39;</span>, <span class="st">&#39;福建&#39;</span>, <span class="st">&#39;江西&#39;</span>, <span class="st">&#39;山东&#39;</span>, <span class="st">&#39;河南&#39;</span>, <span class="st">&#39;湖北&#39;</span>, <span class="st">&#39;湖南&#39;</span>, <span class="st">&#39;广东&#39;</span>, <span class="st">&#39;海南&#39;</span>, <span class="st">&#39;四川&#39;</span>, <span class="st">&#39;贵州&#39;</span>, <span class="st">&#39;云南&#39;</span>, <span class="st">&#39;陕西&#39;</span>, <span class="st">&#39;甘肃&#39;</span>, <span class="st">&#39;青海&#39;</span>, <span class="st">&#39;台湾&#39;</span>, <span class="st">&#39;内蒙古&#39;</span>, <span class="st">&#39;广西&#39;</span>, <span class="st">&#39;西藏&#39;</span>, <span class="st">&#39;宁夏&#39;</span>, <span class="st">&#39;新疆&#39;</span>, <span class="st">&#39;香港&#39;</span>, <span class="st">&#39;澳门&#39;</span>)
dat_map &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">name =</span> province,
  <span class="dt">value =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">34</span>, <span class="dv">0</span>, <span class="dv">100</span>), <span class="dv">0</span>), 
  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>
)

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;map&#39;</span>, <span class="dt">mapType =</span> <span class="st">&#39;china&#39;</span>,
    <span class="dt">data =</span> dat_map, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> name, <span class="dt">value =</span> value), 
    <span class="dt">label =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>),
      <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">calculable =</span> <span class="ot">TRUE</span>,
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">100</span>, <span class="dt">text =</span> <span class="kw">c</span>(<span class="st">&quot;高&quot;</span>, <span class="st">&quot;低&quot;</span>),
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>,<span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>)</code></pre></div>
<div id="htmlwidget-b9e98b6f4150021954a1" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-b9e98b6f4150021954a1">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"series":[{"group":"group","data":[{"name":"北京","value":19},{"name":"天津","value":3},{"name":"上海","value":77},{"name":"重庆","value":94},{"name":"河北","value":67},{"name":"山西","value":76},{"name":"辽宁","value":70},{"name":"吉林","value":86},{"name":"黑龙江","value":59},{"name":"江苏","value":92},{"name":"浙江","value":52},{"name":"安徽","value":73},{"name":"福建","value":8},{"name":"江西","value":71},{"name":"山东","value":24},{"name":"河南","value":36},{"name":"湖北","value":64},{"name":"湖南","value":91},{"name":"广东","value":89},{"name":"海南","value":43},{"name":"四川","value":55},{"name":"贵州","value":25},{"name":"云南","value":14},{"name":"陕西","value":34},{"name":"甘肃","value":8},{"name":"青海","value":77},{"name":"台湾","value":24},{"name":"内蒙古","value":93},{"name":"广西","value":68},{"name":"西藏","value":91},{"name":"宁夏","value":42},{"name":"新疆","value":70},{"name":"香港","value":77},{"name":"澳门","value":18}],"type":"map","mapType":"china","label":{"normal":{"show":false},"emphasis":{"show":false}}}],"visualMap":{"calculable":true,"min":0,"max":100,"text":["高","低"],"color":["#d94e5d","#eac736"]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="-1" class="section level3">
<h3><span class="header-section-number">7.17.2</span> 地理散点图</h3>
<p>type=‘scatter’，coordinateSystem=‘geo’，详见散点图scatter</p>
</div>
<div id="section-7.17.3" class="section level3">
<h3><span class="header-section-number">7.17.3</span> 地理流向图</h3>
<p>type=‘lines’，coordinateSystem=‘geo’，详见线图lines</p>
</div>
</div>
<div id="funnel" class="section level2">
<h2><span class="header-section-number">7.18</span> 漏斗图funnel</h2>
<p>对应mapping的设置为：<code>ecaes(name,value)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;funnel&#39;</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum))</code></pre></div>
<div id="htmlwidget-852306fc8acb27de9a18" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-852306fc8acb27de9a18">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"funnel"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="gauge" class="section level2">
<h2><span class="header-section-number">7.19</span> 仪表盘gauge</h2>
<p>对应mapping的设置为：<code>ecaes(value)</code>或<code>ecaes(name,value)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;完成率&#39;</span>, <span class="dt">value =</span> <span class="dv">60</span>)), <span class="dt">type =</span> <span class="st">&#39;gauge&#39;</span>)</code></pre></div>
<div id="htmlwidget-d7c7ab9d3f3fcb3dc367" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d7c7ab9d3f3fcb3dc367">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":{"data":[{"name":"完成率","value":60}],"type":"gauge"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># echart() %&gt;%</span>
<span class="co">#   ec_add_series(</span>
<span class="co">#     data = dat_groupby_weekDay, type = &#39;gauge&#39;,</span>
<span class="co">#     max = max(dat_groupby_weekDay$saleNum),</span>
<span class="co">#     mapping = ecaes(value = saleNum))</span>

## 只显示第一个name
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_groupby_weekDay, <span class="dt">type =</span> <span class="st">&#39;gauge&#39;</span>, 
    <span class="dt">max =</span> <span class="kw">max</span>(dat_groupby_weekDay<span class="op">$</span>saleNum),
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum))</code></pre></div>
<div id="htmlwidget-06586f5d94c4274b9943" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-06586f5d94c4274b9943">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"group":"group","data":[{"name":"Fri","value":187},{"name":"Mon","value":172},{"name":"Sat","value":199},{"name":"Sun","value":176},{"name":"Thurs","value":229},{"name":"Tues","value":103},{"name":"Wed","value":91}],"type":"gauge","max":229}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="tree" class="section level2">
<h2><span class="header-section-number">7.20</span> 树图tree</h2>
<p>series-tree.data.value只在 tooltip 中显示。</p>
<p>树图tree只支持一个顶层parent，如果数据有两个（含）以上的顶层parent，只展示第一个parent，若想展示数据中的多个顶层parent，则需要主动添加一个顶层parent。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_tree, <span class="dt">type =</span> <span class="st">&quot;tree&quot;</span>, <span class="dt">symbolSize =</span> <span class="dv">20</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">parent =</span> parent, <span class="dt">children =</span> child))</code></pre></div>
<div id="htmlwidget-e0cc41cc009885600616" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-e0cc41cc009885600616">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"data":[{"name":"a","children":[{"name":"b","children":[{"name":"d"},{"name":"e"}]},{"name":"c","children":[{"name":"f"},{"name":"g"},{"name":"h"},{"name":"i"}]}]},{"name":"m","children":[{"name":"o"}]},{"name":"n","children":[{"name":"p","children":[{"name":"q","children":[{"name":"r","children":[{"name":"s"}]}]}]}]}],"type":"tree","symbolSize":20}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rootparent &lt;-<span class="st"> </span><span class="cf">function</span>(df){
  parents &lt;-<span class="st"> </span><span class="kw">unique</span>(df[, <span class="dv">1</span>])
  children &lt;-<span class="st"> </span>df[, <span class="dv">2</span>]
  parents_name &lt;-<span class="st"> </span><span class="kw">unique</span>(parents)
  children_name &lt;-<span class="st"> </span><span class="kw">unique</span>(children)
  root_child &lt;-<span class="st"> </span><span class="kw">unique</span>(parents[<span class="op">!</span>(parents <span class="op">%in%</span><span class="st"> </span>children)])
}
root &lt;-<span class="st"> </span><span class="kw">rootparent</span>(dat_tree)
dat_tree_ &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">parent =</span> <span class="st">&quot;Z&quot;</span>, <span class="dt">child =</span> root, <span class="dt">value =</span> <span class="ot">NA</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">rbind</span>(., dat_tree)
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_tree_, <span class="dt">type =</span> <span class="st">&quot;tree&quot;</span>, <span class="dt">symbolSize =</span> <span class="dv">20</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">parent =</span> parent, <span class="dt">children =</span> child))</code></pre></div>
<div id="htmlwidget-e929d703ceee3c23a6a0" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-e929d703ceee3c23a6a0">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"data":[{"name":"Z","children":[{"name":"a","children":[{"name":"b","children":[{"name":"d"},{"name":"e"}]},{"name":"c","children":[{"name":"f"},{"name":"g"},{"name":"h"},{"name":"i"}]}]},{"name":"m","children":[{"name":"o"}]},{"name":"n","children":[{"name":"p","children":[{"name":"q","children":[{"name":"r","children":[{"name":"s"}]}]}]}]}]}],"type":"tree","symbolSize":20}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="treemap" class="section level2">
<h2><span class="header-section-number">7.21</span> 矩形树图treemap</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_tree, <span class="dt">type =</span> <span class="st">&quot;treemap&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">parent =</span> parent, <span class="dt">children =</span> child, <span class="dt">value =</span> value))</code></pre></div>
<div id="htmlwidget-4a3aff74c4de1a3d8bbc" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-4a3aff74c4de1a3d8bbc">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"data":[{"name":"a","children":[{"name":"b","value":20,"children":[{"name":"d","value":3},{"name":"e","value":7}]},{"name":"c","value":10,"children":[{"name":"f","value":1},{"name":"g","value":2},{"name":"h","value":3},{"name":"i","value":4}]}]},{"name":"m","children":[{"name":"o","value":15}]},{"name":"n","children":[{"name":"p","value":5,"children":[{"name":"q","value":5,"children":[{"name":"r","value":5,"children":[{"name":"s","value":5}]}]}]}]}],"type":"treemap"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_tree_, <span class="dt">type =</span> <span class="st">&quot;treemap&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">parent =</span> parent, <span class="dt">children =</span> child, <span class="dt">value =</span> value))</code></pre></div>
<div id="htmlwidget-b51e51856d9ff2795f33" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-b51e51856d9ff2795f33">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"data":[{"name":"Z","children":[{"name":"a","children":[{"name":"b","value":20,"children":[{"name":"d","value":3},{"name":"e","value":7}]},{"name":"c","value":10,"children":[{"name":"f","value":1},{"name":"g","value":2},{"name":"h","value":3},{"name":"i","value":4}]}]},{"name":"m","children":[{"name":"o","value":15}]},{"name":"n","children":[{"name":"p","value":5,"children":[{"name":"q","value":5,"children":[{"name":"r","value":5,"children":[{"name":"s","value":5}]}]}]}]}]}],"type":"treemap"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="sunburst" class="section level2">
<h2><span class="header-section-number">7.22</span> 旭日图sunburst</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_tree, <span class="dt">type =</span> <span class="st">&quot;sunburst&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">parent =</span> parent, <span class="dt">children =</span> child, <span class="dt">value =</span> value))</code></pre></div>
<div id="htmlwidget-f8ba120fcfc7aab922f5" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-f8ba120fcfc7aab922f5">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":[{"data":[{"name":"a","children":[{"name":"b","value":20,"children":[{"name":"d","value":3},{"name":"e","value":7}]},{"name":"c","value":10,"children":[{"name":"f","value":1},{"name":"g","value":2},{"name":"h","value":3},{"name":"i","value":4}]}]},{"name":"m","children":[{"name":"o","value":15}]},{"name":"n","children":[{"name":"p","value":5,"children":[{"name":"q","value":5,"children":[{"name":"r","value":5,"children":[{"name":"s","value":5}]}]}]}]}],"type":"sunburst"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_tree_, <span class="dt">type =</span> <span class="st">&quot;sunburst&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">parent =</span> parent, <span class="dt">children =</span> child, <span class="dt">value =</span> value))</code></pre></div>
<div id="htmlwidget-8eb61df0a4db5d72fc79" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-8eb61df0a4db5d72fc79">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"series":[{"data":[{"name":"Z","children":[{"name":"a","children":[{"name":"b","value":20,"children":[{"name":"d","value":3},{"name":"e","value":7}]},{"name":"c","value":10,"children":[{"name":"f","value":1},{"name":"g","value":2},{"name":"h","value":3},{"name":"i","value":4}]}]},{"name":"m","children":[{"name":"o","value":15}]},{"name":"n","children":[{"name":"p","value":5,"children":[{"name":"q","value":5,"children":[{"name":"r","value":5,"children":[{"name":"s","value":5}]}]}]}]}]}],"type":"sunburst"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="sankey" class="section level2">
<h2><span class="header-section-number">7.23</span> - 桑基图sankey</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_nodes &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">fromJSON</span>(<span class="st">&quot;http://www.echartsjs.com/gallery/data/asset/data/energy.json&quot;</span>)

dat_nodes_nodes &lt;-<span class="st"> </span><span class="kw">ec_list_parse</span>(dat_nodes<span class="op">$</span>nodes)
dat_nodes_links &lt;-<span class="st"> </span><span class="kw">ec_list_parse</span>(dat_nodes<span class="op">$</span>links)

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="kw">list</span>(<span class="dt">data =</span> dat_nodes_nodes, <span class="dt">links =</span> dat_nodes_links, <span class="dt">type =</span> <span class="st">&quot;sankey&quot;</span>))</code></pre></div>
<div id="htmlwidget-d9fa002afdb521040925" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d9fa002afdb521040925">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":{"data":[{"name":"Agricultural 'waste'"},{"name":"Bio-conversion"},{"name":"Liquid"},{"name":"Losses"},{"name":"Solid"},{"name":"Gas"},{"name":"Biofuel imports"},{"name":"Biomass imports"},{"name":"Coal imports"},{"name":"Coal"},{"name":"Coal reserves"},{"name":"District heating"},{"name":"Industry"},{"name":"Heating and cooling - commercial"},{"name":"Heating and cooling - homes"},{"name":"Electricity grid"},{"name":"Over generation / exports"},{"name":"H2 conversion"},{"name":"Road transport"},{"name":"Agriculture"},{"name":"Rail transport"},{"name":"Lighting & appliances - commercial"},{"name":"Lighting & appliances - homes"},{"name":"Gas imports"},{"name":"Ngas"},{"name":"Gas reserves"},{"name":"Thermal generation"},{"name":"Geothermal"},{"name":"H2"},{"name":"Hydro"},{"name":"International shipping"},{"name":"Domestic aviation"},{"name":"International aviation"},{"name":"National navigation"},{"name":"Marine algae"},{"name":"Nuclear"},{"name":"Oil imports"},{"name":"Oil"},{"name":"Oil reserves"},{"name":"Other waste"},{"name":"Pumped heat"},{"name":"Solar PV"},{"name":"Solar Thermal"},{"name":"Solar"},{"name":"Tidal"},{"name":"UK land based bioenergy"},{"name":"Wave"},{"name":"Wind"}],"links":[{"source":"Agricultural 'waste'","target":"Bio-conversion","value":124.729},{"source":"Bio-conversion","target":"Liquid","value":0.597},{"source":"Bio-conversion","target":"Losses","value":26.862},{"source":"Bio-conversion","target":"Solid","value":280.322},{"source":"Bio-conversion","target":"Gas","value":81.144},{"source":"Biofuel imports","target":"Liquid","value":35},{"source":"Biomass imports","target":"Solid","value":35},{"source":"Coal imports","target":"Coal","value":11.606},{"source":"Coal reserves","target":"Coal","value":63.965},{"source":"Coal","target":"Solid","value":75.571},{"source":"District heating","target":"Industry","value":10.639},{"source":"District heating","target":"Heating and cooling - commercial","value":22.505},{"source":"District heating","target":"Heating and cooling - homes","value":46.184},{"source":"Electricity grid","target":"Over generation / exports","value":104.453},{"source":"Electricity grid","target":"Heating and cooling - homes","value":113.726},{"source":"Electricity grid","target":"H2 conversion","value":27.14},{"source":"Electricity grid","target":"Industry","value":342.165},{"source":"Electricity grid","target":"Road transport","value":37.797},{"source":"Electricity grid","target":"Agriculture","value":4.412},{"source":"Electricity grid","target":"Heating and cooling - commercial","value":40.858},{"source":"Electricity grid","target":"Losses","value":56.691},{"source":"Electricity grid","target":"Rail transport","value":7.863},{"source":"Electricity grid","target":"Lighting & appliances - commercial","value":90.008},{"source":"Electricity grid","target":"Lighting & appliances - homes","value":93.494},{"source":"Gas imports","target":"Ngas","value":40.719},{"source":"Gas reserves","target":"Ngas","value":82.233},{"source":"Gas","target":"Heating and cooling - commercial","value":0.129},{"source":"Gas","target":"Losses","value":1.401},{"source":"Gas","target":"Thermal generation","value":151.891},{"source":"Gas","target":"Agriculture","value":2.096},{"source":"Gas","target":"Industry","value":48.58},{"source":"Geothermal","target":"Electricity grid","value":7.013},{"source":"H2 conversion","target":"H2","value":20.897},{"source":"H2 conversion","target":"Losses","value":6.242},{"source":"H2","target":"Road transport","value":20.897},{"source":"Hydro","target":"Electricity grid","value":6.995},{"source":"Liquid","target":"Industry","value":121.066},{"source":"Liquid","target":"International shipping","value":128.69},{"source":"Liquid","target":"Road transport","value":135.835},{"source":"Liquid","target":"Domestic aviation","value":14.458},{"source":"Liquid","target":"International aviation","value":206.267},{"source":"Liquid","target":"Agriculture","value":3.64},{"source":"Liquid","target":"National navigation","value":33.218},{"source":"Liquid","target":"Rail transport","value":4.413},{"source":"Marine algae","target":"Bio-conversion","value":4.375},{"source":"Ngas","target":"Gas","value":122.952},{"source":"Nuclear","target":"Thermal generation","value":839.978},{"source":"Oil imports","target":"Oil","value":504.287},{"source":"Oil reserves","target":"Oil","value":107.703},{"source":"Oil","target":"Liquid","value":611.99},{"source":"Other waste","target":"Solid","value":56.587},{"source":"Other waste","target":"Bio-conversion","value":77.81},{"source":"Pumped heat","target":"Heating and cooling - homes","value":193.026},{"source":"Pumped heat","target":"Heating and cooling - commercial","value":70.672},{"source":"Solar PV","target":"Electricity grid","value":59.901},{"source":"Solar Thermal","target":"Heating and cooling - homes","value":19.263},{"source":"Solar","target":"Solar Thermal","value":19.263},{"source":"Solar","target":"Solar PV","value":59.901},{"source":"Solid","target":"Agriculture","value":0.882},{"source":"Solid","target":"Thermal generation","value":400.12},{"source":"Solid","target":"Industry","value":46.477},{"source":"Thermal generation","target":"Electricity grid","value":525.531},{"source":"Thermal generation","target":"Losses","value":787.129},{"source":"Thermal generation","target":"District heating","value":79.329},{"source":"Tidal","target":"Electricity grid","value":9.452},{"source":"UK land based bioenergy","target":"Bio-conversion","value":182.01},{"source":"Wave","target":"Electricity grid","value":19.013},{"source":"Wind","target":"Electricity grid","value":289.366}],"type":"sankey"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="graph" class="section level2">
<h2><span class="header-section-number">7.24</span> - 关系图graph</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_gexf &lt;-<span class="st"> </span>rgexf<span class="op">::</span><span class="kw">read.gexf</span>(<span class="st">&quot;http://www.echartsjs.com/gallery/data/asset/data/les-miserables.gexf&quot;</span>)

dat_gexf_nodes &lt;-<span class="st"> </span>dat_gexf<span class="op">$</span>nodes <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(id, <span class="dt">name =</span> label) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">category =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">9</span>), <span class="dt">each =</span> <span class="dv">8</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">77</span>]) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="co"># mutate(category = rep(c(paste0(&quot;类目&quot;, 0:9)), 100)[1:77]) %&gt;% </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">symbolSize =</span> <span class="kw">c</span>(<span class="kw">runif</span>(<span class="dv">60</span>, <span class="dv">1</span>, <span class="dv">10</span>), <span class="kw">runif</span>(<span class="dv">17</span>, <span class="dv">10</span>, <span class="dv">20</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_list_parse</span>()
dat_gexf_edges &lt;-<span class="st"> </span>dat_gexf<span class="op">$</span>edges <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(id, source, target, <span class="dt">value =</span> weight) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_list_parse</span>()

categories &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name =</span> <span class="kw">paste0</span>(<span class="st">&quot;类目&quot;</span>, <span class="dv">0</span><span class="op">:</span><span class="dv">9</span>))
categories_ &lt;-<span class="st"> </span><span class="kw">ec_list_parse</span>(categories)
<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># ec_legend(data = categories_) %&gt;% </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="kw">list</span>(<span class="dt">data =</span> dat_gexf_nodes, <span class="dt">links =</span> dat_gexf_edges, <span class="dt">type =</span> <span class="st">&quot;graph&quot;</span>, <span class="dt">layout =</span> <span class="st">&#39;force&#39;</span>, <span class="dt">categories =</span> categories_))</code></pre></div>
<div id="htmlwidget-598a6878972409f480ed" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-598a6878972409f480ed">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"series":{"data":[{"id":"0","name":"Myriel","category":0,"symbolSize":3.71834945329465},{"id":"1","name":"Napoleon","category":0,"symbolSize":6.6977517826017},{"id":"2","name":"MlleBaptistine","category":0,"symbolSize":4.02846553339623},{"id":"3","name":"MmeMagloire","category":0,"symbolSize":8.65691546490416},{"id":"4","name":"CountessDeLo","category":0,"symbolSize":9.94798511709087},{"id":"5","name":"Geborand","category":0,"symbolSize":9.78689207951538},{"id":"6","name":"Champtercier","category":0,"symbolSize":9.81361680338159},{"id":"7","name":"Cravatte","category":0,"symbolSize":1.98529012151994},{"id":"8","name":"Count","category":1,"symbolSize":5.73505447548814},{"id":"9","name":"OldMan","category":1,"symbolSize":7.32771392422728},{"id":"10","name":"Labarre","category":1,"symbolSize":2.96993529959582},{"id":"11","name":"Valjean","category":1,"symbolSize":8.91381549136713},{"id":"12","name":"Marguerite","category":1,"symbolSize":1.37811824679375},{"id":"13","name":"MmeDeR","category":1,"symbolSize":3.40860235295258},{"id":"14","name":"Isabeau","category":1,"symbolSize":9.01631663064472},{"id":"15","name":"Gervais","category":1,"symbolSize":8.29301795712672},{"id":"16","name":"Tholomyes","category":2,"symbolSize":8.32526767114177},{"id":"17","name":"Listolier","category":2,"symbolSize":4.49871309171431},{"id":"18","name":"Fameuil","category":2,"symbolSize":1.46029082546011},{"id":"19","name":"Blacheville","category":2,"symbolSize":9.14117648196407},{"id":"20","name":"Favourite","category":2,"symbolSize":4.48416141420603},{"id":"21","name":"Dahlia","category":2,"symbolSize":4.38427608669735},{"id":"22","name":"Zephine","category":2,"symbolSize":6.19603949226439},{"id":"23","name":"Fantine","category":2,"symbolSize":6.4671518842224},{"id":"24","name":"MmeThenardier","category":3,"symbolSize":2.43270306009799},{"id":"25","name":"Thenardier","category":3,"symbolSize":1.78072934085503},{"id":"26","name":"Cosette","category":3,"symbolSize":4.12859549303539},{"id":"27","name":"Javert","category":3,"symbolSize":6.32580645126291},{"id":"28","name":"Fauchelevent","category":3,"symbolSize":7.64054011250846},{"id":"29","name":"Bamatabois","category":3,"symbolSize":9.36538205062971},{"id":"30","name":"Perpetue","category":3,"symbolSize":2.3276320125442},{"id":"31","name":"Simplice","category":3,"symbolSize":7.14765856368467},{"id":"32","name":"Scaufflaire","category":4,"symbolSize":8.64369646809064},{"id":"33","name":"Woman1","category":4,"symbolSize":2.85996466921642},{"id":"34","name":"Judge","category":4,"symbolSize":2.22948690643534},{"id":"35","name":"Champmathieu","category":4,"symbolSize":3.16923824232072},{"id":"36","name":"Brevet","category":4,"symbolSize":8.1202484946698},{"id":"37","name":"Chenildieu","category":4,"symbolSize":5.06899298564531},{"id":"38","name":"Cochepaille","category":4,"symbolSize":3.30790453194641},{"id":"39","name":"Pontmercy","category":4,"symbolSize":4.11667391844094},{"id":"40","name":"Boulatruelle","category":5,"symbolSize":1.45440391311422},{"id":"41","name":"Eponine","category":5,"symbolSize":9.01971066650003},{"id":"42","name":"Anzelma","category":5,"symbolSize":7.54531996999867},{"id":"43","name":"Woman2","category":5,"symbolSize":7.7700006312225},{"id":"44","name":"MotherInnocent","category":5,"symbolSize":7.12185787130147},{"id":"45","name":"Gribier","category":5,"symbolSize":3.50338413449936},{"id":"46","name":"Jondrette","category":5,"symbolSize":9.85908569023013},{"id":"47","name":"MmeBurgon","category":5,"symbolSize":4.83772958209738},{"id":"48","name":"Gavroche","category":6,"symbolSize":2.19334728107788},{"id":"49","name":"Gillenormand","category":6,"symbolSize":8.85450892685913},{"id":"50","name":"Magnon","category":6,"symbolSize":9.25567418453284},{"id":"51","name":"MlleGillenormand","category":6,"symbolSize":1.28607521648519},{"id":"52","name":"MmePontmercy","category":6,"symbolSize":3.63811693317257},{"id":"53","name":"MlleVaubois","category":6,"symbolSize":9.02233477635309},{"id":"54","name":"LtGillenormand","category":6,"symbolSize":3.17006791452877},{"id":"55","name":"Marius","category":6,"symbolSize":3.87859834101982},{"id":"56","name":"BaronessT","category":7,"symbolSize":7.11169052007608},{"id":"57","name":"Mabeuf","category":7,"symbolSize":9.99503966094926},{"id":"58","name":"Enjolras","category":7,"symbolSize":2.92750220815651},{"id":"59","name":"Combeferre","category":7,"symbolSize":9.85117655154318},{"id":"60","name":"Prouvaire","category":7,"symbolSize":13.9973487565294},{"id":"61","name":"Feuilly","category":7,"symbolSize":13.1050246069208},{"id":"62","name":"Courfeyrac","category":7,"symbolSize":12.4616764485836},{"id":"63","name":"Bahorel","category":7,"symbolSize":19.5831570005976},{"id":"64","name":"Bossuet","category":8,"symbolSize":11.0850687325001},{"id":"65","name":"Joly","category":8,"symbolSize":12.4500801670365},{"id":"66","name":"Grantaire","category":8,"symbolSize":10.3249925514683},{"id":"67","name":"MotherPlutarch","category":8,"symbolSize":10.9804793843068},{"id":"68","name":"Gueulemer","category":8,"symbolSize":15.2368287066929},{"id":"69","name":"Babet","category":8,"symbolSize":19.4891810067929},{"id":"70","name":"Claquesous","category":8,"symbolSize":18.1104258843698},{"id":"71","name":"Montparnasse","category":8,"symbolSize":16.395647500176},{"id":"72","name":"Toussaint","category":9,"symbolSize":13.3076099376194},{"id":"73","name":"Child1","category":9,"symbolSize":17.0599596598186},{"id":"74","name":"Child2","category":9,"symbolSize":13.9471087465063},{"id":"75","name":"Brujon","category":9,"symbolSize":17.3626077710651},{"id":"76","name":"MmeHucheloup","category":9,"symbolSize":19.346958687529}],"links":[{"id":1,"source":"1","target":"0","value":1},{"id":2,"source":"2","target":"0","value":8},{"id":3,"source":"3","target":"0","value":10},{"id":4,"source":"3","target":"2","value":6},{"id":5,"source":"4","target":"0","value":1},{"id":6,"source":"5","target":"0","value":1},{"id":7,"source":"6","target":"0","value":1},{"id":8,"source":"7","target":"0","value":1},{"id":9,"source":"8","target":"0","value":2},{"id":10,"source":"9","target":"0","value":1},{"id":11,"source":"11","target":"0","value":5},{"id":12,"source":"11","target":"2","value":3},{"id":13,"source":"11","target":"3","value":3},{"id":14,"source":"11","target":"10","value":1},{"id":15,"source":"12","target":"11","value":1},{"id":16,"source":"13","target":"11","value":1},{"id":17,"source":"14","target":"11","value":1},{"id":18,"source":"15","target":"11","value":1},{"id":19,"source":"17","target":"16","value":4},{"id":20,"source":"18","target":"16","value":4},{"id":21,"source":"18","target":"17","value":4},{"id":22,"source":"19","target":"16","value":4},{"id":23,"source":"19","target":"17","value":4},{"id":24,"source":"19","target":"18","value":4},{"id":25,"source":"20","target":"16","value":3},{"id":26,"source":"20","target":"17","value":3},{"id":27,"source":"20","target":"18","value":3},{"id":28,"source":"20","target":"19","value":4},{"id":29,"source":"21","target":"16","value":3},{"id":30,"source":"21","target":"17","value":3},{"id":31,"source":"21","target":"18","value":3},{"id":32,"source":"21","target":"19","value":3},{"id":33,"source":"21","target":"20","value":5},{"id":34,"source":"22","target":"16","value":3},{"id":35,"source":"22","target":"17","value":3},{"id":36,"source":"22","target":"18","value":3},{"id":37,"source":"22","target":"19","value":3},{"id":38,"source":"22","target":"20","value":4},{"id":39,"source":"22","target":"21","value":4},{"id":40,"source":"23","target":"11","value":9},{"id":41,"source":"23","target":"12","value":2},{"id":42,"source":"23","target":"16","value":3},{"id":43,"source":"23","target":"17","value":3},{"id":44,"source":"23","target":"18","value":3},{"id":45,"source":"23","target":"19","value":3},{"id":46,"source":"23","target":"20","value":4},{"id":47,"source":"23","target":"21","value":4},{"id":48,"source":"23","target":"22","value":4},{"id":49,"source":"24","target":"11","value":7},{"id":50,"source":"24","target":"23","value":2},{"id":51,"source":"25","target":"11","value":12},{"id":52,"source":"25","target":"23","value":1},{"id":53,"source":"25","target":"24","value":13},{"id":54,"source":"26","target":"11","value":31},{"id":55,"source":"26","target":"16","value":1},{"id":56,"source":"26","target":"24","value":4},{"id":57,"source":"26","target":"25","value":1},{"id":58,"source":"27","target":"11","value":17},{"id":59,"source":"27","target":"23","value":5},{"id":60,"source":"27","target":"24","value":1},{"id":61,"source":"27","target":"25","value":5},{"id":62,"source":"27","target":"26","value":1},{"id":63,"source":"28","target":"11","value":8},{"id":64,"source":"28","target":"27","value":1},{"id":65,"source":"29","target":"11","value":2},{"id":66,"source":"29","target":"23","value":1},{"id":67,"source":"29","target":"27","value":1},{"id":68,"source":"30","target":"23","value":1},{"id":69,"source":"31","target":"11","value":3},{"id":70,"source":"31","target":"23","value":2},{"id":71,"source":"31","target":"27","value":1},{"id":72,"source":"31","target":"30","value":2},{"id":73,"source":"32","target":"11","value":1},{"id":74,"source":"33","target":"11","value":2},{"id":75,"source":"33","target":"27","value":1},{"id":76,"source":"34","target":"11","value":3},{"id":77,"source":"34","target":"29","value":2},{"id":78,"source":"35","target":"11","value":3},{"id":79,"source":"35","target":"29","value":2},{"id":80,"source":"35","target":"34","value":3},{"id":81,"source":"36","target":"11","value":2},{"id":82,"source":"36","target":"29","value":1},{"id":83,"source":"36","target":"34","value":2},{"id":84,"source":"36","target":"35","value":2},{"id":85,"source":"37","target":"11","value":2},{"id":86,"source":"37","target":"29","value":1},{"id":87,"source":"37","target":"34","value":2},{"id":88,"source":"37","target":"35","value":2},{"id":89,"source":"37","target":"36","value":2},{"id":90,"source":"38","target":"11","value":2},{"id":91,"source":"38","target":"29","value":1},{"id":92,"source":"38","target":"34","value":2},{"id":93,"source":"38","target":"35","value":2},{"id":94,"source":"38","target":"36","value":2},{"id":95,"source":"38","target":"37","value":2},{"id":96,"source":"39","target":"25","value":1},{"id":97,"source":"40","target":"25","value":1},{"id":98,"source":"41","target":"24","value":2},{"id":99,"source":"41","target":"25","value":3},{"id":100,"source":"42","target":"24","value":1},{"id":101,"source":"42","target":"25","value":2},{"id":102,"source":"42","target":"41","value":2},{"id":103,"source":"43","target":"11","value":3},{"id":104,"source":"43","target":"26","value":1},{"id":105,"source":"43","target":"27","value":1},{"id":106,"source":"44","target":"11","value":1},{"id":107,"source":"44","target":"28","value":3},{"id":108,"source":"45","target":"28","value":2},{"id":109,"source":"47","target":"46","value":1},{"id":110,"source":"48","target":"11","value":1},{"id":111,"source":"48","target":"25","value":1},{"id":112,"source":"48","target":"27","value":1},{"id":113,"source":"48","target":"47","value":2},{"id":114,"source":"49","target":"11","value":2},{"id":115,"source":"49","target":"26","value":3},{"id":116,"source":"50","target":"24","value":1},{"id":117,"source":"50","target":"49","value":1},{"id":118,"source":"51","target":"11","value":2},{"id":119,"source":"51","target":"26","value":2},{"id":120,"source":"51","target":"49","value":9},{"id":121,"source":"52","target":"39","value":1},{"id":122,"source":"52","target":"51","value":1},{"id":123,"source":"53","target":"51","value":1},{"id":124,"source":"54","target":"26","value":1},{"id":125,"source":"54","target":"49","value":1},{"id":126,"source":"54","target":"51","value":2},{"id":127,"source":"55","target":"11","value":19},{"id":128,"source":"55","target":"16","value":1},{"id":129,"source":"55","target":"25","value":2},{"id":130,"source":"55","target":"26","value":21},{"id":131,"source":"55","target":"39","value":1},{"id":132,"source":"55","target":"41","value":5},{"id":133,"source":"55","target":"48","value":4},{"id":134,"source":"55","target":"49","value":12},{"id":135,"source":"55","target":"51","value":6},{"id":136,"source":"55","target":"54","value":1},{"id":137,"source":"56","target":"49","value":1},{"id":138,"source":"56","target":"55","value":1},{"id":139,"source":"57","target":"41","value":1},{"id":140,"source":"57","target":"48","value":1},{"id":141,"source":"57","target":"55","value":1},{"id":142,"source":"58","target":"11","value":4},{"id":143,"source":"58","target":"27","value":6},{"id":144,"source":"58","target":"48","value":7},{"id":145,"source":"58","target":"55","value":7},{"id":146,"source":"58","target":"57","value":1},{"id":147,"source":"59","target":"48","value":6},{"id":148,"source":"59","target":"55","value":5},{"id":149,"source":"59","target":"57","value":2},{"id":150,"source":"59","target":"58","value":15},{"id":151,"source":"60","target":"48","value":1},{"id":152,"source":"60","target":"58","value":4},{"id":153,"source":"60","target":"59","value":2},{"id":154,"source":"61","target":"48","value":2},{"id":155,"source":"61","target":"55","value":1},{"id":156,"source":"61","target":"57","value":1},{"id":157,"source":"61","target":"58","value":6},{"id":158,"source":"61","target":"59","value":5},{"id":159,"source":"61","target":"60","value":2},{"id":160,"source":"62","target":"41","value":1},{"id":161,"source":"62","target":"48","value":7},{"id":162,"source":"62","target":"55","value":9},{"id":163,"source":"62","target":"57","value":2},{"id":164,"source":"62","target":"58","value":17},{"id":165,"source":"62","target":"59","value":13},{"id":166,"source":"62","target":"60","value":3},{"id":167,"source":"62","target":"61","value":6},{"id":168,"source":"63","target":"48","value":5},{"id":169,"source":"63","target":"55","value":1},{"id":170,"source":"63","target":"57","value":2},{"id":171,"source":"63","target":"58","value":4},{"id":172,"source":"63","target":"59","value":5},{"id":173,"source":"63","target":"60","value":2},{"id":174,"source":"63","target":"61","value":3},{"id":175,"source":"63","target":"62","value":6},{"id":176,"source":"64","target":"11","value":1},{"id":177,"source":"64","target":"48","value":5},{"id":178,"source":"64","target":"55","value":5},{"id":179,"source":"64","target":"57","value":1},{"id":180,"source":"64","target":"58","value":10},{"id":181,"source":"64","target":"59","value":9},{"id":182,"source":"64","target":"60","value":2},{"id":183,"source":"64","target":"61","value":6},{"id":184,"source":"64","target":"62","value":12},{"id":185,"source":"64","target":"63","value":4},{"id":186,"source":"65","target":"48","value":3},{"id":187,"source":"65","target":"55","value":2},{"id":188,"source":"65","target":"57","value":1},{"id":189,"source":"65","target":"58","value":5},{"id":190,"source":"65","target":"59","value":5},{"id":191,"source":"65","target":"60","value":2},{"id":192,"source":"65","target":"61","value":5},{"id":193,"source":"65","target":"62","value":5},{"id":194,"source":"65","target":"63","value":5},{"id":195,"source":"65","target":"64","value":7},{"id":196,"source":"66","target":"48","value":1},{"id":197,"source":"66","target":"58","value":3},{"id":198,"source":"66","target":"59","value":1},{"id":199,"source":"66","target":"60","value":1},{"id":200,"source":"66","target":"61","value":1},{"id":201,"source":"66","target":"62","value":2},{"id":202,"source":"66","target":"63","value":1},{"id":203,"source":"66","target":"64","value":3},{"id":204,"source":"66","target":"65","value":2},{"id":205,"source":"67","target":"57","value":3},{"id":206,"source":"68","target":"11","value":1},{"id":207,"source":"68","target":"24","value":1},{"id":208,"source":"68","target":"25","value":5},{"id":209,"source":"68","target":"27","value":1},{"id":210,"source":"68","target":"41","value":1},{"id":211,"source":"68","target":"48","value":1},{"id":212,"source":"69","target":"11","value":1},{"id":213,"source":"69","target":"24","value":1},{"id":214,"source":"69","target":"25","value":6},{"id":215,"source":"69","target":"27","value":2},{"id":216,"source":"69","target":"41","value":1},{"id":217,"source":"69","target":"48","value":1},{"id":218,"source":"69","target":"68","value":6},{"id":219,"source":"70","target":"11","value":1},{"id":220,"source":"70","target":"24","value":1},{"id":221,"source":"70","target":"25","value":4},{"id":222,"source":"70","target":"27","value":1},{"id":223,"source":"70","target":"41","value":1},{"id":224,"source":"70","target":"58","value":1},{"id":225,"source":"70","target":"68","value":4},{"id":226,"source":"70","target":"69","value":4},{"id":227,"source":"71","target":"11","value":1},{"id":228,"source":"71","target":"25","value":1},{"id":229,"source":"71","target":"27","value":1},{"id":230,"source":"71","target":"41","value":1},{"id":231,"source":"71","target":"48","value":1},{"id":232,"source":"71","target":"68","value":2},{"id":233,"source":"71","target":"69","value":2},{"id":234,"source":"71","target":"70","value":2},{"id":235,"source":"72","target":"11","value":1},{"id":236,"source":"72","target":"26","value":2},{"id":237,"source":"72","target":"27","value":1},{"id":238,"source":"73","target":"48","value":2},{"id":239,"source":"74","target":"48","value":2},{"id":240,"source":"74","target":"73","value":3},{"id":241,"source":"75","target":"25","value":3},{"id":242,"source":"75","target":"41","value":1},{"id":243,"source":"75","target":"48","value":1},{"id":244,"source":"75","target":"68","value":3},{"id":245,"source":"75","target":"69","value":3},{"id":246,"source":"75","target":"70","value":1},{"id":247,"source":"75","target":"71","value":1},{"id":248,"source":"76","target":"48","value":1},{"id":249,"source":"76","target":"58","value":1},{"id":250,"source":"76","target":"62","value":1},{"id":251,"source":"76","target":"63","value":1},{"id":252,"source":"76","target":"64","value":1},{"id":253,"source":"76","target":"65","value":1},{"id":254,"source":"76","target":"66","value":1}],"type":"graph","layout":"force","categories":[{"name":"类目0"},{"name":"类目1"},{"name":"类目2"},{"name":"类目3"},{"name":"类目4"},{"name":"类目5"},{"name":"类目6"},{"name":"类目7"},{"name":"类目8"},{"name":"类目9"}]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="section-7.25" class="section level2">
<h2><span class="header-section-number">7.25</span> 组合</h2>
<p>提前设置好坐标系和坐标轴</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">top =</span> <span class="st">&#39;55%&#39;</span>, <span class="dt">id =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">bottom =</span> <span class="st">&#39;55%&#39;</span>, <span class="dt">id =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, <span class="dt">gridIndex =</span> <span class="dv">0</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, <span class="dt">gridIndex =</span> <span class="dv">1</span>, <span class="dt">id =</span> <span class="dv">1</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>, <span class="dt">gridIndex =</span> <span class="dv">0</span>, <span class="dt">id =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>, <span class="dt">gridIndex =</span> <span class="dv">1</span>, <span class="dt">id =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Pear&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">xAxisIndex =</span> <span class="dv">0</span>, <span class="dt">yAxisIndex =</span> <span class="dv">0</span>, <span class="dt">id =</span> <span class="dv">1</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">!=</span><span class="st"> &#39;Pear&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">xAxisIndex =</span> <span class="dv">1</span>, <span class="dt">yAxisIndex =</span> <span class="dv">1</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-7b2715b9b0757c78ce28" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-7b2715b9b0757c78ce28">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"grid":[{"top":"55%","id":0},{"bottom":"55%","id":1}],"xAxis":[{"type":"category","gridIndex":0,"data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},{"type":"category","gridIndex":1,"id":1,"data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]}],"yAxis":[{"type":"value","gridIndex":0,"id":0},{"type":"value","gridIndex":1,"id":1}],"series":[{"name":"Pear","data":[{"x":"Mon","y":57,"value":["Mon","57"]},{"x":"Tues","y":51,"value":["Tues","51"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":61,"value":["Thurs","61"]},{"x":"Fri","y":96,"value":["Fri","96"]},{"x":"Sat","y":43,"value":["Sat","43"]},{"x":"Sun","y":28,"value":["Sun","28"]}],"type":"line","xAxisIndex":0,"yAxisIndex":0,"id":1},{"name":"Apple","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":21,"value":["Tues","21"]},{"x":"Wed","y":43,"value":["Wed","43"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":65,"value":["Fri","65"]},{"x":"Sat","y":86,"value":["Sat","86"]},{"x":"Sun","y":62,"value":["Sun","62"]}],"type":"bar","xAxisIndex":1,"yAxisIndex":1},{"name":"Banana","data":[{"x":"Mon","y":60,"value":["Mon","60"]},{"x":"Tues","y":31,"value":["Tues","31"]},{"x":"Wed","y":24,"value":["Wed","24"]},{"x":"Thurs","y":79,"value":["Thurs","79"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":70,"value":["Sat","70"]},{"x":"Sun","y":86,"value":["Sun","86"]}],"type":"bar","xAxisIndex":1,"yAxisIndex":1}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="theme.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="advanced.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>

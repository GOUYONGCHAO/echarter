<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>echarter: ECharts的R语言接口</title>
  <meta name="description" content="echarter: ECharts的R语言接口。">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="echarter: ECharts的R语言接口" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="echarter: ECharts的R语言接口。" />
  <meta name="github-repo" content="yihui/bookdown-chinese" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="echarter: ECharts的R语言接口" />
  
  <meta name="twitter:description" content="echarter: ECharts的R语言接口。" />
  

<meta name="author" content="JeevanYue">


<meta name="date" content="2018-10-31">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="examples.html">
<link rel="next" href="echarter.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/echarter/echarts.min.js"></script>
<script src="libs/echarter-binding/echarter.js"></script>
<script src="libs/china/map/china.js"></script>
<script src="libs/dark/dark.js"></script>
<script src="libs/infographic/infographic.js"></script>
<script src="libs/macarons/macarons.js"></script>
<script src="libs/roma/roma.js"></script>
<script src="libs/shine/shine.js"></script>
<script src="libs/vintage/vintage.js"></script>
<script src="libs/star/star.js"></script>
<script src="libs/liquidFill/echarts-liquidfill.min.js"></script>
<script src="libs/wordCloud/echarts-wordcloud.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">echarter: ECharts的R语言接口</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>作者简介</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>2</b> echarter安装</a></li>
<li class="chapter" data-level="3" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>3</b> 官方案例</a></li>
<li class="chapter" data-level="4" data-path="api-ec.html"><a href="api-ec.html"><i class="fa fa-check"></i><b>4</b> API函数</a><ul>
<li class="chapter" data-level="4.1" data-path="api-ec.html"><a href="api-ec.html#section-4.1"><i class="fa fa-check"></i><b>4.1</b> 演示数据</a></li>
<li class="chapter" data-level="4.2" data-path="api-ec.html"><a href="api-ec.html#section-4.2"><i class="fa fa-check"></i><b>4.2</b> 基础组件</a><ul>
<li class="chapter" data-level="4.2.1" data-path="api-ec.html"><a href="api-ec.html#ec_title"><i class="fa fa-check"></i><b>4.2.1</b> ec_title</a></li>
<li class="chapter" data-level="4.2.2" data-path="api-ec.html"><a href="api-ec.html#ec_legend"><i class="fa fa-check"></i><b>4.2.2</b> ec_legend</a></li>
<li class="chapter" data-level="4.2.3" data-path="api-ec.html"><a href="api-ec.html#ec_backgroundcolor"><i class="fa fa-check"></i><b>4.2.3</b> ec_backgroundColor</a></li>
<li class="chapter" data-level="4.2.4" data-path="api-ec.html"><a href="api-ec.html#ec_colors"><i class="fa fa-check"></i><b>4.2.4</b> ec_colors</a></li>
<li class="chapter" data-level="4.2.5" data-path="api-ec.html"><a href="api-ec.html#ec_textstyle"><i class="fa fa-check"></i><b>4.2.5</b> ec_textStyle</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="api-ec.html"><a href="api-ec.html#section-4.3"><i class="fa fa-check"></i><b>4.3</b> 其他组件</a><ul>
<li class="chapter" data-level="4.3.1" data-path="api-ec.html"><a href="api-ec.html#ec_tooltip"><i class="fa fa-check"></i><b>4.3.1</b> ec_tooltip</a></li>
<li class="chapter" data-level="4.3.2" data-path="api-ec.html"><a href="api-ec.html#ec_graphic"><i class="fa fa-check"></i><b>4.3.2</b> ec_graphic</a></li>
<li class="chapter" data-level="4.3.3" data-path="api-ec.html"><a href="api-ec.html#ec_axispointer"><i class="fa fa-check"></i><b>4.3.3</b> ec_axisPointer</a></li>
<li class="chapter" data-level="4.3.4" data-path="api-ec.html"><a href="api-ec.html#ec_toolbox"><i class="fa fa-check"></i><b>4.3.4</b> ec_toolbox</a></li>
<li class="chapter" data-level="4.3.5" data-path="api-ec.html"><a href="api-ec.html#ec_visualmap"><i class="fa fa-check"></i><b>4.3.5</b> ec_visualMap</a></li>
<li class="chapter" data-level="4.3.6" data-path="api-ec.html"><a href="api-ec.html#ec_datazoom"><i class="fa fa-check"></i><b>4.3.6</b> ec_dataZoom</a></li>
<li class="chapter" data-level="4.3.7" data-path="api-ec.html"><a href="api-ec.html#ec_timeline"><i class="fa fa-check"></i><b>4.3.7</b> ec_timeline</a></li>
<li class="chapter" data-level="4.3.8" data-path="api-ec.html"><a href="api-ec.html#ec_brush"><i class="fa fa-check"></i><b>4.3.8</b> ec_brush</a></li>
<li class="chapter" data-level="4.3.9" data-path="api-ec.html"><a href="api-ec.html#ec_mark"><i class="fa fa-check"></i><b>4.3.9</b> ec_mark</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="api-ec.html"><a href="api-ec.html#ec_grid"><i class="fa fa-check"></i><b>4.4</b> 直角坐标系ec_grid</a></li>
<li class="chapter" data-level="4.5" data-path="api-ec.html"><a href="api-ec.html#ec_polar"><i class="fa fa-check"></i><b>4.5</b> 极坐标系ec_polar</a></li>
<li class="chapter" data-level="4.6" data-path="api-ec.html"><a href="api-ec.html#ec_radar"><i class="fa fa-check"></i><b>4.6</b> 雷达坐标系ec_radar</a></li>
<li class="chapter" data-level="4.7" data-path="api-ec.html"><a href="api-ec.html#ec_parallel"><i class="fa fa-check"></i><b>4.7</b> 平行坐标系ec_parallel</a></li>
<li class="chapter" data-level="4.8" data-path="api-ec.html"><a href="api-ec.html#ec_singleaxis"><i class="fa fa-check"></i><b>4.8</b> 单轴坐标系ec_singleAxis</a></li>
<li class="chapter" data-level="4.9" data-path="api-ec.html"><a href="api-ec.html#ec_calendar"><i class="fa fa-check"></i><b>4.9</b> 日历坐标系ec_calendar</a></li>
<li class="chapter" data-level="4.10" data-path="api-ec.html"><a href="api-ec.html#ec_geo"><i class="fa fa-check"></i><b>4.10</b> 地理坐标系ec_geo</a></li>
<li class="chapter" data-level="4.11" data-path="api-ec.html"><a href="api-ec.html#series.data"><i class="fa fa-check"></i><b>4.11</b> series.data</a></li>
<li class="chapter" data-level="4.12" data-path="api-ec.html"><a href="api-ec.html#-ec_dataset"><i class="fa fa-check"></i><b>4.12</b> 数据集: ec_dataset</a><ul>
<li class="chapter" data-level="4.12.1" data-path="api-ec.html"><a href="api-ec.html#id"><i class="fa fa-check"></i><b>4.12.1</b> id</a></li>
<li class="chapter" data-level="4.12.2" data-path="api-ec.html"><a href="api-ec.html#sourcedata"><i class="fa fa-check"></i><b>4.12.2</b> source/data</a></li>
<li class="chapter" data-level="4.12.3" data-path="api-ec.html"><a href="api-ec.html#dimensions"><i class="fa fa-check"></i><b>4.12.3</b> dimensions</a></li>
<li class="chapter" data-level="4.12.4" data-path="api-ec.html"><a href="api-ec.html#sourceheader"><i class="fa fa-check"></i><b>4.12.4</b> sourceHeader</a></li>
<li class="chapter" data-level="4.12.5" data-path="api-ec.html"><a href="api-ec.html#encode"><i class="fa fa-check"></i><b>4.12.5</b> encode</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="api-ec.html"><a href="api-ec.html#ec_add_series"><i class="fa fa-check"></i><b>4.13</b> ec_add_series</a><ul>
<li class="chapter" data-level="4.13.1" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.default"><i class="fa fa-check"></i><b>4.13.1</b> ec_add_series.default</a></li>
<li class="chapter" data-level="4.13.2" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.data.frame"><i class="fa fa-check"></i><b>4.13.2</b> ec_add_series.data.frame</a></li>
<li class="chapter" data-level="4.13.3" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.numeric"><i class="fa fa-check"></i><b>4.13.3</b> ec_add_series.numeric</a></li>
<li class="chapter" data-level="4.13.4" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.character"><i class="fa fa-check"></i><b>4.13.4</b> ec_add_series.character</a></li>
<li class="chapter" data-level="4.13.5" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.ts"><i class="fa fa-check"></i><b>4.13.5</b> ec_add_series.ts</a></li>
<li class="chapter" data-level="4.13.6" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.forecast"><i class="fa fa-check"></i><b>4.13.6</b> ec_add_series.forecast</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="api-ec.html"><a href="api-ec.html#echarter.option"><i class="fa fa-check"></i><b>4.14</b> 全局设置echarter.option</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="echarter.html"><a href="echarter.html"><i class="fa fa-check"></i><b>5</b> echarter</a><ul>
<li class="chapter" data-level="5.1" data-path="echarter.html"><a href="echarter.html#data-frames"><i class="fa fa-check"></i><b>5.1</b> Data Frames</a></li>
<li class="chapter" data-level="5.2" data-path="echarter.html"><a href="echarter.html#numeric-histograms"><i class="fa fa-check"></i><b>5.2</b> Numeric &amp; Histograms</a></li>
<li class="chapter" data-level="5.3" data-path="echarter.html"><a href="echarter.html#densities"><i class="fa fa-check"></i><b>5.3</b> Densities</a></li>
<li class="chapter" data-level="5.4" data-path="echarter.html"><a href="echarter.html#character-factor"><i class="fa fa-check"></i><b>5.4</b> Character &amp; Factor</a></li>
<li class="chapter" data-level="5.5" data-path="echarter.html"><a href="echarter.html#time-series"><i class="fa fa-check"></i><b>5.5</b> Time Series</a></li>
<li class="chapter" data-level="5.6" data-path="echarter.html"><a href="echarter.html#seasonal-decomposition-of-time-series-by-loess"><i class="fa fa-check"></i><b>5.6</b> Seasonal Decomposition of Time Series by Loess</a></li>
<li class="chapter" data-level="5.7" data-path="echarter.html"><a href="echarter.html#forecast-package"><i class="fa fa-check"></i><b>5.7</b> Forecast package</a></li>
<li class="chapter" data-level="5.8" data-path="echarter.html"><a href="echarter.html#igraph"><i class="fa fa-check"></i><b>5.8</b> igraph</a></li>
<li class="chapter" data-level="5.9" data-path="echarter.html"><a href="echarter.html#xts-from-quantmod-package"><i class="fa fa-check"></i><b>5.9</b> xts from quantmod package</a></li>
<li class="chapter" data-level="5.10" data-path="echarter.html"><a href="echarter.html#xts-ohlc-objects"><i class="fa fa-check"></i><b>5.10</b> xts ohlc objects</a></li>
<li class="chapter" data-level="5.11" data-path="echarter.html"><a href="echarter.html#autocovariance-autocorrelation"><i class="fa fa-check"></i><b>5.11</b> Autocovariance &amp; Autocorrelation</a></li>
<li class="chapter" data-level="5.12" data-path="echarter.html"><a href="echarter.html#multivariate-time-series"><i class="fa fa-check"></i><b>5.12</b> Multivariate Time series</a></li>
<li class="chapter" data-level="5.13" data-path="echarter.html"><a href="echarter.html#survival-models"><i class="fa fa-check"></i><b>5.13</b> Survival Models</a></li>
<li class="chapter" data-level="5.14" data-path="echarter.html"><a href="echarter.html#principal-components"><i class="fa fa-check"></i><b>5.14</b> Principal Components</a></li>
<li class="chapter" data-level="5.15" data-path="echarter.html"><a href="echarter.html#matrix"><i class="fa fa-check"></i><b>5.15</b> Matrix</a></li>
<li class="chapter" data-level="5.16" data-path="echarter.html"><a href="echarter.html#distance-matrix"><i class="fa fa-check"></i><b>5.16</b> Distance matrix</a></li>
<li class="chapter" data-level="5.17" data-path="echarter.html"><a href="echarter.html#correlation-matrix"><i class="fa fa-check"></i><b>5.17</b> Correlation matrix</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="theme.html"><a href="theme.html"><i class="fa fa-check"></i><b>6</b> theme</a><ul>
<li class="chapter" data-level="6.1" data-path="theme.html"><a href="theme.html#-1"><i class="fa fa-check"></i><b>6.1</b> 演示数据</a></li>
<li class="chapter" data-level="6.2" data-path="theme.html"><a href="theme.html#dark"><i class="fa fa-check"></i><b>6.2</b> dark</a></li>
<li class="chapter" data-level="6.3" data-path="theme.html"><a href="theme.html#infographic"><i class="fa fa-check"></i><b>6.3</b> infographic</a></li>
<li class="chapter" data-level="6.4" data-path="theme.html"><a href="theme.html#macarons"><i class="fa fa-check"></i><b>6.4</b> macarons</a></li>
<li class="chapter" data-level="6.5" data-path="theme.html"><a href="theme.html#roma"><i class="fa fa-check"></i><b>6.5</b> roma</a></li>
<li class="chapter" data-level="6.6" data-path="theme.html"><a href="theme.html#shine"><i class="fa fa-check"></i><b>6.6</b> shine</a></li>
<li class="chapter" data-level="6.7" data-path="theme.html"><a href="theme.html#vintage"><i class="fa fa-check"></i><b>6.7</b> vintage</a></li>
<li class="chapter" data-level="6.8" data-path="theme.html"><a href="theme.html#js"><i class="fa fa-check"></i><b>6.8</b> 自定义js主题</a></li>
<li class="chapter" data-level="6.9" data-path="theme.html"><a href="theme.html#ec_theme"><i class="fa fa-check"></i><b>6.9</b> 自定义ec_theme</a></li>
<li class="chapter" data-level="6.10" data-path="api-ec.html"><a href="api-ec.html#echarter.option"><i class="fa fa-check"></i><b>6.10</b> 自定义echarter.option</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basic.html"><a href="basic.html"><i class="fa fa-check"></i><b>7</b> 基本图表</a><ul>
<li class="chapter" data-level="7.1" data-path="basic.html"><a href="basic.html#section-7.1"><i class="fa fa-check"></i><b>7.1</b> 基本图表类型</a></li>
<li class="chapter" data-level="7.2" data-path="basic.html"><a href="basic.html#coordinatesystem"><i class="fa fa-check"></i><b>7.2</b> 坐标系coordinateSystem</a></li>
<li class="chapter" data-level="7.3" data-path="basic.html"><a href="basic.html#-2"><i class="fa fa-check"></i><b>7.3</b> 演示数据</a></li>
<li class="chapter" data-level="7.4" data-path="basic.html"><a href="basic.html#line"><i class="fa fa-check"></i><b>7.4</b> 折线图line</a><ul>
<li class="chapter" data-level="7.4.1" data-path="basic.html"><a href="basic.html#section-7.4.1"><i class="fa fa-check"></i><b>7.4.1</b> 基础折线图</a></li>
<li class="chapter" data-level="7.4.2" data-path="basic.html"><a href="basic.html#section-7.4.2"><i class="fa fa-check"></i><b>7.4.2</b> 堆叠折线图</a></li>
<li class="chapter" data-level="7.4.3" data-path="basic.html"><a href="basic.html#section-7.4.3"><i class="fa fa-check"></i><b>7.4.3</b> 光滑曲线图</a></li>
<li class="chapter" data-level="7.4.4" data-path="basic.html"><a href="basic.html#section-7.4.4"><i class="fa fa-check"></i><b>7.4.4</b> 区域图</a></li>
<li class="chapter" data-level="7.4.5" data-path="basic.html"><a href="basic.html#section-7.4.5"><i class="fa fa-check"></i><b>7.4.5</b> 堆叠区域图</a></li>
<li class="chapter" data-level="7.4.6" data-path="basic.html"><a href="basic.html#section-7.4.6"><i class="fa fa-check"></i><b>7.4.6</b> 阶梯线图</a></li>
<li class="chapter" data-level="7.4.7" data-path="basic.html"><a href="basic.html#section-7.4.7"><i class="fa fa-check"></i><b>7.4.7</b> 极坐标双数值轴</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="basic.html"><a href="basic.html#bar"><i class="fa fa-check"></i><b>7.5</b> 柱状图bar</a><ul>
<li class="chapter" data-level="7.5.1" data-path="basic.html"><a href="basic.html#section-7.5.1"><i class="fa fa-check"></i><b>7.5.1</b> 基础柱状图</a></li>
<li class="chapter" data-level="7.5.2" data-path="basic.html"><a href="basic.html#section-7.5.2"><i class="fa fa-check"></i><b>7.5.2</b> 堆叠柱状图</a></li>
<li class="chapter" data-level="7.5.3" data-path="basic.html"><a href="basic.html#section-7.5.3"><i class="fa fa-check"></i><b>7.5.3</b> 条形图</a></li>
<li class="chapter" data-level="7.5.4" data-path="basic.html"><a href="basic.html#section-7.5.4"><i class="fa fa-check"></i><b>7.5.4</b> 堆叠条形图</a></li>
<li class="chapter" data-level="7.5.5" data-path="basic.html"><a href="basic.html#section-7.5.5"><i class="fa fa-check"></i><b>7.5.5</b> 极坐标柱状图</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="basic.html"><a href="basic.html#pie"><i class="fa fa-check"></i><b>7.6</b> 饼图pie</a><ul>
<li class="chapter" data-level="7.6.1" data-path="basic.html"><a href="basic.html#section-7.6.1"><i class="fa fa-check"></i><b>7.6.1</b> 基础饼图</a></li>
<li class="chapter" data-level="7.6.2" data-path="basic.html"><a href="basic.html#section-7.6.2"><i class="fa fa-check"></i><b>7.6.2</b> 环行图</a></li>
<li class="chapter" data-level="7.6.3" data-path="basic.html"><a href="basic.html#section-7.6.3"><i class="fa fa-check"></i><b>7.6.3</b> 嵌套环形图</a></li>
<li class="chapter" data-level="7.6.4" data-path="basic.html"><a href="basic.html#section-7.6.4"><i class="fa fa-check"></i><b>7.6.4</b> 玫瑰图</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="basic.html"><a href="basic.html#scatter"><i class="fa fa-check"></i><b>7.7</b> 散点图scatter</a><ul>
<li class="chapter" data-level="7.7.1" data-path="basic.html"><a href="basic.html#section-7.7.1"><i class="fa fa-check"></i><b>7.7.1</b> 基本散点图</a></li>
<li class="chapter" data-level="7.7.2" data-path="basic.html"><a href="basic.html#bubble"><i class="fa fa-check"></i><b>7.7.2</b> 气泡图Bubble</a></li>
<li class="chapter" data-level="7.7.3" data-path="basic.html"><a href="basic.html#section-7.7.3"><i class="fa fa-check"></i><b>7.7.3</b> 地理散点图</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="basic.html"><a href="basic.html#effectscatter"><i class="fa fa-check"></i><b>7.8</b> 带特效散点图effectScatter</a></li>
<li class="chapter" data-level="7.9" data-path="basic.html"><a href="basic.html#boxplot"><i class="fa fa-check"></i><b>7.9</b> 盒须图/箱线图boxplot</a></li>
<li class="chapter" data-level="7.10" data-path="basic.html"><a href="basic.html#kcandlestick"><i class="fa fa-check"></i><b>7.10</b> k线图candlestick</a><ul>
<li class="chapter" data-level="7.10.1" data-path="basic.html"><a href="basic.html#waterfall"><i class="fa fa-check"></i><b>7.10.1</b> 瀑布图waterfall</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="basic.html"><a href="basic.html#pictorialbar"><i class="fa fa-check"></i><b>7.11</b> 象形柱图pictorialBar</a></li>
<li class="chapter" data-level="7.12" data-path="basic.html"><a href="basic.html#lines"><i class="fa fa-check"></i><b>7.12</b> 线图lines</a></li>
<li class="chapter" data-level="7.13" data-path="basic.html"><a href="basic.html#heatmap"><i class="fa fa-check"></i><b>7.13</b> 热力图heatmap</a><ul>
<li class="chapter" data-level="7.13.1" data-path="basic.html"><a href="basic.html#section-7.13.1"><i class="fa fa-check"></i><b>7.13.1</b> 直角坐标系</a></li>
<li class="chapter" data-level="7.13.2" data-path="basic.html"><a href="basic.html#section-7.13.2"><i class="fa fa-check"></i><b>7.13.2</b> 日历坐标系</a></li>
<li class="chapter" data-level="7.13.3" data-path="basic.html"><a href="basic.html#section-7.13.3"><i class="fa fa-check"></i><b>7.13.3</b> 地理坐标系</a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="basic.html"><a href="basic.html#themeriver"><i class="fa fa-check"></i><b>7.14</b> 主题河流图themeRiver</a></li>
<li class="chapter" data-level="7.15" data-path="basic.html"><a href="basic.html#radar"><i class="fa fa-check"></i><b>7.15</b> 雷达图radar</a></li>
<li class="chapter" data-level="7.16" data-path="basic.html"><a href="basic.html#parallel"><i class="fa fa-check"></i><b>7.16</b> 平行坐标系parallel</a></li>
<li class="chapter" data-level="7.17" data-path="basic.html"><a href="basic.html#map"><i class="fa fa-check"></i><b>7.17</b> 地图map</a><ul>
<li class="chapter" data-level="7.17.1" data-path="basic.html"><a href="basic.html#section-7.17.1"><i class="fa fa-check"></i><b>7.17.1</b> 基础地理分布图</a></li>
<li class="chapter" data-level="7.17.2" data-path="theme.html"><a href="theme.html#-1"><i class="fa fa-check"></i><b>7.17.2</b> 地理散点图</a></li>
<li class="chapter" data-level="7.17.3" data-path="basic.html"><a href="basic.html#section-7.17.3"><i class="fa fa-check"></i><b>7.17.3</b> 地理流向图</a></li>
</ul></li>
<li class="chapter" data-level="7.18" data-path="basic.html"><a href="basic.html#funnel"><i class="fa fa-check"></i><b>7.18</b> 漏斗图funnel</a></li>
<li class="chapter" data-level="7.19" data-path="basic.html"><a href="basic.html#gauge"><i class="fa fa-check"></i><b>7.19</b> 仪表盘gauge</a></li>
<li class="chapter" data-level="7.20" data-path="basic.html"><a href="basic.html#tree"><i class="fa fa-check"></i><b>7.20</b> 树图tree</a></li>
<li class="chapter" data-level="7.21" data-path="basic.html"><a href="basic.html#treemap"><i class="fa fa-check"></i><b>7.21</b> 矩形树图treemap</a></li>
<li class="chapter" data-level="7.22" data-path="basic.html"><a href="basic.html#sunburst"><i class="fa fa-check"></i><b>7.22</b> 旭日图sunburst</a></li>
<li class="chapter" data-level="7.23" data-path="basic.html"><a href="basic.html#sankey"><i class="fa fa-check"></i><b>7.23</b> - 桑基图sankey</a></li>
<li class="chapter" data-level="7.24" data-path="basic.html"><a href="basic.html#graph"><i class="fa fa-check"></i><b>7.24</b> - 关系图graph</a></li>
<li class="chapter" data-level="7.25" data-path="basic.html"><a href="basic.html#section-7.25"><i class="fa fa-check"></i><b>7.25</b> 组合</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="advanced.html"><a href="advanced.html"><i class="fa fa-check"></i><b>8</b> 图表拓展</a><ul>
<li class="chapter" data-level="8.1" data-path="advanced.html"><a href="advanced.html#liquidfill"><i class="fa fa-check"></i><b>8.1</b> 水球图liquidfill</a></li>
<li class="chapter" data-level="8.2" data-path="advanced.html"><a href="advanced.html#wordcloud"><i class="fa fa-check"></i><b>8.2</b> 字符云wordcloud</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>9</b> shiny</a><ul>
<li class="chapter" data-level="9.1" data-path="shiny.html"><a href="shiny.html#section-9.1"><i class="fa fa-check"></i><b>9.1</b> 简单例子</a></li>
<li class="chapter" data-level="9.2" data-path="shiny.html"><a href="shiny.html#shiny"><i class="fa fa-check"></i><b>9.2</b> shiny动态数据</a></li>
<li class="chapter" data-level="9.3" data-path="shiny.html"><a href="shiny.html#shiny-events"><i class="fa fa-check"></i><b>9.3</b> shiny events</a><ul>
<li class="chapter" data-level="9.3.1" data-path="shiny.html"><a href="shiny.html#section-9.3.1"><i class="fa fa-check"></i><b>9.3.1</b> 鼠标事件</a></li>
<li class="chapter" data-level="9.3.2" data-path="shiny.html"><a href="shiny.html#section-9.3.2"><i class="fa fa-check"></i><b>9.3.2</b> 触发图表行为</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="shiny.html"><a href="shiny.html#shiny-toolbox"><i class="fa fa-check"></i><b>9.4</b> shiny toolbox拓展</a></li>
</ul></li>
<li class="appendix"><span><b>附录</b></span></li>
<li class="chapter" data-level="A" data-path="articles.html"><a href="articles.html"><i class="fa fa-check"></i><b>A</b> 参考</a></li>
<li class="divider"></li>
<li><a href="https://github.com/jeevanyue/echarter" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">echarter: ECharts的R语言接口</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="api-ec" class="section level1">
<h1><span class="header-section-number">第 4 章</span> API函数</h1>
<div id="section-4.1" class="section level2">
<h2><span class="header-section-number">4.1</span> 演示数据</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(echarter)

weekDays &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)
dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
 <span class="dt">saleNum =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">21</span>, <span class="dv">20</span>, <span class="dv">100</span>), <span class="dv">0</span>),
 <span class="dt">fruit =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;Apple&quot;</span>, <span class="dv">7</span>), <span class="kw">rep</span>(<span class="st">&quot;Pear&quot;</span>, <span class="dv">7</span>), <span class="kw">rep</span>(<span class="st">&quot;Banana&quot;</span>, <span class="dv">7</span>)),
 <span class="dt">weekDay =</span> <span class="kw">c</span>(<span class="kw">rep</span>(weekDays,<span class="dv">3</span>)),
 <span class="dt">price =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">21</span>, <span class="dv">10</span>, <span class="dv">20</span>), <span class="dv">0</span>),
 <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

dat_list &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>price) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">spread</span>(weekDay, saleNum) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">unite</span>(<span class="st">&quot;value&quot;</span>, <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>))
dat_list<span class="op">$</span>value &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="cf">function</span>(x){
  <span class="kw">as.numeric</span>(<span class="kw">strsplit</span>(dat_list<span class="op">$</span>value, <span class="st">&quot;_&quot;</span>)[[x]])})

## echart从0开始索引
dat_matrix &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">fruit =</span> <span class="kw">as.numeric</span>(<span class="kw">factor</span>(<span class="kw">c</span>(dat<span class="op">$</span>fruit), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>))) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,
  <span class="dt">weekDay =</span> <span class="kw">as.numeric</span>(<span class="kw">factor</span>(<span class="kw">c</span>(dat<span class="op">$</span>weekDay), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>))) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,
  <span class="dt">saleNum =</span> dat<span class="op">$</span>saleNum
) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.matrix</span>()

dat_date &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">date =</span> <span class="kw">as.Date</span>(<span class="st">&#39;2017-01-01&#39;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">364</span>),
  <span class="dt">value =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">365</span>, <span class="dv">0</span>, <span class="dv">1000</span>), <span class="dv">0</span>),
  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

AQI &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/AQI.csv&quot;</span>)
dat_geo &lt;-<span class="st"> </span>AQI <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(城市, lng, lat, AQI) 

opt =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">name =</span> <span class="st">&#39;星期&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">type =</span> <span class="st">&#39;value&#39;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(
    <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>,
      <span class="dt">name =</span> <span class="st">&#39;Apple&#39;</span>,
      <span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">5</span>, <span class="dv">20</span>, <span class="dv">36</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">20</span>)))
)</code></pre></div>
</div>
<div id="section-4.2" class="section level2">
<h2><span class="header-section-number">4.2</span> 基础组件</h2>
<div id="ec_title" class="section level3">
<h3><span class="header-section-number">4.2.1</span> ec_title</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt, <span class="dt">elementId =</span> <span class="st">&quot;ec&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;演示数据&#39;</span>)</code></pre></div>
<div id="ec" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="ec">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"title":{"text":"演示数据"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_legend" class="section level3">
<h3><span class="header-section-number">4.2.2</span> ec_legend</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;right&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Apple&#39;</span>, <span class="dt">icon =</span> <span class="st">&#39;circle&#39;</span>)),
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;contrastColor&#39;</span>)) </code></pre></div>
<div id="htmlwidget-e25dc0820c3a2de909b7" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-e25dc0820c3a2de909b7">{"x":{"opt":{"legend":{"show":true,"top":"middle","right":"right","data":[{"name":"Apple","icon":"circle"}],"textStyle":{"color":"contrastColor"}},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_backgroundcolor" class="section level3">
<h3><span class="header-section-number">4.2.3</span> ec_backgroundColor</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#24273e&#39;</span>))</code></pre></div>
<div id="htmlwidget-1f74e2a0c4ca4655d182" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-1f74e2a0c4ca4655d182">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"backgroundColor":["#24273e"]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_colors" class="section level3">
<h3><span class="header-section-number">4.2.4</span> ec_colors</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_colors</span>(<span class="kw">c</span>(<span class="st">&#39;#247ba0&#39;</span>, <span class="st">&#39;#70c1b3&#39;</span>, <span class="st">&#39;#b2dbbf&#39;</span>))</code></pre></div>
<div id="htmlwidget-eecdb121a5d2a30b39f8" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-eecdb121a5d2a30b39f8">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"color":["#247ba0","#70c1b3","#b2dbbf"]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_textstyle" class="section level3">
<h3><span class="header-section-number">4.2.5</span> ec_textStyle</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#24273e&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_colors</span>(<span class="kw">c</span>(<span class="st">&#39;#247ba0&#39;</span>, <span class="st">&#39;#70c1b3&#39;</span>, <span class="st">&#39;#b2dbbf&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_textStyle</span>(<span class="dt">color =</span> <span class="st">&#39;#ffffff&#39;</span>)</code></pre></div>
<div id="htmlwidget-9e245c6cf4701546e4ed" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-9e245c6cf4701546e4ed">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"backgroundColor":["#24273e"],"color":["#247ba0","#70c1b3","#b2dbbf"],"textStyle":{"color":"#ffffff"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="section-4.3" class="section level2">
<h2><span class="header-section-number">4.3</span> 其他组件</h2>
<div id="ec_tooltip" class="section level3">
<h3><span class="header-section-number">4.3.1</span> ec_tooltip</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>)</code></pre></div>
<div id="htmlwidget-1336d437178d8119986f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-1336d437178d8119986f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_graphic" class="section level3">
<h3><span class="header-section-number">4.3.2</span> ec_graphic</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">graphic_opt &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">type =</span> <span class="st">&#39;group&#39;</span>,
  <span class="dt">rotation =</span> <span class="fl">3.14</span> <span class="op">/</span><span class="st"> </span><span class="dv">4</span>,
  <span class="dt">bounding =</span> <span class="st">&#39;raw&#39;</span>,
  <span class="dt">right =</span> <span class="dv">110</span>,
  <span class="dt">bottom =</span> <span class="dv">110</span>,
  <span class="dt">z =</span> <span class="dv">100</span>,
  <span class="dt">children =</span> <span class="kw">list</span>(
    <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;rect&#39;</span>,
      <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">top =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">z =</span> <span class="dv">100</span>,
      <span class="dt">shape =</span> <span class="kw">list</span>(
        <span class="dt">width =</span> <span class="dv">400</span>,
        <span class="dt">height =</span> <span class="dv">50</span>
      ),
      <span class="dt">style =</span> <span class="kw">list</span>(
        <span class="dt">fill =</span> <span class="st">&#39;rgba(0,0,0,0.3)&#39;</span>
      )
    ),
    <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;text&#39;</span>,
      <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">top =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">z =</span> <span class="dv">100</span>,
      <span class="dt">style =</span> <span class="kw">list</span>(
        <span class="dt">fill =</span> <span class="st">&#39;#fff&#39;</span>,
        <span class="dt">text =</span> <span class="st">&#39;ECHARTER&#39;</span>,
        <span class="dt">font =</span> <span class="st">&#39;bold 26px Microsoft YaHei&#39;</span>
      )
    )
  )
)
<span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_graphic</span>(graphic_opt)</code></pre></div>
<div id="htmlwidget-2b2b8230ab9ef78aaca9" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-2b2b8230ab9ef78aaca9">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"graphic":[{"type":"group","rotation":0.785,"bounding":"raw","right":110,"bottom":110,"z":100,"children":[{"type":"rect","left":"center","top":"center","z":100,"shape":{"width":400,"height":50},"style":{"fill":"rgba(0,0,0,0.3)"}},{"type":"text","left":"center","top":"center","z":100,"style":{"fill":"#fff","text":"ECHARTER","font":"bold 26px Microsoft YaHei"}}]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_axispointer" class="section level3">
<h3><span class="header-section-number">4.3.3</span> ec_axisPointer</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_axisPointer</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>)</code></pre></div>
<div id="htmlwidget-882b3bf201812b3da2ae" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-882b3bf201812b3da2ae">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"axisPointer":{"show":true,"type":"line"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p><a href="http://echarts.baidu.com/option.html#xAxis.axisPointer">xAxis.axisPointer</a></p>
<blockquote>
<p>默认不显示。但是如果 tooltip.trigger 设置为 ‘axis’ 或者 tooltip.axisPointer.type 设置为 ‘cross’，则自动显示 axisPointer。坐标系会自动选择显示显示哪个轴的 axisPointer，也可以使用 tooltip.axisPointer.axis 改变这种选择。</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">axisPointer =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&#39;shadow&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(
    <span class="dt">axisPointer =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>))</code></pre></div>
<div id="htmlwidget-677bb06108eadf747ed8" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-677bb06108eadf747ed8">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"axisPointer":{"show":true,"type":"shadow"}},"yAxis":{"show":true,"type":"value","axisPointer":{"show":true,"type":"line"}},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p><a href="http://echarts.baidu.com/option.html#tooltip.axisPointer">tooltip.axisPointer</a></p>
<blockquote>
<p>tooltip.axisPointer 是配置坐标轴指示器的快捷方式。实际上坐标轴指示器的全部功能，都可以通过轴上的 axisPointer 配置项完成（例如 xAxis.axisPointer 或 angleAxis.axisPointer）。但是使用 tooltip.axisPinter 在简单场景下会更方便一些。 注意： tooltip.axisPointer 中诸配置项的优先级低于轴上的 axisPointer 的配置项。</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">axisPointer =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;cross&#39;</span>))</code></pre></div>
<div id="htmlwidget-e88acea1a0ebc2bea7bb" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-e88acea1a0ebc2bea7bb">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_toolbox" class="section level3">
<h3><span class="header-section-number">4.3.4</span> ec_toolbox</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_toolbox</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">orinent =</span> <span class="st">&#39;horizontal&#39;</span>,
    <span class="dt">feature =</span> <span class="kw">list</span>(
      <span class="dt">dataView =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">readOnly =</span> <span class="ot">TRUE</span>),
      <span class="dt">magicType =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&#39;line&#39;</span>, <span class="st">&#39;bar&#39;</span>, <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;tiled&#39;</span>)),
      <span class="dt">restore =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">brush =</span> <span class="kw">list</span>(),
      <span class="dt">saveAsImage =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>)))</code></pre></div>
<div id="htmlwidget-0e3daf13bfb4ee6584bb" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-0e3daf13bfb4ee6584bb">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"toolbox":{"show":true,"orinent":"horizontal","feature":{"dataView":{"show":true,"readOnly":true},"magicType":{"show":true,"type":["line","bar","stack","tiled"]},"restore":{"show":true},"brush":[],"saveAsImage":{"show":true}}}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p><strong>拓展</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">toolbox_icon_excel &lt;-<span class="st"> &quot;M821.469342 118.206149H205.714155c-48.380541 0-87.963909 39.583368-87.963909 87.965866v615.755187c0 48.380541 39.583368 87.963909 87.963909 87.963909h615.755187c48.380541 0 87.963909-39.583368 87.963909-87.963909V206.170058c0-48.380541-39.583368-87.963909-87.963909-87.963909z m-120.710683 615.755188h-80.487485l-105.726529-171.220078-105.728486 171.220078h-78.896715l148.100104-221.956445-148.156847-221.968185h78.955415l105.726529 171.231817 105.726529-171.018541h80.319212l-149.929587 221.754909 150.09786 221.956445z&quot;</span>

toolbox_js_excel &lt;-<span class="st"> &quot;function (params){console.log(params);alert(&#39;下载Excel&#39;);}&quot;</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_date, <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">name =</span> <span class="st">&quot;date&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;date&#39;</span>), <span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_toolbox</span>(
    <span class="dt">orinent =</span> <span class="st">&#39;horizontal&#39;</span>,
    <span class="dt">feature =</span> <span class="kw">list</span>(
      <span class="dt">dataView =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">readOnly =</span> <span class="ot">TRUE</span>),
      <span class="dt">magicType =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&#39;line&#39;</span>, <span class="st">&#39;bar&#39;</span>, <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;tiled&#39;</span>)),
      <span class="dt">restore =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">saveAsImage =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">myexcel =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">title =</span> <span class="st">&#39;Excel&#39;</span>,
        <span class="dt">icon =</span> toolbox_icon_excel,
        <span class="dt">onclick =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(toolbox_js_excel) 
      )
    )
  )</code></pre></div>
<div id="htmlwidget-72ee8875aef26b582457" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-72ee8875aef26b582457">{"x":{"opt":{"legend":{"show":true,"data":["date"]},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":[{"group":"date","data":[{"x":1483228800000,"y":362,"value":[1483228800000,362]},{"x":1483315200000,"y":426,"value":[1483315200000,426]},{"x":1483401600000,"y":956,"value":[1483401600000,956]},{"x":1483488000000,"y":440,"value":[1483488000000,440]},{"x":1483574400000,"y":84,"value":[1483574400000,84]},{"x":1483660800000,"y":275,"value":[1483660800000,275]},{"x":1483747200000,"y":894,"value":[1483747200000,894]},{"x":1483833600000,"y":928,"value":[1483833600000,928]},{"x":1483920000000,"y":74,"value":[1483920000000,74]},{"x":1484006400000,"y":212,"value":[1484006400000,212]},{"x":1484092800000,"y":829,"value":[1484092800000,829]},{"x":1484179200000,"y":216,"value":[1484179200000,216]},{"x":1484265600000,"y":91,"value":[1484265600000,91]},{"x":1484352000000,"y":552,"value":[1484352000000,552]},{"x":1484438400000,"y":505,"value":[1484438400000,505]},{"x":1484524800000,"y":101,"value":[1484524800000,101]},{"x":1484611200000,"y":595,"value":[1484611200000,595]},{"x":1484697600000,"y":435,"value":[1484697600000,435]},{"x":1484784000000,"y":171,"value":[1484784000000,171]},{"x":1484870400000,"y":172,"value":[1484870400000,172]},{"x":1484956800000,"y":509,"value":[1484956800000,509]},{"x":1485043200000,"y":190,"value":[1485043200000,190]},{"x":1485129600000,"y":671,"value":[1485129600000,671]},{"x":1485216000000,"y":620,"value":[1485216000000,620]},{"x":1485302400000,"y":967,"value":[1485302400000,967]},{"x":1485388800000,"y":540,"value":[1485388800000,540]},{"x":1485475200000,"y":675,"value":[1485475200000,675]},{"x":1485561600000,"y":663,"value":[1485561600000,663]},{"x":1485648000000,"y":535,"value":[1485648000000,535]},{"x":1485734400000,"y":172,"value":[1485734400000,172]},{"x":1485820800000,"y":232,"value":[1485820800000,232]},{"x":1485907200000,"y":948,"value":[1485907200000,948]},{"x":1485993600000,"y":5,"value":[1485993600000,5]},{"x":1486080000000,"y":505,"value":[1486080000000,505]},{"x":1486166400000,"y":171,"value":[1486166400000,171]},{"x":1486252800000,"y":240,"value":[1486252800000,240]},{"x":1486339200000,"y":635,"value":[1486339200000,635]},{"x":1486425600000,"y":681,"value":[1486425600000,681]},{"x":1486512000000,"y":402,"value":[1486512000000,402]},{"x":1486598400000,"y":483,"value":[1486598400000,483]},{"x":1486684800000,"y":690,"value":[1486684800000,690]},{"x":1486771200000,"y":383,"value":[1486771200000,383]},{"x":1486857600000,"y":31,"value":[1486857600000,31]},{"x":1486944000000,"y":917,"value":[1486944000000,917]},{"x":1487030400000,"y":872,"value":[1487030400000,872]},{"x":1487116800000,"y":456,"value":[1487116800000,456]},{"x":1487203200000,"y":494,"value":[1487203200000,494]},{"x":1487289600000,"y":846,"value":[1487289600000,846]},{"x":1487376000000,"y":908,"value":[1487376000000,908]},{"x":1487462400000,"y":541,"value":[1487462400000,541]},{"x":1487548800000,"y":808,"value":[1487548800000,808]},{"x":1487635200000,"y":632,"value":[1487635200000,632]},{"x":1487721600000,"y":626,"value":[1487721600000,626]},{"x":1487808000000,"y":919,"value":[1487808000000,919]},{"x":1487894400000,"y":760,"value":[1487894400000,760]},{"x":1487980800000,"y":744,"value":[1487980800000,744]},{"x":1488067200000,"y":655,"value":[1488067200000,655]},{"x":1488153600000,"y":733,"value":[1488153600000,733]},{"x":1488240000000,"y":55,"value":[1488240000000,55]},{"x":1488326400000,"y":242,"value":[1488326400000,242]},{"x":1488412800000,"y":687,"value":[1488412800000,687]},{"x":1488499200000,"y":77,"value":[1488499200000,77]},{"x":1488585600000,"y":749,"value":[1488585600000,749]},{"x":1488672000000,"y":706,"value":[1488672000000,706]},{"x":1488758400000,"y":931,"value":[1488758400000,931]},{"x":1488844800000,"y":397,"value":[1488844800000,397]},{"x":1488931200000,"y":517,"value":[1488931200000,517]},{"x":1489017600000,"y":731,"value":[1489017600000,731]},{"x":1489104000000,"y":447,"value":[1489104000000,447]},{"x":1489190400000,"y":932,"value":[1489190400000,932]},{"x":1489276800000,"y":533,"value":[1489276800000,533]},{"x":1489363200000,"y":460,"value":[1489363200000,460]},{"x":1489449600000,"y":682,"value":[1489449600000,682]},{"x":1489536000000,"y":949,"value":[1489536000000,949]},{"x":1489622400000,"y":421,"value":[1489622400000,421]},{"x":1489708800000,"y":347,"value":[1489708800000,347]},{"x":1489795200000,"y":143,"value":[1489795200000,143]},{"x":1489881600000,"y":341,"value":[1489881600000,341]},{"x":1489968000000,"y":359,"value":[1489968000000,359]},{"x":1490054400000,"y":720,"value":[1490054400000,720]},{"x":1490140800000,"y":876,"value":[1490140800000,876]},{"x":1490227200000,"y":95,"value":[1490227200000,95]},{"x":1490313600000,"y":543,"value":[1490313600000,543]},{"x":1490400000000,"y":520,"value":[1490400000000,520]},{"x":1490486400000,"y":583,"value":[1490486400000,583]},{"x":1490572800000,"y":454,"value":[1490572800000,454]},{"x":1490659200000,"y":564,"value":[1490659200000,564]},{"x":1490745600000,"y":323,"value":[1490745600000,323]},{"x":1490832000000,"y":162,"value":[1490832000000,162]},{"x":1490918400000,"y":937,"value":[1490918400000,937]},{"x":1491004800000,"y":735,"value":[1491004800000,735]},{"x":1491091200000,"y":998,"value":[1491091200000,998]},{"x":1491177600000,"y":821,"value":[1491177600000,821]},{"x":1491264000000,"y":821,"value":[1491264000000,821]},{"x":1491350400000,"y":737,"value":[1491350400000,737]},{"x":1491436800000,"y":926,"value":[1491436800000,926]},{"x":1491523200000,"y":935,"value":[1491523200000,935]},{"x":1491609600000,"y":823,"value":[1491609600000,823]},{"x":1491696000000,"y":252,"value":[1491696000000,252]},{"x":1491782400000,"y":895,"value":[1491782400000,895]},{"x":1491868800000,"y":992,"value":[1491868800000,992]},{"x":1491955200000,"y":406,"value":[1491955200000,406]},{"x":1492041600000,"y":599,"value":[1492041600000,599]},{"x":1492128000000,"y":183,"value":[1492128000000,183]},{"x":1492214400000,"y":815,"value":[1492214400000,815]},{"x":1492300800000,"y":58,"value":[1492300800000,58]},{"x":1492387200000,"y":544,"value":[1492387200000,544]},{"x":1492473600000,"y":797,"value":[1492473600000,797]},{"x":1492560000000,"y":587,"value":[1492560000000,587]},{"x":1492646400000,"y":480,"value":[1492646400000,480]},{"x":1492732800000,"y":952,"value":[1492732800000,952]},{"x":1492819200000,"y":745,"value":[1492819200000,745]},{"x":1492905600000,"y":289,"value":[1492905600000,289]},{"x":1492992000000,"y":525,"value":[1492992000000,525]},{"x":1493078400000,"y":792,"value":[1493078400000,792]},{"x":1493164800000,"y":337,"value":[1493164800000,337]},{"x":1493251200000,"y":609,"value":[1493251200000,609]},{"x":1493337600000,"y":524,"value":[1493337600000,524]},{"x":1493424000000,"y":624,"value":[1493424000000,624]},{"x":1493510400000,"y":9,"value":[1493510400000,9]},{"x":1493596800000,"y":111,"value":[1493596800000,111]},{"x":1493683200000,"y":727,"value":[1493683200000,727]},{"x":1493769600000,"y":548,"value":[1493769600000,548]},{"x":1493856000000,"y":157,"value":[1493856000000,157]},{"x":1493942400000,"y":545,"value":[1493942400000,545]},{"x":1494028800000,"y":624,"value":[1494028800000,624]},{"x":1494115200000,"y":511,"value":[1494115200000,511]},{"x":1494201600000,"y":476,"value":[1494201600000,476]},{"x":1494288000000,"y":673,"value":[1494288000000,673]},{"x":1494374400000,"y":26,"value":[1494374400000,26]},{"x":1494460800000,"y":768,"value":[1494460800000,768]},{"x":1494547200000,"y":321,"value":[1494547200000,321]},{"x":1494633600000,"y":563,"value":[1494633600000,563]},{"x":1494720000000,"y":712,"value":[1494720000000,712]},{"x":1494806400000,"y":550,"value":[1494806400000,550]},{"x":1494892800000,"y":772,"value":[1494892800000,772]},{"x":1494979200000,"y":775,"value":[1494979200000,775]},{"x":1495065600000,"y":355,"value":[1495065600000,355]},{"x":1495152000000,"y":987,"value":[1495152000000,987]},{"x":1495238400000,"y":418,"value":[1495238400000,418]},{"x":1495324800000,"y":631,"value":[1495324800000,631]},{"x":1495411200000,"y":525,"value":[1495411200000,525]},{"x":1495497600000,"y":263,"value":[1495497600000,263]},{"x":1495584000000,"y":110,"value":[1495584000000,110]},{"x":1495670400000,"y":483,"value":[1495670400000,483]},{"x":1495756800000,"y":883,"value":[1495756800000,883]},{"x":1495843200000,"y":730,"value":[1495843200000,730]},{"x":1495929600000,"y":798,"value":[1495929600000,798]},{"x":1496016000000,"y":8,"value":[1496016000000,8]},{"x":1496102400000,"y":57,"value":[1496102400000,57]},{"x":1496188800000,"y":242,"value":[1496188800000,242]},{"x":1496275200000,"y":871,"value":[1496275200000,871]},{"x":1496361600000,"y":736,"value":[1496361600000,736]},{"x":1496448000000,"y":829,"value":[1496448000000,829]},{"x":1496534400000,"y":363,"value":[1496534400000,363]},{"x":1496620800000,"y":312,"value":[1496620800000,312]},{"x":1496707200000,"y":61,"value":[1496707200000,61]},{"x":1496793600000,"y":475,"value":[1496793600000,475]},{"x":1496880000000,"y":455,"value":[1496880000000,455]},{"x":1496966400000,"y":627,"value":[1496966400000,627]},{"x":1497052800000,"y":837,"value":[1497052800000,837]},{"x":1497139200000,"y":129,"value":[1497139200000,129]},{"x":1497225600000,"y":857,"value":[1497225600000,857]},{"x":1497312000000,"y":733,"value":[1497312000000,733]},{"x":1497398400000,"y":535,"value":[1497398400000,535]},{"x":1497484800000,"y":668,"value":[1497484800000,668]},{"x":1497571200000,"y":8,"value":[1497571200000,8]},{"x":1497657600000,"y":157,"value":[1497657600000,157]},{"x":1497744000000,"y":659,"value":[1497744000000,659]},{"x":1497830400000,"y":445,"value":[1497830400000,445]},{"x":1497916800000,"y":954,"value":[1497916800000,954]},{"x":1498003200000,"y":364,"value":[1498003200000,364]},{"x":1498089600000,"y":346,"value":[1498089600000,346]},{"x":1498176000000,"y":25,"value":[1498176000000,25]},{"x":1498262400000,"y":769,"value":[1498262400000,769]},{"x":1498348800000,"y":423,"value":[1498348800000,423]},{"x":1498435200000,"y":96,"value":[1498435200000,96]},{"x":1498521600000,"y":430,"value":[1498521600000,430]},{"x":1498608000000,"y":545,"value":[1498608000000,545]},{"x":1498694400000,"y":903,"value":[1498694400000,903]},{"x":1498780800000,"y":370,"value":[1498780800000,370]},{"x":1498867200000,"y":881,"value":[1498867200000,881]},{"x":1498953600000,"y":556,"value":[1498953600000,556]},{"x":1499040000000,"y":506,"value":[1499040000000,506]},{"x":1499126400000,"y":122,"value":[1499126400000,122]},{"x":1499212800000,"y":823,"value":[1499212800000,823]},{"x":1499299200000,"y":618,"value":[1499299200000,618]},{"x":1499385600000,"y":526,"value":[1499385600000,526]},{"x":1499472000000,"y":188,"value":[1499472000000,188]},{"x":1499558400000,"y":387,"value":[1499558400000,387]},{"x":1499644800000,"y":285,"value":[1499644800000,285]},{"x":1499731200000,"y":32,"value":[1499731200000,32]},{"x":1499817600000,"y":852,"value":[1499817600000,852]},{"x":1499904000000,"y":165,"value":[1499904000000,165]},{"x":1499990400000,"y":431,"value":[1499990400000,431]},{"x":1500076800000,"y":629,"value":[1500076800000,629]},{"x":1500163200000,"y":254,"value":[1500163200000,254]},{"x":1500249600000,"y":115,"value":[1500249600000,115]},{"x":1500336000000,"y":133,"value":[1500336000000,133]},{"x":1500422400000,"y":239,"value":[1500422400000,239]},{"x":1500508800000,"y":947,"value":[1500508800000,947]},{"x":1500595200000,"y":210,"value":[1500595200000,210]},{"x":1500681600000,"y":364,"value":[1500681600000,364]},{"x":1500768000000,"y":591,"value":[1500768000000,591]},{"x":1500854400000,"y":375,"value":[1500854400000,375]},{"x":1500940800000,"y":200,"value":[1500940800000,200]},{"x":1501027200000,"y":207,"value":[1501027200000,207]},{"x":1501113600000,"y":808,"value":[1501113600000,808]},{"x":1501200000000,"y":972,"value":[1501200000000,972]},{"x":1501286400000,"y":478,"value":[1501286400000,478]},{"x":1501372800000,"y":869,"value":[1501372800000,869]},{"x":1501459200000,"y":895,"value":[1501459200000,895]},{"x":1501545600000,"y":351,"value":[1501545600000,351]},{"x":1501632000000,"y":175,"value":[1501632000000,175]},{"x":1501718400000,"y":582,"value":[1501718400000,582]},{"x":1501804800000,"y":242,"value":[1501804800000,242]},{"x":1501891200000,"y":402,"value":[1501891200000,402]},{"x":1501977600000,"y":997,"value":[1501977600000,997]},{"x":1502064000000,"y":462,"value":[1502064000000,462]},{"x":1502150400000,"y":515,"value":[1502150400000,515]},{"x":1502236800000,"y":265,"value":[1502236800000,265]},{"x":1502323200000,"y":914,"value":[1502323200000,914]},{"x":1502409600000,"y":639,"value":[1502409600000,639]},{"x":1502496000000,"y":870,"value":[1502496000000,870]},{"x":1502582400000,"y":500,"value":[1502582400000,500]},{"x":1502668800000,"y":726,"value":[1502668800000,726]},{"x":1502755200000,"y":899,"value":[1502755200000,899]},{"x":1502841600000,"y":667,"value":[1502841600000,667]},{"x":1502928000000,"y":674,"value":[1502928000000,674]},{"x":1503014400000,"y":681,"value":[1503014400000,681]},{"x":1503100800000,"y":498,"value":[1503100800000,498]},{"x":1503187200000,"y":945,"value":[1503187200000,945]},{"x":1503273600000,"y":970,"value":[1503273600000,970]},{"x":1503360000000,"y":278,"value":[1503360000000,278]},{"x":1503446400000,"y":126,"value":[1503446400000,126]},{"x":1503532800000,"y":294,"value":[1503532800000,294]},{"x":1503619200000,"y":45,"value":[1503619200000,45]},{"x":1503705600000,"y":774,"value":[1503705600000,774]},{"x":1503792000000,"y":784,"value":[1503792000000,784]},{"x":1503878400000,"y":193,"value":[1503878400000,193]},{"x":1503964800000,"y":547,"value":[1503964800000,547]},{"x":1504051200000,"y":462,"value":[1504051200000,462]},{"x":1504137600000,"y":183,"value":[1504137600000,183]},{"x":1504224000000,"y":569,"value":[1504224000000,569]},{"x":1504310400000,"y":463,"value":[1504310400000,463]},{"x":1504396800000,"y":965,"value":[1504396800000,965]},{"x":1504483200000,"y":338,"value":[1504483200000,338]},{"x":1504569600000,"y":856,"value":[1504569600000,856]},{"x":1504656000000,"y":100,"value":[1504656000000,100]},{"x":1504742400000,"y":251,"value":[1504742400000,251]},{"x":1504828800000,"y":622,"value":[1504828800000,622]},{"x":1504915200000,"y":131,"value":[1504915200000,131]},{"x":1505001600000,"y":568,"value":[1505001600000,568]},{"x":1505088000000,"y":618,"value":[1505088000000,618]},{"x":1505174400000,"y":156,"value":[1505174400000,156]},{"x":1505260800000,"y":37,"value":[1505260800000,37]},{"x":1505347200000,"y":111,"value":[1505347200000,111]},{"x":1505433600000,"y":177,"value":[1505433600000,177]},{"x":1505520000000,"y":894,"value":[1505520000000,894]},{"x":1505606400000,"y":884,"value":[1505606400000,884]},{"x":1505692800000,"y":34,"value":[1505692800000,34]},{"x":1505779200000,"y":544,"value":[1505779200000,544]},{"x":1505865600000,"y":230,"value":[1505865600000,230]},{"x":1505952000000,"y":977,"value":[1505952000000,977]},{"x":1506038400000,"y":595,"value":[1506038400000,595]},{"x":1506124800000,"y":347,"value":[1506124800000,347]},{"x":1506211200000,"y":747,"value":[1506211200000,747]},{"x":1506297600000,"y":945,"value":[1506297600000,945]},{"x":1506384000000,"y":295,"value":[1506384000000,295]},{"x":1506470400000,"y":546,"value":[1506470400000,546]},{"x":1506556800000,"y":840,"value":[1506556800000,840]},{"x":1506643200000,"y":512,"value":[1506643200000,512]},{"x":1506729600000,"y":285,"value":[1506729600000,285]},{"x":1506816000000,"y":519,"value":[1506816000000,519]},{"x":1506902400000,"y":937,"value":[1506902400000,937]},{"x":1506988800000,"y":368,"value":[1506988800000,368]},{"x":1507075200000,"y":198,"value":[1507075200000,198]},{"x":1507161600000,"y":408,"value":[1507161600000,408]},{"x":1507248000000,"y":505,"value":[1507248000000,505]},{"x":1507334400000,"y":526,"value":[1507334400000,526]},{"x":1507420800000,"y":770,"value":[1507420800000,770]},{"x":1507507200000,"y":690,"value":[1507507200000,690]},{"x":1507593600000,"y":981,"value":[1507593600000,981]},{"x":1507680000000,"y":624,"value":[1507680000000,624]},{"x":1507766400000,"y":111,"value":[1507766400000,111]},{"x":1507852800000,"y":112,"value":[1507852800000,112]},{"x":1507939200000,"y":193,"value":[1507939200000,193]},{"x":1508025600000,"y":643,"value":[1508025600000,643]},{"x":1508112000000,"y":42,"value":[1508112000000,42]},{"x":1508198400000,"y":442,"value":[1508198400000,442]},{"x":1508284800000,"y":482,"value":[1508284800000,482]},{"x":1508371200000,"y":156,"value":[1508371200000,156]},{"x":1508457600000,"y":240,"value":[1508457600000,240]},{"x":1508544000000,"y":497,"value":[1508544000000,497]},{"x":1508630400000,"y":612,"value":[1508630400000,612]},{"x":1508716800000,"y":528,"value":[1508716800000,528]},{"x":1508803200000,"y":190,"value":[1508803200000,190]},{"x":1508889600000,"y":509,"value":[1508889600000,509]},{"x":1508976000000,"y":202,"value":[1508976000000,202]},{"x":1509062400000,"y":257,"value":[1509062400000,257]},{"x":1509148800000,"y":537,"value":[1509148800000,537]},{"x":1509235200000,"y":19,"value":[1509235200000,19]},{"x":1509321600000,"y":625,"value":[1509321600000,625]},{"x":1509408000000,"y":106,"value":[1509408000000,106]},{"x":1509494400000,"y":464,"value":[1509494400000,464]},{"x":1509580800000,"y":739,"value":[1509580800000,739]},{"x":1509667200000,"y":520,"value":[1509667200000,520]},{"x":1509753600000,"y":267,"value":[1509753600000,267]},{"x":1509840000000,"y":485,"value":[1509840000000,485]},{"x":1509926400000,"y":650,"value":[1509926400000,650]},{"x":1510012800000,"y":742,"value":[1510012800000,742]},{"x":1510099200000,"y":182,"value":[1510099200000,182]},{"x":1510185600000,"y":745,"value":[1510185600000,745]},{"x":1510272000000,"y":483,"value":[1510272000000,483]},{"x":1510358400000,"y":566,"value":[1510358400000,566]},{"x":1510444800000,"y":294,"value":[1510444800000,294]},{"x":1510531200000,"y":836,"value":[1510531200000,836]},{"x":1510617600000,"y":558,"value":[1510617600000,558]},{"x":1510704000000,"y":491,"value":[1510704000000,491]},{"x":1510790400000,"y":38,"value":[1510790400000,38]},{"x":1510876800000,"y":69,"value":[1510876800000,69]},{"x":1510963200000,"y":43,"value":[1510963200000,43]},{"x":1511049600000,"y":818,"value":[1511049600000,818]},{"x":1511136000000,"y":781,"value":[1511136000000,781]},{"x":1511222400000,"y":478,"value":[1511222400000,478]},{"x":1511308800000,"y":710,"value":[1511308800000,710]},{"x":1511395200000,"y":371,"value":[1511395200000,371]},{"x":1511481600000,"y":717,"value":[1511481600000,717]},{"x":1511568000000,"y":143,"value":[1511568000000,143]},{"x":1511654400000,"y":273,"value":[1511654400000,273]},{"x":1511740800000,"y":240,"value":[1511740800000,240]},{"x":1511827200000,"y":488,"value":[1511827200000,488]},{"x":1511913600000,"y":131,"value":[1511913600000,131]},{"x":1512000000000,"y":249,"value":[1512000000000,249]},{"x":1512086400000,"y":342,"value":[1512086400000,342]},{"x":1512172800000,"y":449,"value":[1512172800000,449]},{"x":1512259200000,"y":195,"value":[1512259200000,195]},{"x":1512345600000,"y":463,"value":[1512345600000,463]},{"x":1512432000000,"y":298,"value":[1512432000000,298]},{"x":1512518400000,"y":964,"value":[1512518400000,964]},{"x":1512604800000,"y":373,"value":[1512604800000,373]},{"x":1512691200000,"y":165,"value":[1512691200000,165]},{"x":1512777600000,"y":27,"value":[1512777600000,27]},{"x":1512864000000,"y":51,"value":[1512864000000,51]},{"x":1512950400000,"y":482,"value":[1512950400000,482]},{"x":1513036800000,"y":589,"value":[1513036800000,589]},{"x":1513123200000,"y":849,"value":[1513123200000,849]},{"x":1513209600000,"y":5,"value":[1513209600000,5]},{"x":1513296000000,"y":868,"value":[1513296000000,868]},{"x":1513382400000,"y":567,"value":[1513382400000,567]},{"x":1513468800000,"y":234,"value":[1513468800000,234]},{"x":1513555200000,"y":30,"value":[1513555200000,30]},{"x":1513641600000,"y":208,"value":[1513641600000,208]},{"x":1513728000000,"y":736,"value":[1513728000000,736]},{"x":1513814400000,"y":857,"value":[1513814400000,857]},{"x":1513900800000,"y":964,"value":[1513900800000,964]},{"x":1513987200000,"y":935,"value":[1513987200000,935]},{"x":1514073600000,"y":646,"value":[1514073600000,646]},{"x":1514160000000,"y":814,"value":[1514160000000,814]},{"x":1514246400000,"y":685,"value":[1514246400000,685]},{"x":1514332800000,"y":373,"value":[1514332800000,373]},{"x":1514419200000,"y":774,"value":[1514419200000,774]},{"x":1514505600000,"y":491,"value":[1514505600000,491]},{"x":1514592000000,"y":602,"value":[1514592000000,602]},{"x":1514678400000,"y":175,"value":[1514678400000,175]}],"type":"line","name":"date"}],"toolbox":{"orinent":"horizontal","feature":{"dataView":{"show":true,"readOnly":true},"magicType":{"show":true,"type":["line","bar","stack","tiled"]},"restore":{"show":true},"saveAsImage":{"show":true},"myexcel":{"show":true,"title":"Excel","icon":"M821.469342 118.206149H205.714155c-48.380541 0-87.963909 39.583368-87.963909 87.965866v615.755187c0 48.380541 39.583368 87.963909 87.963909 87.963909h615.755187c48.380541 0 87.963909-39.583368 87.963909-87.963909V206.170058c0-48.380541-39.583368-87.963909-87.963909-87.963909z m-120.710683 615.755188h-80.487485l-105.726529-171.220078-105.728486 171.220078h-78.896715l148.100104-221.956445-148.156847-221.968185h78.955415l105.726529 171.231817 105.726529-171.018541h80.319212l-149.929587 221.754909 150.09786 221.956445z","onclick":"function (params){console.log(params);alert('下载Excel');}"}}}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.toolbox.feature.myexcel.onclick"],"jsHooks":[]}</script>
</div>
<div id="ec_visualmap" class="section level3">
<h3><span class="header-section-number">4.3.5</span> ec_visualMap</h3>
<p>数据可视化是数据到视觉元素的映射过程（这个过程也可称为视觉编码，视觉元素也可称为视觉通道）。</p>
<p>ECharts 的每种图表本身就内置了这种映射过程，比如折线图把数据映射到『线』，柱状图把数据映射到『长度』。一些更复杂的图表，如graph、事件河流图、treemap 也都会做出他们内置的映射。</p>
<p>此外，ECharts 还提供了 visualMap 组件 来提供通用的视觉映射。visualMap 组件中可以使用的视觉元素有：图形类别（symbol）、图形大小（symbolSize）、颜色（color）、透明度（opacity）、颜色透明度（colorAlpha）、颜色明暗度（colorLightness）、颜色饱和度（colorSaturation）、色调（colorHue）</p>
<ul>
<li>连续型（visualMapContinuous）</li>
<li>分段型（visualMapPiecewise）</li>
</ul>
<p>分段型视觉映射组件（visualMapPiecewise），有三种模式：</p>
<p>-连续型数据平均分段:依据visualMap-piecewise.splitNumber来自动平均分割成若干块。 - 连续型数据自定义分段:依据visualMap-piecewise.pieces来定义每块范围。 - 离散数据（类别性数据）:类别定义在 visualMap-piecewise.categories 中。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">right =</span> <span class="st">&#39;100&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}的销量: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">TYPE =</span> <span class="st">&#39;piecewise&#39;</span>, <span class="dt">splitNumber =</span> <span class="dv">5</span>, 
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">100</span>, 
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>))</code></pre></div>
<div id="htmlwidget-5bb8e0188a8595749052" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-5bb8e0188a8595749052">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}的销量: {c}"},"grid":{"show":true,"right":"100"},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"Mon","y":70,"value":["Mon","70"]},{"x":"Tues","y":87,"value":["Tues","87"]},{"x":"Wed","y":42,"value":["Wed","42"]},{"x":"Thurs","y":33,"value":["Thurs","33"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":67,"value":["Sat","67"]},{"x":"Sun","y":34,"value":["Sun","34"]},{"x":"Mon","y":75,"value":["Mon","75"]},{"x":"Tues","y":78,"value":["Tues","78"]},{"x":"Wed","y":84,"value":["Wed","84"]},{"x":"Thurs","y":91,"value":["Thurs","91"]},{"x":"Fri","y":49,"value":["Fri","49"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":61,"value":["Sun","61"]},{"x":"Mon","y":24,"value":["Mon","24"]},{"x":"Tues","y":38,"value":["Tues","38"]},{"x":"Wed","y":34,"value":["Wed","34"]},{"x":"Thurs","y":93,"value":["Thurs","93"]},{"x":"Fri","y":23,"value":["Fri","23"]},{"x":"Sat","y":77,"value":["Sat","77"]},{"x":"Sun","y":30,"value":["Sun","30"]}],"type":"scatter"}],"visualMap":{"TYPE":"piecewise","splitNumber":5,"min":0,"max":100,"left":"right","top":"middle","color":["#d94e5d","#eac736","#50a3ba"]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">right =</span> <span class="st">&#39;100&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">type =</span> <span class="st">&#39;continuous&#39;</span>, <span class="dt">calculable =</span> <span class="ot">TRUE</span>,
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">100</span>, 
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>))</code></pre></div>
<div id="htmlwidget-29efbcffd2d2bcedefd2" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-29efbcffd2d2bcedefd2">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"name":"Mon","value":70},{"name":"Tues","value":87},{"name":"Wed","value":42},{"name":"Thurs","value":33},{"name":"Fri","value":26},{"name":"Sat","value":67},{"name":"Sun","value":34}],"type":"scatter"}],"grid":{"show":true,"right":"100"},"visualMap":{"type":"continuous","calculable":true,"min":0,"max":100,"left":"right","top":"middle","color":["#d94e5d","#eac736","#50a3ba"]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_datazoom" class="section level3">
<h3><span class="header-section-number">4.3.6</span> ec_dataZoom</h3>
<p>dataZoom 组件能够在直角坐标系（grid）、极坐标系（polar）中实现这一功能。</p>
<ul>
<li>内置型数据区域缩放组件（dataZoomInside）：内置于坐标系中。</li>
<li>滑动条型数据区域缩放组件（dataZoomSlider）：有单独的滑动条操作。</li>
<li>框选型数据区域缩放组件（dataZoomSelect）：全屏的选框进行数据区域缩放。入口和配置项均在 toolbox中。</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">bottom =</span> <span class="st">&#39;80&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;80&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;right&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataZoom</span>(<span class="dt">type =</span> <span class="st">&#39;slider&#39;</span>)</code></pre></div>
<div id="htmlwidget-40e5fe67992ed00e8bcc" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-40e5fe67992ed00e8bcc">{"x":{"opt":{"legend":{"show":true,"top":"middle","right":"right"},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"grid":{"show":true,"bottom":"80","right":"80"},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"name":"Mon","value":70},{"name":"Tues","value":87},{"name":"Wed","value":42},{"name":"Thurs","value":33},{"name":"Fri","value":26},{"name":"Sat","value":67},{"name":"Sun","value":34}],"type":"scatter"},{"name":"Banana","data":[{"name":"Mon","value":24},{"name":"Tues","value":38},{"name":"Wed","value":34},{"name":"Thurs","value":93},{"name":"Fri","value":23},{"name":"Sat","value":77},{"name":"Sun","value":30}],"type":"scatter"},{"name":"Pear","data":[{"name":"Mon","value":75},{"name":"Tues","value":78},{"name":"Wed","value":84},{"name":"Thurs","value":91},{"name":"Fri","value":49},{"name":"Sat","value":80},{"name":"Sun","value":61}],"type":"scatter"}],"dataZoom":{"type":"slider"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_timeline" class="section level3">
<h3><span class="header-section-number">4.3.7</span> ec_timeline</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ec1 &lt;-<span class="st"> </span><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Apple&quot;</span>,
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(weekDay, saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;Apple&#39;</span>) 

ec2 &lt;-<span class="st"> </span><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Pear&quot;</span>,
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Pear&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(weekDay, saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;Pear&#39;</span>)

ec3 &lt;-<span class="st"> </span><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Banana&quot;</span>,
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Banana&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(weekDay, saleNum)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;Banana&#39;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_timeline</span>(
    <span class="dt">axisType =</span> <span class="st">&#39;category&#39;</span>, <span class="dt">autoPlay =</span> <span class="ot">TRUE</span>,
    <span class="dt">data =</span> <span class="kw">list</span>(
    <span class="st">&quot;Apple&quot;</span>,<span class="st">&quot;Pear&quot;</span>,
    <span class="kw">list</span>(<span class="dt">value =</span> <span class="st">&#39;Banana&#39;</span>, <span class="dt">symbol =</span> <span class="st">&#39;diamond&#39;</span>, <span class="dt">symbolSize =</span> <span class="dv">16</span>)
    )) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_options</span>(<span class="kw">list</span>(ec1,ec2,ec3)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">bottom =</span> <span class="st">&#39;100&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">subtext =</span> <span class="st">&quot;data from sale&quot;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;axis&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>), <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) </code></pre></div>
<div id="htmlwidget-967af3be4986ca569b86" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-967af3be4986ca569b86">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"baseOption":{"timeline":{"axisType":"category","autoPlay":true,"data":["Apple","Pear",{"value":"Banana","symbol":"diamond","symbolSize":16}]},"grid":{"show":true,"bottom":"100"},"title":{"subtext":"data from sale"},"tooltip":{"trigger":"axis"},"legend":{"data":["Apple","Pear","Banana"]}},"options":[{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Apple","data":[{"x":"Mon","y":70,"value":["Mon","70"]},{"x":"Tues","y":87,"value":["Tues","87"]},{"x":"Wed","y":42,"value":["Wed","42"]},{"x":"Thurs","y":33,"value":["Thurs","33"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":67,"value":["Sat","67"]},{"x":"Sun","y":34,"value":["Sun","34"]}],"name":"Apple","type":"line"}],"title":{"text":"Apple"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Pear","data":[{"x":"Mon","y":75,"value":["Mon","75"]},{"x":"Tues","y":78,"value":["Tues","78"]},{"x":"Wed","y":84,"value":["Wed","84"]},{"x":"Thurs","y":91,"value":["Thurs","91"]},{"x":"Fri","y":49,"value":["Fri","49"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":61,"value":["Sun","61"]}],"name":"Pear","type":"line"}],"title":{"text":"Pear"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Banana","data":[{"x":"Mon","y":24,"value":["Mon","24"]},{"x":"Tues","y":38,"value":["Tues","38"]},{"x":"Wed","y":34,"value":["Wed","34"]},{"x":"Thurs","y":93,"value":["Thurs","93"]},{"x":"Fri","y":23,"value":["Fri","23"]},{"x":"Sat","y":77,"value":["Sat","77"]},{"x":"Sun","y":30,"value":["Sun","30"]}],"name":"Banana","type":"line"}],"title":{"text":"Banana"}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ec_timeline2</span>(
  <span class="dt">ecs =</span> <span class="kw">list</span>(ec1,ec2,ec3), 
  <span class="dt">axisType =</span> <span class="st">&#39;category&#39;</span>, <span class="dt">autoPlay =</span> <span class="ot">TRUE</span>,
  <span class="dt">data =</span> <span class="kw">list</span>(
    <span class="st">&quot;Apple&quot;</span>,<span class="st">&quot;Pear&quot;</span>,
    <span class="kw">list</span>(<span class="dt">value =</span> <span class="st">&#39;Banana&#39;</span>, <span class="dt">symbol =</span> <span class="st">&#39;diamond&#39;</span>, <span class="dt">symbolSize =</span> <span class="dv">16</span>)
    )) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">bottom =</span> <span class="st">&#39;100&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">subtext =</span> <span class="st">&quot;data from sale&quot;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;axis&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>), <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) </code></pre></div>
<div id="htmlwidget-9f021cba8c288b9f8279" style="width:672px;height:480px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-9f021cba8c288b9f8279">{"x":{"opt":{"baseOption":{"timeline":{"axisType":"category","autoPlay":true,"data":["Apple","Pear",{"value":"Banana","symbol":"diamond","symbolSize":16}]},"grid":{"show":true,"bottom":"100"},"title":{"subtext":"data from sale"},"tooltip":{"trigger":"axis"},"legend":{"data":["Apple","Pear","Banana"]}},"options":[{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Apple","data":[{"x":"Mon","y":70,"value":["Mon","70"]},{"x":"Tues","y":87,"value":["Tues","87"]},{"x":"Wed","y":42,"value":["Wed","42"]},{"x":"Thurs","y":33,"value":["Thurs","33"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":67,"value":["Sat","67"]},{"x":"Sun","y":34,"value":["Sun","34"]}],"name":"Apple","type":"line"}],"title":{"text":"Apple"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Pear","data":[{"x":"Mon","y":75,"value":["Mon","75"]},{"x":"Tues","y":78,"value":["Tues","78"]},{"x":"Wed","y":84,"value":["Wed","84"]},{"x":"Thurs","y":91,"value":["Thurs","91"]},{"x":"Fri","y":49,"value":["Fri","49"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":61,"value":["Sun","61"]}],"name":"Pear","type":"line"}],"title":{"text":"Pear"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Banana","data":[{"x":"Mon","y":24,"value":["Mon","24"]},{"x":"Tues","y":38,"value":["Tues","38"]},{"x":"Wed","y":34,"value":["Wed","34"]},{"x":"Thurs","y":93,"value":["Thurs","93"]},{"x":"Fri","y":23,"value":["Fri","23"]},{"x":"Sat","y":77,"value":["Sat","77"]},{"x":"Sun","y":30,"value":["Sun","30"]}],"name":"Banana","type":"line"}],"title":{"text":"Banana"}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_brush" class="section level3">
<h3><span class="header-section-number">4.3.8</span> ec_brush</h3>
<blockquote>
<p>启动 brush 的按钮既可以在 toolbox 中指定（参见 toolbox.feature.brush.type），也可以在 brush 组件的配置中指定（参见 brush.toolbox）。</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;水果销量&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;right&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_toolbox</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">orinent =</span> <span class="st">&#39;horizontal&#39;</span>,
    <span class="dt">feature =</span> <span class="kw">list</span>(
      <span class="dt">dataView =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">readOnly =</span> <span class="ot">TRUE</span>),
      <span class="dt">magicType =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&#39;line&#39;</span>, <span class="st">&#39;bar&#39;</span>, <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;tiled&#39;</span>)),
      <span class="dt">restore =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">brush =</span> <span class="kw">list</span>(),
      <span class="dt">saveAsImage =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_brush</span>(<span class="dt">xAxisIndex =</span> <span class="st">&quot;all&quot;</span>, <span class="dt">yAxisIndex =</span> <span class="st">&quot;all&quot;</span>)</code></pre></div>
<div id="htmlwidget-ac06c45290b68cc5c65b" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac06c45290b68cc5c65b">{"x":{"opt":{"legend":{"show":true,"top":"middle","right":"right"},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":70,"value":["Mon","70"]},{"x":"Tues","y":87,"value":["Tues","87"]},{"x":"Wed","y":42,"value":["Wed","42"]},{"x":"Thurs","y":33,"value":["Thurs","33"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":67,"value":["Sat","67"]},{"x":"Sun","y":34,"value":["Sun","34"]}],"type":"line"},{"name":"Banana","data":[{"x":"Mon","y":24,"value":["Mon","24"]},{"x":"Tues","y":38,"value":["Tues","38"]},{"x":"Wed","y":34,"value":["Wed","34"]},{"x":"Thurs","y":93,"value":["Thurs","93"]},{"x":"Fri","y":23,"value":["Fri","23"]},{"x":"Sat","y":77,"value":["Sat","77"]},{"x":"Sun","y":30,"value":["Sun","30"]}],"type":"line"},{"name":"Pear","data":[{"x":"Mon","y":75,"value":["Mon","75"]},{"x":"Tues","y":78,"value":["Tues","78"]},{"x":"Wed","y":84,"value":["Wed","84"]},{"x":"Thurs","y":91,"value":["Thurs","91"]},{"x":"Fri","y":49,"value":["Fri","49"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":61,"value":["Sun","61"]}],"type":"line"}],"title":{"text":"水果销量"},"toolbox":{"show":true,"orinent":"horizontal","feature":{"dataView":{"show":true,"readOnly":true},"magicType":{"show":true,"type":["line","bar","stack","tiled"]},"restore":{"show":true},"brush":[],"saveAsImage":{"show":true}}},"brush":{"xAxisIndex":"all","yAxisIndex":"all"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_mark" class="section level3">
<h3><span class="header-section-number">4.3.9</span> ec_mark</h3>
<div id="ec_markpoint" class="section level4">
<h4><span class="header-section-number">4.3.9.1</span> ec_markPoint</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_mark</span>(
    <span class="dt">markname =</span> <span class="st">&quot;markPoint&quot;</span>, 
    <span class="dt">data =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;max&quot;</span>, <span class="dt">name=</span><span class="st">&quot;最大值&quot;</span>),
      <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;min&quot;</span>, <span class="dt">name=</span><span class="st">&quot;最小值&quot;</span>)), <span class="dt">serie =</span> <span class="dv">1</span>)</code></pre></div>
<div id="htmlwidget-fc6aa186431c7be1bacc" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-fc6aa186431c7be1bacc">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20],"markPoint":{"data":[{"type":"max","name":"最大值"},{"type":"min","name":"最小值"}]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 下列效果相同
<span class="co"># echart(opt) %&gt;%</span>
<span class="co">#   ec_markPoint(</span>
<span class="co">#     data = list(</span>
<span class="co">#       list(type = &quot;max&quot;, name=&quot;最大值&quot;),</span>
<span class="co">#       list(type = &quot;min&quot;, name=&quot;最小值&quot;)), serie = 1)</span></code></pre></div>
</div>
<div id="ec_markline" class="section level4">
<h4><span class="header-section-number">4.3.9.2</span> ec_markLine</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_mark</span>(
    <span class="dt">markname =</span> <span class="st">&quot;markLine&quot;</span>, 
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;max&quot;</span>, <span class="dt">name =</span> <span class="st">&quot;最大值&quot;</span>)))</code></pre></div>
<div id="htmlwidget-020e3ddebcd45c4f0f79" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-020e3ddebcd45c4f0f79">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20],"markLine":{"data":[{"type":"max","name":"最大值"}]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 下列效果相同
<span class="co"># echart(opt) %&gt;%</span>
<span class="co">#   ec_markLine(</span>
<span class="co">#     data = list(list(type = &quot;max&quot;, name = &quot;最大值&quot;)))</span></code></pre></div>
</div>
<div id="ec_markarea" class="section level4">
<h4><span class="header-section-number">4.3.9.3</span> ec_markArea</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_mark</span>(
    <span class="dt">markname =</span> <span class="st">&quot;markArea&quot;</span>, <span class="dt">serie =</span> <span class="dv">1</span>,
    <span class="dt">label =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(<span class="dt">position =</span> <span class="st">&#39;right&#39;</span>)),
    <span class="dt">data =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;区域&quot;</span>, <span class="dt">yAxis =</span> <span class="dv">15</span>), <span class="kw">list</span>(<span class="dt">yAxis =</span> <span class="dv">25</span>))))</code></pre></div>
<div id="htmlwidget-74a0d621dbbb88aa0228" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-74a0d621dbbb88aa0228">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20],"markArea":{"label":{"normal":{"position":"right"}},"data":[[{"name":"区域","yAxis":15},{"yAxis":25}]]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 下列效果相同
<span class="co"># echart(opt) %&gt;%</span>
<span class="co">#   ec_markArea(</span>
<span class="co">#     serie = 1,</span>
<span class="co">#     label = list(</span>
<span class="co">#       normal = list(position = &#39;right&#39;)),</span>
<span class="co">#     data = list(</span>
<span class="co">#       list(list(name = &quot;区域&quot;, yAxis = 15), list(yAxis = 25))))</span></code></pre></div>
</div>
</div>
</div>
<div id="ec_grid" class="section level2">
<h2><span class="header-section-number">4.4</span> 直角坐标系ec_grid</h2>
<p>直角坐标系内绘图网格，单个 grid 内最多可以放置上下两个 X 轴，左右两个 Y 轴。在单个 ECharts 实例中可以存在任意个 grid 组件。</p>
<p>支持直角坐标系的有：line、bar、scatter、effectScatter、boxplot、candlestick、pictorialBar、lines、heatmap。并且boxplot、candlestick、pictorialBar只支持直角坐标系。</p>
<ul>
<li>ec_xAxis，</li>
<li>ec_yAxis</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">right =</span> <span class="st">&#39;100&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">name =</span> <span class="st">&#39;Week&#39;</span>, <span class="dt">nameLocation =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">nameGap =</span> <span class="dv">30</span>,
    <span class="dt">axisPointer =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>),
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&quot;周一&quot;</span>,<span class="st">&quot;周二&quot;</span>,<span class="st">&quot;周三&quot;</span>,<span class="st">&quot;周四&quot;</span>,<span class="st">&quot;周五&quot;</span>,<span class="st">&quot;周六&quot;</span>,<span class="st">&quot;周日&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">max =</span> <span class="st">&#39;dataMax&#39;</span>) </code></pre></div>
<div id="htmlwidget-a871f45d5806c46c186e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-a871f45d5806c46c186e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"Week","data":["周一","周二","周三","周四","周五","周六","周日"],"nameLocation":"center","nameGap":30,"axisPointer":{"show":true}},"yAxis":{"show":true,"type":"value","max":"dataMax"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"grid":{"show":true,"right":"100"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_polar" class="section level2">
<h2><span class="header-section-number">4.5</span> 极坐标系ec_polar</h2>
<p>支持极坐标系的有：line、bar、scatter、effectScatter。</p>
<ul>
<li>极坐标系的角度轴：ec_angleAxis，类似于ec_xAxis</li>
<li>极坐标系的径向轴：ec_radiusAxis，类似于ec_yAxis</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_polar</span>(
    <span class="dt">center =</span> <span class="kw">c</span>(<span class="st">&#39;50%&#39;</span>, <span class="st">&#39;50%&#39;</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_angleAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>),
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>
      )),
    <span class="dt">axisLine =</span><span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_radiusAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">stack =</span> <span class="st">&#39;水果&#39;</span>,
    <span class="dt">coordinateSystem =</span> <span class="st">&#39;polar&#39;</span>,
    <span class="dt">data =</span> dat, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-8be75ee18e811fd29e86" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-8be75ee18e811fd29e86">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"polar":{"center":["50%","50%"]},"angleAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},"radiusAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"name":"Mon","value":70},{"name":"Tues","value":87},{"name":"Wed","value":42},{"name":"Thurs","value":33},{"name":"Fri","value":26},{"name":"Sat","value":67},{"name":"Sun","value":34}],"type":"scatter","stack":"水果","coordinateSystem":"polar"},{"name":"Banana","data":[{"name":"Mon","value":24},{"name":"Tues","value":38},{"name":"Wed","value":34},{"name":"Thurs","value":93},{"name":"Fri","value":23},{"name":"Sat","value":77},{"name":"Sun","value":30}],"type":"scatter","stack":"水果","coordinateSystem":"polar"},{"name":"Pear","data":[{"name":"Mon","value":75},{"name":"Tues","value":78},{"name":"Wed","value":84},{"name":"Thurs","value":91},{"name":"Fri","value":49},{"name":"Sat","value":80},{"name":"Sun","value":61}],"type":"scatter","stack":"水果","coordinateSystem":"polar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_radar" class="section level2">
<h2><span class="header-section-number">4.6</span> 雷达坐标系ec_radar</h2>
<p>仅用于series.type为radar</p>
<p>series.tooltip 仅在 tooltip.trigger 为 ‘item’ 时有效。</p>
<p>series-radar.data.value项数组是具体的数据，每个值跟radar.indicator 一一对应，所以需要提前配置radar.indicator。雷达图的数据是多变量（维度）的，如下示例：</p>
<pre><code>data : [
  {
    value : [4300, 10000, 28000, 35000, 50000, 19000],
    name : &#39;预算分配（Allocated Budget）&#39;
  },
  {
    value : [5000, 14000, 28000, 31000, 42000, 21000],
    name : &#39;实际开销（Actual Spending）&#39;
  }
]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_radar</span>(
    <span class="dt">indicator =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Mon&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Tues&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Wed&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Thurs&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Fri&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sat&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sun&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>)
    )
  ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;radar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) </code></pre></div>
<div id="htmlwidget-30634808da2a6ea0411d" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-30634808da2a6ea0411d">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"radar":{"indicator":[{"name":"Mon","max":100},{"name":"Tues","max":100},{"name":"Wed","max":100},{"name":"Thurs","max":100},{"name":"Fri","max":100},{"name":"Sat","max":100},{"name":"Sun","max":100}]},"series":[{"name":"Apple","data":[{"name":"Apple","value":[[70],[87],[42],[33],[26],[67],[34]]}],"type":"radar"},{"name":"Banana","data":[{"name":"Banana","value":[[24],[38],[34],[93],[23],[77],[30]]}],"type":"radar"},{"name":"Pear","data":[{"name":"Pear","value":[[75],[78],[84],[91],[49],[80],[61]]}],"type":"radar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_parallel" class="section level2">
<h2><span class="header-section-number">4.7</span> 平行坐标系ec_parallel</h2>
<p>仅用于series.type为parallel，平行坐标系中的坐标轴为ec_parallelAxis。</p>
<p>平行坐标系数据中，每一行是一个『数据项』，每一列属于一个『维度』，如下示例：</p>
<pre><code>data: [
  [1,  55,  9,   56,  0.46,  18,  6,  &#39;良&#39;],
  [2,  25,  11,  21,  0.65,  34,  9,  &#39;优&#39;],
  [3,  56,  7,   63,  0.3,   14,  5,  &#39;良&#39;],
  [4,  33,  7,   29,  0.33,  16,  6,  &#39;优&#39;],
  { // 数据项也可以是 Object，从而里面能含有对线条的特殊设置。
      value: [5,  42,  24,  44,  0.76,  40,  16, &#39;优&#39;]
      lineStyle: {...},
  }
  ...
]</code></pre>
<p>radar和parallel的数据格式的区别只是，parallel支持字符类型，radar只支持数值。另外parallel.data.name不是系列名称，所以一般不填写，而radar.data.name是系列名称，一般要填写。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>)) <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">  </span><span class="kw">ec_parallel</span>(
    <span class="dt">left =</span> <span class="st">&#39;5%&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;13%&#39;</span>, <span class="dt">bottom =</span> <span class="st">&#39;10%&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;20%&#39;</span>,
    <span class="dt">parallelAxisDefault =</span> <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;value&#39;</span>, <span class="dt">nameLocation =</span> <span class="st">&#39;end&#39;</span>, <span class="dt">nameGap =</span> <span class="dv">20</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_parallelAxis</span>(
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">0</span>, <span class="dt">name =</span> <span class="st">&#39;Mon&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">1</span>, <span class="dt">name =</span> <span class="st">&#39;Tues&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">2</span>, <span class="dt">name =</span> <span class="st">&#39;Wed&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">3</span>, <span class="dt">name =</span> <span class="st">&#39;Thurs&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">4</span>, <span class="dt">name =</span> <span class="st">&#39;Fri&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">5</span>, <span class="dt">name =</span> <span class="st">&#39;Sat&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">6</span>, <span class="dt">name =</span> <span class="st">&#39;Sun&#39;</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;parallel&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-213df2355d975f3334ce" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-213df2355d975f3334ce">{"x":{"opt":{"legend":{"show":true,"data":["Apple","Pear","Banana"]},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"parallel":{"left":"5%","right":"13%","bottom":"10%","top":"20%","parallelAxisDefault":{"type":"value","nameLocation":"end","nameGap":20}},"parallelAxis":[{"dim":0,"name":"Mon"},{"dim":1,"name":"Tues"},{"dim":2,"name":"Wed"},{"dim":3,"name":"Thurs"},{"dim":4,"name":"Fri"},{"dim":5,"name":"Sat"},{"dim":6,"name":"Sun"}],"series":[{"name":"Apple","data":[{"name":"Apple","value":[[70],[87],[42],[33],[26],[67],[34]]}],"type":"parallel"},{"name":"Banana","data":[{"name":"Banana","value":[[24],[38],[34],[93],[23],[77],[30]]}],"type":"parallel"},{"name":"Pear","data":[{"name":"Pear","value":[[75],[78],[84],[91],[49],[80],[61]]}],"type":"parallel"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_singleaxis" class="section level2">
<h2><span class="header-section-number">4.8</span> 单轴坐标系ec_singleAxis</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">textBaseline =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">top =</span> <span class="st">&quot;50%&quot;</span>,
    <span class="dt">text =</span> <span class="st">&quot;Apple&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_singleAxis</span>(
    <span class="dt">left =</span> <span class="dv">80</span>, <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">top =</span> <span class="dv">60</span>, <span class="dt">bottom =</span> <span class="dv">60</span>,
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>)),
    <span class="dt">axisLine =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price))</code></pre></div>
<div id="htmlwidget-f87adee5592c943d66ff" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-f87adee5592c943d66ff">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"title":{"textBaseline":"middle","top":"50%","text":"Apple"},"singleAxis":{"left":80,"type":"category","boundaryGap":false,"top":60,"bottom":60,"splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},"series":[{"group":"group","data":[{"x":"Mon","y":70,"symbolSize":15,"value":["Mon","70"]},{"x":"Tues","y":87,"symbolSize":19,"value":["Tues","87"]},{"x":"Wed","y":42,"symbolSize":16,"value":["Wed","42"]},{"x":"Thurs","y":33,"symbolSize":18,"value":["Thurs","33"]},{"x":"Fri","y":26,"symbolSize":18,"value":["Fri","26"]},{"x":"Sat","y":67,"symbolSize":13,"value":["Sat","67"]},{"x":"Sun","y":34,"symbolSize":13,"value":["Sun","34"]}],"type":"scatter","coordinateSystem":"singleAxis"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">opt_title &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">2</span>, <span class="cf">function</span>(x){
  <span class="kw">list</span>(
    <span class="dt">id =</span> x,
    <span class="dt">textBaseline =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">top =</span> <span class="kw">paste0</span>((x <span class="op">+</span><span class="st"> </span><span class="fl">0.5</span>) <span class="op">*</span><span class="st"> </span><span class="dv">100</span> <span class="op">/</span><span class="st"> </span><span class="dv">3</span>, <span class="st">&#39;%&#39;</span>),
    <span class="dt">text =</span> <span class="kw">c</span>(<span class="st">&quot;Apple&quot;</span>,<span class="st">&quot;Pear&quot;</span>,<span class="st">&quot;Banana&quot;</span>)[x <span class="op">+</span><span class="st"> </span><span class="dv">1</span>]
  )
})
opt_singleAxis &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">2</span>, <span class="cf">function</span>(x){
  <span class="kw">list</span>(
    <span class="dt">id =</span> x,
    <span class="dt">left =</span> <span class="dv">80</span>, <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>),
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">top =</span> <span class="kw">paste0</span>(x <span class="op">*</span><span class="st"> </span><span class="dv">100</span><span class="op">/</span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span>, <span class="st">&#39;%&#39;</span>),
    <span class="dt">height =</span> <span class="kw">paste0</span>(<span class="dv">100</span><span class="op">/</span><span class="dv">3</span> <span class="op">-</span><span class="st"> </span><span class="dv">10</span>, <span class="st">&#39;%&#39;</span>),
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>
      )),
    <span class="dt">axisLine =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)
  )
})

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(opt_title) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_singleAxis</span>(opt_singleAxis) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), 
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">singleAxisIndex =</span> <span class="dv">0</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Pear&#39;</span>), 
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">singleAxisIndex =</span> <span class="dv">1</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Banana&#39;</span>), 
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">singleAxisIndex =</span> <span class="dv">2</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price))</code></pre></div>
<div id="htmlwidget-768343eaa3de80b9e6aa" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-768343eaa3de80b9e6aa">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"title":[{"id":0,"textBaseline":"middle","top":"16.6666666666667%","text":"Apple"},{"id":1,"textBaseline":"middle","top":"50%","text":"Pear"},{"id":2,"textBaseline":"middle","top":"83.3333333333333%","text":"Banana"}],"singleAxis":[{"id":0,"left":80,"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"top":"5%","height":"23.3333333333333%","splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},{"id":1,"left":80,"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"top":"38.3333333333333%","height":"23.3333333333333%","splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},{"id":2,"left":80,"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"top":"71.6666666666667%","height":"23.3333333333333%","splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}}],"series":[{"group":"group","data":[{"x":"Mon","y":70,"symbolSize":15,"value":["Mon","70"]},{"x":"Tues","y":87,"symbolSize":19,"value":["Tues","87"]},{"x":"Wed","y":42,"symbolSize":16,"value":["Wed","42"]},{"x":"Thurs","y":33,"symbolSize":18,"value":["Thurs","33"]},{"x":"Fri","y":26,"symbolSize":18,"value":["Fri","26"]},{"x":"Sat","y":67,"symbolSize":13,"value":["Sat","67"]},{"x":"Sun","y":34,"symbolSize":13,"value":["Sun","34"]}],"type":"scatter","coordinateSystem":"singleAxis","singleAxisIndex":0},{"group":"group","data":[{"x":"Mon","y":75,"symbolSize":18,"value":["Mon","75"]},{"x":"Tues","y":78,"symbolSize":15,"value":["Tues","78"]},{"x":"Wed","y":84,"symbolSize":19,"value":["Wed","84"]},{"x":"Thurs","y":91,"symbolSize":18,"value":["Thurs","91"]},{"x":"Fri","y":49,"symbolSize":17,"value":["Fri","49"]},{"x":"Sat","y":80,"symbolSize":11,"value":["Sat","80"]},{"x":"Sun","y":61,"symbolSize":16,"value":["Sun","61"]}],"type":"scatter","coordinateSystem":"singleAxis","singleAxisIndex":1},{"group":"group","data":[{"x":"Mon","y":24,"symbolSize":18,"value":["Mon","24"]},{"x":"Tues","y":38,"symbolSize":16,"value":["Tues","38"]},{"x":"Wed","y":34,"symbolSize":10,"value":["Wed","34"]},{"x":"Thurs","y":93,"symbolSize":12,"value":["Thurs","93"]},{"x":"Fri","y":23,"symbolSize":20,"value":["Fri","23"]},{"x":"Sat","y":77,"symbolSize":16,"value":["Sat","77"]},{"x":"Sun","y":30,"symbolSize":11,"value":["Sun","30"]}],"type":"scatter","coordinateSystem":"singleAxis","singleAxisIndex":2}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_calendar" class="section level2">
<h2><span class="header-section-number">4.9</span> 日历坐标系ec_calendar</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">1000</span>, <span class="dt">type =</span> <span class="st">&#39;piecewise&#39;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">top =</span> <span class="dv">30</span>, <span class="dt">orient =</span> <span class="st">&#39;horizontal&#39;</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_calendar</span>(
    <span class="dt">top =</span> <span class="dv">120</span>, <span class="dt">left =</span> <span class="dv">30</span>, <span class="dt">right =</span> <span class="dv">30</span>, 
    <span class="dt">cellSize =</span> <span class="kw">c</span>(<span class="st">&#39;auto&#39;</span>, <span class="dv">20</span>),
    <span class="dt">range =</span> <span class="kw">c</span>(<span class="st">&#39;2017&#39;</span>)
    <span class="co"># range = c(&#39;2017-01-01&#39;, &#39;2017-06-10&#39;)</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;heatmap&#39;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;calendar&#39;</span>,
    <span class="dt">data =</span> dat_date, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value))</code></pre></div>
<div id="htmlwidget-acae7ff1f847204b0bc6" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-acae7ff1f847204b0bc6">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"visualMap":{"min":0,"max":1000,"type":"piecewise","left":"center","top":30,"orient":"horizontal"},"calendar":{"top":120,"left":30,"right":30,"cellSize":["auto","20"],"range":"2017"},"series":[{"group":"group","data":[{"x":"2017-01-01","y":362,"value":["2017-01-01","362"]},{"x":"2017-01-02","y":426,"value":["2017-01-02","426"]},{"x":"2017-01-03","y":956,"value":["2017-01-03","956"]},{"x":"2017-01-04","y":440,"value":["2017-01-04","440"]},{"x":"2017-01-05","y":84,"value":["2017-01-05","84"]},{"x":"2017-01-06","y":275,"value":["2017-01-06","275"]},{"x":"2017-01-07","y":894,"value":["2017-01-07","894"]},{"x":"2017-01-08","y":928,"value":["2017-01-08","928"]},{"x":"2017-01-09","y":74,"value":["2017-01-09","74"]},{"x":"2017-01-10","y":212,"value":["2017-01-10","212"]},{"x":"2017-01-11","y":829,"value":["2017-01-11","829"]},{"x":"2017-01-12","y":216,"value":["2017-01-12","216"]},{"x":"2017-01-13","y":91,"value":["2017-01-13","91"]},{"x":"2017-01-14","y":552,"value":["2017-01-14","552"]},{"x":"2017-01-15","y":505,"value":["2017-01-15","505"]},{"x":"2017-01-16","y":101,"value":["2017-01-16","101"]},{"x":"2017-01-17","y":595,"value":["2017-01-17","595"]},{"x":"2017-01-18","y":435,"value":["2017-01-18","435"]},{"x":"2017-01-19","y":171,"value":["2017-01-19","171"]},{"x":"2017-01-20","y":172,"value":["2017-01-20","172"]},{"x":"2017-01-21","y":509,"value":["2017-01-21","509"]},{"x":"2017-01-22","y":190,"value":["2017-01-22","190"]},{"x":"2017-01-23","y":671,"value":["2017-01-23","671"]},{"x":"2017-01-24","y":620,"value":["2017-01-24","620"]},{"x":"2017-01-25","y":967,"value":["2017-01-25","967"]},{"x":"2017-01-26","y":540,"value":["2017-01-26","540"]},{"x":"2017-01-27","y":675,"value":["2017-01-27","675"]},{"x":"2017-01-28","y":663,"value":["2017-01-28","663"]},{"x":"2017-01-29","y":535,"value":["2017-01-29","535"]},{"x":"2017-01-30","y":172,"value":["2017-01-30","172"]},{"x":"2017-01-31","y":232,"value":["2017-01-31","232"]},{"x":"2017-02-01","y":948,"value":["2017-02-01","948"]},{"x":"2017-02-02","y":5,"value":["2017-02-02","5"]},{"x":"2017-02-03","y":505,"value":["2017-02-03","505"]},{"x":"2017-02-04","y":171,"value":["2017-02-04","171"]},{"x":"2017-02-05","y":240,"value":["2017-02-05","240"]},{"x":"2017-02-06","y":635,"value":["2017-02-06","635"]},{"x":"2017-02-07","y":681,"value":["2017-02-07","681"]},{"x":"2017-02-08","y":402,"value":["2017-02-08","402"]},{"x":"2017-02-09","y":483,"value":["2017-02-09","483"]},{"x":"2017-02-10","y":690,"value":["2017-02-10","690"]},{"x":"2017-02-11","y":383,"value":["2017-02-11","383"]},{"x":"2017-02-12","y":31,"value":["2017-02-12","31"]},{"x":"2017-02-13","y":917,"value":["2017-02-13","917"]},{"x":"2017-02-14","y":872,"value":["2017-02-14","872"]},{"x":"2017-02-15","y":456,"value":["2017-02-15","456"]},{"x":"2017-02-16","y":494,"value":["2017-02-16","494"]},{"x":"2017-02-17","y":846,"value":["2017-02-17","846"]},{"x":"2017-02-18","y":908,"value":["2017-02-18","908"]},{"x":"2017-02-19","y":541,"value":["2017-02-19","541"]},{"x":"2017-02-20","y":808,"value":["2017-02-20","808"]},{"x":"2017-02-21","y":632,"value":["2017-02-21","632"]},{"x":"2017-02-22","y":626,"value":["2017-02-22","626"]},{"x":"2017-02-23","y":919,"value":["2017-02-23","919"]},{"x":"2017-02-24","y":760,"value":["2017-02-24","760"]},{"x":"2017-02-25","y":744,"value":["2017-02-25","744"]},{"x":"2017-02-26","y":655,"value":["2017-02-26","655"]},{"x":"2017-02-27","y":733,"value":["2017-02-27","733"]},{"x":"2017-02-28","y":55,"value":["2017-02-28","55"]},{"x":"2017-03-01","y":242,"value":["2017-03-01","242"]},{"x":"2017-03-02","y":687,"value":["2017-03-02","687"]},{"x":"2017-03-03","y":77,"value":["2017-03-03","77"]},{"x":"2017-03-04","y":749,"value":["2017-03-04","749"]},{"x":"2017-03-05","y":706,"value":["2017-03-05","706"]},{"x":"2017-03-06","y":931,"value":["2017-03-06","931"]},{"x":"2017-03-07","y":397,"value":["2017-03-07","397"]},{"x":"2017-03-08","y":517,"value":["2017-03-08","517"]},{"x":"2017-03-09","y":731,"value":["2017-03-09","731"]},{"x":"2017-03-10","y":447,"value":["2017-03-10","447"]},{"x":"2017-03-11","y":932,"value":["2017-03-11","932"]},{"x":"2017-03-12","y":533,"value":["2017-03-12","533"]},{"x":"2017-03-13","y":460,"value":["2017-03-13","460"]},{"x":"2017-03-14","y":682,"value":["2017-03-14","682"]},{"x":"2017-03-15","y":949,"value":["2017-03-15","949"]},{"x":"2017-03-16","y":421,"value":["2017-03-16","421"]},{"x":"2017-03-17","y":347,"value":["2017-03-17","347"]},{"x":"2017-03-18","y":143,"value":["2017-03-18","143"]},{"x":"2017-03-19","y":341,"value":["2017-03-19","341"]},{"x":"2017-03-20","y":359,"value":["2017-03-20","359"]},{"x":"2017-03-21","y":720,"value":["2017-03-21","720"]},{"x":"2017-03-22","y":876,"value":["2017-03-22","876"]},{"x":"2017-03-23","y":95,"value":["2017-03-23","95"]},{"x":"2017-03-24","y":543,"value":["2017-03-24","543"]},{"x":"2017-03-25","y":520,"value":["2017-03-25","520"]},{"x":"2017-03-26","y":583,"value":["2017-03-26","583"]},{"x":"2017-03-27","y":454,"value":["2017-03-27","454"]},{"x":"2017-03-28","y":564,"value":["2017-03-28","564"]},{"x":"2017-03-29","y":323,"value":["2017-03-29","323"]},{"x":"2017-03-30","y":162,"value":["2017-03-30","162"]},{"x":"2017-03-31","y":937,"value":["2017-03-31","937"]},{"x":"2017-04-01","y":735,"value":["2017-04-01","735"]},{"x":"2017-04-02","y":998,"value":["2017-04-02","998"]},{"x":"2017-04-03","y":821,"value":["2017-04-03","821"]},{"x":"2017-04-04","y":821,"value":["2017-04-04","821"]},{"x":"2017-04-05","y":737,"value":["2017-04-05","737"]},{"x":"2017-04-06","y":926,"value":["2017-04-06","926"]},{"x":"2017-04-07","y":935,"value":["2017-04-07","935"]},{"x":"2017-04-08","y":823,"value":["2017-04-08","823"]},{"x":"2017-04-09","y":252,"value":["2017-04-09","252"]},{"x":"2017-04-10","y":895,"value":["2017-04-10","895"]},{"x":"2017-04-11","y":992,"value":["2017-04-11","992"]},{"x":"2017-04-12","y":406,"value":["2017-04-12","406"]},{"x":"2017-04-13","y":599,"value":["2017-04-13","599"]},{"x":"2017-04-14","y":183,"value":["2017-04-14","183"]},{"x":"2017-04-15","y":815,"value":["2017-04-15","815"]},{"x":"2017-04-16","y":58,"value":["2017-04-16","58"]},{"x":"2017-04-17","y":544,"value":["2017-04-17","544"]},{"x":"2017-04-18","y":797,"value":["2017-04-18","797"]},{"x":"2017-04-19","y":587,"value":["2017-04-19","587"]},{"x":"2017-04-20","y":480,"value":["2017-04-20","480"]},{"x":"2017-04-21","y":952,"value":["2017-04-21","952"]},{"x":"2017-04-22","y":745,"value":["2017-04-22","745"]},{"x":"2017-04-23","y":289,"value":["2017-04-23","289"]},{"x":"2017-04-24","y":525,"value":["2017-04-24","525"]},{"x":"2017-04-25","y":792,"value":["2017-04-25","792"]},{"x":"2017-04-26","y":337,"value":["2017-04-26","337"]},{"x":"2017-04-27","y":609,"value":["2017-04-27","609"]},{"x":"2017-04-28","y":524,"value":["2017-04-28","524"]},{"x":"2017-04-29","y":624,"value":["2017-04-29","624"]},{"x":"2017-04-30","y":9,"value":["2017-04-30","9"]},{"x":"2017-05-01","y":111,"value":["2017-05-01","111"]},{"x":"2017-05-02","y":727,"value":["2017-05-02","727"]},{"x":"2017-05-03","y":548,"value":["2017-05-03","548"]},{"x":"2017-05-04","y":157,"value":["2017-05-04","157"]},{"x":"2017-05-05","y":545,"value":["2017-05-05","545"]},{"x":"2017-05-06","y":624,"value":["2017-05-06","624"]},{"x":"2017-05-07","y":511,"value":["2017-05-07","511"]},{"x":"2017-05-08","y":476,"value":["2017-05-08","476"]},{"x":"2017-05-09","y":673,"value":["2017-05-09","673"]},{"x":"2017-05-10","y":26,"value":["2017-05-10","26"]},{"x":"2017-05-11","y":768,"value":["2017-05-11","768"]},{"x":"2017-05-12","y":321,"value":["2017-05-12","321"]},{"x":"2017-05-13","y":563,"value":["2017-05-13","563"]},{"x":"2017-05-14","y":712,"value":["2017-05-14","712"]},{"x":"2017-05-15","y":550,"value":["2017-05-15","550"]},{"x":"2017-05-16","y":772,"value":["2017-05-16","772"]},{"x":"2017-05-17","y":775,"value":["2017-05-17","775"]},{"x":"2017-05-18","y":355,"value":["2017-05-18","355"]},{"x":"2017-05-19","y":987,"value":["2017-05-19","987"]},{"x":"2017-05-20","y":418,"value":["2017-05-20","418"]},{"x":"2017-05-21","y":631,"value":["2017-05-21","631"]},{"x":"2017-05-22","y":525,"value":["2017-05-22","525"]},{"x":"2017-05-23","y":263,"value":["2017-05-23","263"]},{"x":"2017-05-24","y":110,"value":["2017-05-24","110"]},{"x":"2017-05-25","y":483,"value":["2017-05-25","483"]},{"x":"2017-05-26","y":883,"value":["2017-05-26","883"]},{"x":"2017-05-27","y":730,"value":["2017-05-27","730"]},{"x":"2017-05-28","y":798,"value":["2017-05-28","798"]},{"x":"2017-05-29","y":8,"value":["2017-05-29","8"]},{"x":"2017-05-30","y":57,"value":["2017-05-30","57"]},{"x":"2017-05-31","y":242,"value":["2017-05-31","242"]},{"x":"2017-06-01","y":871,"value":["2017-06-01","871"]},{"x":"2017-06-02","y":736,"value":["2017-06-02","736"]},{"x":"2017-06-03","y":829,"value":["2017-06-03","829"]},{"x":"2017-06-04","y":363,"value":["2017-06-04","363"]},{"x":"2017-06-05","y":312,"value":["2017-06-05","312"]},{"x":"2017-06-06","y":61,"value":["2017-06-06","61"]},{"x":"2017-06-07","y":475,"value":["2017-06-07","475"]},{"x":"2017-06-08","y":455,"value":["2017-06-08","455"]},{"x":"2017-06-09","y":627,"value":["2017-06-09","627"]},{"x":"2017-06-10","y":837,"value":["2017-06-10","837"]},{"x":"2017-06-11","y":129,"value":["2017-06-11","129"]},{"x":"2017-06-12","y":857,"value":["2017-06-12","857"]},{"x":"2017-06-13","y":733,"value":["2017-06-13","733"]},{"x":"2017-06-14","y":535,"value":["2017-06-14","535"]},{"x":"2017-06-15","y":668,"value":["2017-06-15","668"]},{"x":"2017-06-16","y":8,"value":["2017-06-16","8"]},{"x":"2017-06-17","y":157,"value":["2017-06-17","157"]},{"x":"2017-06-18","y":659,"value":["2017-06-18","659"]},{"x":"2017-06-19","y":445,"value":["2017-06-19","445"]},{"x":"2017-06-20","y":954,"value":["2017-06-20","954"]},{"x":"2017-06-21","y":364,"value":["2017-06-21","364"]},{"x":"2017-06-22","y":346,"value":["2017-06-22","346"]},{"x":"2017-06-23","y":25,"value":["2017-06-23","25"]},{"x":"2017-06-24","y":769,"value":["2017-06-24","769"]},{"x":"2017-06-25","y":423,"value":["2017-06-25","423"]},{"x":"2017-06-26","y":96,"value":["2017-06-26","96"]},{"x":"2017-06-27","y":430,"value":["2017-06-27","430"]},{"x":"2017-06-28","y":545,"value":["2017-06-28","545"]},{"x":"2017-06-29","y":903,"value":["2017-06-29","903"]},{"x":"2017-06-30","y":370,"value":["2017-06-30","370"]},{"x":"2017-07-01","y":881,"value":["2017-07-01","881"]},{"x":"2017-07-02","y":556,"value":["2017-07-02","556"]},{"x":"2017-07-03","y":506,"value":["2017-07-03","506"]},{"x":"2017-07-04","y":122,"value":["2017-07-04","122"]},{"x":"2017-07-05","y":823,"value":["2017-07-05","823"]},{"x":"2017-07-06","y":618,"value":["2017-07-06","618"]},{"x":"2017-07-07","y":526,"value":["2017-07-07","526"]},{"x":"2017-07-08","y":188,"value":["2017-07-08","188"]},{"x":"2017-07-09","y":387,"value":["2017-07-09","387"]},{"x":"2017-07-10","y":285,"value":["2017-07-10","285"]},{"x":"2017-07-11","y":32,"value":["2017-07-11","32"]},{"x":"2017-07-12","y":852,"value":["2017-07-12","852"]},{"x":"2017-07-13","y":165,"value":["2017-07-13","165"]},{"x":"2017-07-14","y":431,"value":["2017-07-14","431"]},{"x":"2017-07-15","y":629,"value":["2017-07-15","629"]},{"x":"2017-07-16","y":254,"value":["2017-07-16","254"]},{"x":"2017-07-17","y":115,"value":["2017-07-17","115"]},{"x":"2017-07-18","y":133,"value":["2017-07-18","133"]},{"x":"2017-07-19","y":239,"value":["2017-07-19","239"]},{"x":"2017-07-20","y":947,"value":["2017-07-20","947"]},{"x":"2017-07-21","y":210,"value":["2017-07-21","210"]},{"x":"2017-07-22","y":364,"value":["2017-07-22","364"]},{"x":"2017-07-23","y":591,"value":["2017-07-23","591"]},{"x":"2017-07-24","y":375,"value":["2017-07-24","375"]},{"x":"2017-07-25","y":200,"value":["2017-07-25","200"]},{"x":"2017-07-26","y":207,"value":["2017-07-26","207"]},{"x":"2017-07-27","y":808,"value":["2017-07-27","808"]},{"x":"2017-07-28","y":972,"value":["2017-07-28","972"]},{"x":"2017-07-29","y":478,"value":["2017-07-29","478"]},{"x":"2017-07-30","y":869,"value":["2017-07-30","869"]},{"x":"2017-07-31","y":895,"value":["2017-07-31","895"]},{"x":"2017-08-01","y":351,"value":["2017-08-01","351"]},{"x":"2017-08-02","y":175,"value":["2017-08-02","175"]},{"x":"2017-08-03","y":582,"value":["2017-08-03","582"]},{"x":"2017-08-04","y":242,"value":["2017-08-04","242"]},{"x":"2017-08-05","y":402,"value":["2017-08-05","402"]},{"x":"2017-08-06","y":997,"value":["2017-08-06","997"]},{"x":"2017-08-07","y":462,"value":["2017-08-07","462"]},{"x":"2017-08-08","y":515,"value":["2017-08-08","515"]},{"x":"2017-08-09","y":265,"value":["2017-08-09","265"]},{"x":"2017-08-10","y":914,"value":["2017-08-10","914"]},{"x":"2017-08-11","y":639,"value":["2017-08-11","639"]},{"x":"2017-08-12","y":870,"value":["2017-08-12","870"]},{"x":"2017-08-13","y":500,"value":["2017-08-13","500"]},{"x":"2017-08-14","y":726,"value":["2017-08-14","726"]},{"x":"2017-08-15","y":899,"value":["2017-08-15","899"]},{"x":"2017-08-16","y":667,"value":["2017-08-16","667"]},{"x":"2017-08-17","y":674,"value":["2017-08-17","674"]},{"x":"2017-08-18","y":681,"value":["2017-08-18","681"]},{"x":"2017-08-19","y":498,"value":["2017-08-19","498"]},{"x":"2017-08-20","y":945,"value":["2017-08-20","945"]},{"x":"2017-08-21","y":970,"value":["2017-08-21","970"]},{"x":"2017-08-22","y":278,"value":["2017-08-22","278"]},{"x":"2017-08-23","y":126,"value":["2017-08-23","126"]},{"x":"2017-08-24","y":294,"value":["2017-08-24","294"]},{"x":"2017-08-25","y":45,"value":["2017-08-25","45"]},{"x":"2017-08-26","y":774,"value":["2017-08-26","774"]},{"x":"2017-08-27","y":784,"value":["2017-08-27","784"]},{"x":"2017-08-28","y":193,"value":["2017-08-28","193"]},{"x":"2017-08-29","y":547,"value":["2017-08-29","547"]},{"x":"2017-08-30","y":462,"value":["2017-08-30","462"]},{"x":"2017-08-31","y":183,"value":["2017-08-31","183"]},{"x":"2017-09-01","y":569,"value":["2017-09-01","569"]},{"x":"2017-09-02","y":463,"value":["2017-09-02","463"]},{"x":"2017-09-03","y":965,"value":["2017-09-03","965"]},{"x":"2017-09-04","y":338,"value":["2017-09-04","338"]},{"x":"2017-09-05","y":856,"value":["2017-09-05","856"]},{"x":"2017-09-06","y":100,"value":["2017-09-06","100"]},{"x":"2017-09-07","y":251,"value":["2017-09-07","251"]},{"x":"2017-09-08","y":622,"value":["2017-09-08","622"]},{"x":"2017-09-09","y":131,"value":["2017-09-09","131"]},{"x":"2017-09-10","y":568,"value":["2017-09-10","568"]},{"x":"2017-09-11","y":618,"value":["2017-09-11","618"]},{"x":"2017-09-12","y":156,"value":["2017-09-12","156"]},{"x":"2017-09-13","y":37,"value":["2017-09-13","37"]},{"x":"2017-09-14","y":111,"value":["2017-09-14","111"]},{"x":"2017-09-15","y":177,"value":["2017-09-15","177"]},{"x":"2017-09-16","y":894,"value":["2017-09-16","894"]},{"x":"2017-09-17","y":884,"value":["2017-09-17","884"]},{"x":"2017-09-18","y":34,"value":["2017-09-18","34"]},{"x":"2017-09-19","y":544,"value":["2017-09-19","544"]},{"x":"2017-09-20","y":230,"value":["2017-09-20","230"]},{"x":"2017-09-21","y":977,"value":["2017-09-21","977"]},{"x":"2017-09-22","y":595,"value":["2017-09-22","595"]},{"x":"2017-09-23","y":347,"value":["2017-09-23","347"]},{"x":"2017-09-24","y":747,"value":["2017-09-24","747"]},{"x":"2017-09-25","y":945,"value":["2017-09-25","945"]},{"x":"2017-09-26","y":295,"value":["2017-09-26","295"]},{"x":"2017-09-27","y":546,"value":["2017-09-27","546"]},{"x":"2017-09-28","y":840,"value":["2017-09-28","840"]},{"x":"2017-09-29","y":512,"value":["2017-09-29","512"]},{"x":"2017-09-30","y":285,"value":["2017-09-30","285"]},{"x":"2017-10-01","y":519,"value":["2017-10-01","519"]},{"x":"2017-10-02","y":937,"value":["2017-10-02","937"]},{"x":"2017-10-03","y":368,"value":["2017-10-03","368"]},{"x":"2017-10-04","y":198,"value":["2017-10-04","198"]},{"x":"2017-10-05","y":408,"value":["2017-10-05","408"]},{"x":"2017-10-06","y":505,"value":["2017-10-06","505"]},{"x":"2017-10-07","y":526,"value":["2017-10-07","526"]},{"x":"2017-10-08","y":770,"value":["2017-10-08","770"]},{"x":"2017-10-09","y":690,"value":["2017-10-09","690"]},{"x":"2017-10-10","y":981,"value":["2017-10-10","981"]},{"x":"2017-10-11","y":624,"value":["2017-10-11","624"]},{"x":"2017-10-12","y":111,"value":["2017-10-12","111"]},{"x":"2017-10-13","y":112,"value":["2017-10-13","112"]},{"x":"2017-10-14","y":193,"value":["2017-10-14","193"]},{"x":"2017-10-15","y":643,"value":["2017-10-15","643"]},{"x":"2017-10-16","y":42,"value":["2017-10-16","42"]},{"x":"2017-10-17","y":442,"value":["2017-10-17","442"]},{"x":"2017-10-18","y":482,"value":["2017-10-18","482"]},{"x":"2017-10-19","y":156,"value":["2017-10-19","156"]},{"x":"2017-10-20","y":240,"value":["2017-10-20","240"]},{"x":"2017-10-21","y":497,"value":["2017-10-21","497"]},{"x":"2017-10-22","y":612,"value":["2017-10-22","612"]},{"x":"2017-10-23","y":528,"value":["2017-10-23","528"]},{"x":"2017-10-24","y":190,"value":["2017-10-24","190"]},{"x":"2017-10-25","y":509,"value":["2017-10-25","509"]},{"x":"2017-10-26","y":202,"value":["2017-10-26","202"]},{"x":"2017-10-27","y":257,"value":["2017-10-27","257"]},{"x":"2017-10-28","y":537,"value":["2017-10-28","537"]},{"x":"2017-10-29","y":19,"value":["2017-10-29","19"]},{"x":"2017-10-30","y":625,"value":["2017-10-30","625"]},{"x":"2017-10-31","y":106,"value":["2017-10-31","106"]},{"x":"2017-11-01","y":464,"value":["2017-11-01","464"]},{"x":"2017-11-02","y":739,"value":["2017-11-02","739"]},{"x":"2017-11-03","y":520,"value":["2017-11-03","520"]},{"x":"2017-11-04","y":267,"value":["2017-11-04","267"]},{"x":"2017-11-05","y":485,"value":["2017-11-05","485"]},{"x":"2017-11-06","y":650,"value":["2017-11-06","650"]},{"x":"2017-11-07","y":742,"value":["2017-11-07","742"]},{"x":"2017-11-08","y":182,"value":["2017-11-08","182"]},{"x":"2017-11-09","y":745,"value":["2017-11-09","745"]},{"x":"2017-11-10","y":483,"value":["2017-11-10","483"]},{"x":"2017-11-11","y":566,"value":["2017-11-11","566"]},{"x":"2017-11-12","y":294,"value":["2017-11-12","294"]},{"x":"2017-11-13","y":836,"value":["2017-11-13","836"]},{"x":"2017-11-14","y":558,"value":["2017-11-14","558"]},{"x":"2017-11-15","y":491,"value":["2017-11-15","491"]},{"x":"2017-11-16","y":38,"value":["2017-11-16","38"]},{"x":"2017-11-17","y":69,"value":["2017-11-17","69"]},{"x":"2017-11-18","y":43,"value":["2017-11-18","43"]},{"x":"2017-11-19","y":818,"value":["2017-11-19","818"]},{"x":"2017-11-20","y":781,"value":["2017-11-20","781"]},{"x":"2017-11-21","y":478,"value":["2017-11-21","478"]},{"x":"2017-11-22","y":710,"value":["2017-11-22","710"]},{"x":"2017-11-23","y":371,"value":["2017-11-23","371"]},{"x":"2017-11-24","y":717,"value":["2017-11-24","717"]},{"x":"2017-11-25","y":143,"value":["2017-11-25","143"]},{"x":"2017-11-26","y":273,"value":["2017-11-26","273"]},{"x":"2017-11-27","y":240,"value":["2017-11-27","240"]},{"x":"2017-11-28","y":488,"value":["2017-11-28","488"]},{"x":"2017-11-29","y":131,"value":["2017-11-29","131"]},{"x":"2017-11-30","y":249,"value":["2017-11-30","249"]},{"x":"2017-12-01","y":342,"value":["2017-12-01","342"]},{"x":"2017-12-02","y":449,"value":["2017-12-02","449"]},{"x":"2017-12-03","y":195,"value":["2017-12-03","195"]},{"x":"2017-12-04","y":463,"value":["2017-12-04","463"]},{"x":"2017-12-05","y":298,"value":["2017-12-05","298"]},{"x":"2017-12-06","y":964,"value":["2017-12-06","964"]},{"x":"2017-12-07","y":373,"value":["2017-12-07","373"]},{"x":"2017-12-08","y":165,"value":["2017-12-08","165"]},{"x":"2017-12-09","y":27,"value":["2017-12-09","27"]},{"x":"2017-12-10","y":51,"value":["2017-12-10","51"]},{"x":"2017-12-11","y":482,"value":["2017-12-11","482"]},{"x":"2017-12-12","y":589,"value":["2017-12-12","589"]},{"x":"2017-12-13","y":849,"value":["2017-12-13","849"]},{"x":"2017-12-14","y":5,"value":["2017-12-14","5"]},{"x":"2017-12-15","y":868,"value":["2017-12-15","868"]},{"x":"2017-12-16","y":567,"value":["2017-12-16","567"]},{"x":"2017-12-17","y":234,"value":["2017-12-17","234"]},{"x":"2017-12-18","y":30,"value":["2017-12-18","30"]},{"x":"2017-12-19","y":208,"value":["2017-12-19","208"]},{"x":"2017-12-20","y":736,"value":["2017-12-20","736"]},{"x":"2017-12-21","y":857,"value":["2017-12-21","857"]},{"x":"2017-12-22","y":964,"value":["2017-12-22","964"]},{"x":"2017-12-23","y":935,"value":["2017-12-23","935"]},{"x":"2017-12-24","y":646,"value":["2017-12-24","646"]},{"x":"2017-12-25","y":814,"value":["2017-12-25","814"]},{"x":"2017-12-26","y":685,"value":["2017-12-26","685"]},{"x":"2017-12-27","y":373,"value":["2017-12-27","373"]},{"x":"2017-12-28","y":774,"value":["2017-12-28","774"]},{"x":"2017-12-29","y":491,"value":["2017-12-29","491"]},{"x":"2017-12-30","y":602,"value":["2017-12-30","602"]},{"x":"2017-12-31","y":175,"value":["2017-12-31","175"]}],"type":"heatmap","coordinateSystem":"calendar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_geo" class="section level2">
<h2><span class="header-section-number">4.10</span> 地理坐标系ec_geo</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 获取空气质量数据</span>
<span class="co"># http://datacenter.mep.gov.cn/index</span>
<span class="co"># http://pm25.in</span>
<span class="co"># https://www.zq12369.com</span>
<span class="kw">library</span>(rvest)
<span class="kw">library</span>(XML)
<span class="kw">library</span>(RCurl)
<span class="kw">library</span>(jsonlite)
<span class="kw">library</span>(httr)

url &lt;-<span class="st">&#39;https://www.zq12369.com/environment.php?order=desc&amp;tab=rank&#39;</span>

htmlCode &lt;-<span class="st"> </span><span class="kw">getURL</span>(url)
d &lt;-<span class="st"> </span><span class="kw">htmlParse</span>(htmlCode, <span class="dt">encoding =</span> <span class="st">&#39;utf-8&#39;</span>)

xpath &lt;-<span class="st"> &#39;//*[@id=&quot;rank1&quot;]//table&#39;</span>
line_node &lt;-<span class="st"> </span><span class="kw">getNodeSet</span>(d, xpath)
line_table &lt;-<span class="st"> </span><span class="kw">readHTMLTable</span>(line_node[[<span class="dv">1</span>]], <span class="dt">header=</span>T)
line_table &lt;-<span class="st"> </span>line_table[<span class="op">-</span><span class="dv">1</span>,]
<span class="kw">rownames</span>(line_table) &lt;-<span class="st"> </span><span class="ot">NULL</span>

<span class="co"># 经纬度</span>
GPS &lt;-<span class="st"> </span><span class="cf">function</span>(chr){
  url &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;http://apis.map.qq.com/ws/geocoder/v1/?address=&quot;</span>, chr, <span class="st">&quot;&amp;key=Z2LBZ-YEOCD-RHS46-HNHPJ-ULHLZ-ABFT3&quot;</span>)
  gps &lt;-<span class="st"> </span><span class="kw">lapply</span>(url, <span class="cf">function</span>(x){
    ## 并发限制：5次/秒/接口/Key
    <span class="kw">Sys.sleep</span>(<span class="fl">0.25</span>)
    <span class="kw">fromJSON</span>(<span class="kw">rawToChar</span>(<span class="kw">GET</span>(x)<span class="op">$</span>content))<span class="op">$</span>result<span class="op">$</span>location
})
  gps
}

location &lt;-<span class="st"> </span><span class="kw">do.call</span>(rbind.data.frame, <span class="kw">GPS</span>(line_table<span class="op">$</span>城市))

AQI &lt;-<span class="st"> </span>line_table <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>降序) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lng =</span> <span class="kw">as.character</span>(location<span class="op">$</span>lng), 
         <span class="dt">lat =</span> <span class="kw">as.character</span>(location<span class="op">$</span>lat))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#404a59&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;bottom&#39;</span>,
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">text =</span> <span class="st">&quot;全国主要城市空气质量&quot;</span>,
    <span class="dt">subtext =</span> <span class="st">&quot;data from 真气网&quot;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, 
    <span class="dt">formatter =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">&quot;function (params) {return params.name + &#39; : &#39; + params.value[2];}&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">200</span>,
    <span class="dt">calculable =</span> <span class="ot">TRUE</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>),
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_geo</span>(
    <span class="dt">map =</span> <span class="st">&#39;china&#39;</span>,
    <span class="dt">label =</span> <span class="kw">list</span>(
        <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)),
    <span class="dt">itemStyle =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(
        <span class="dt">areaColor =</span> <span class="st">&#39;#323c48&#39;</span>,
        <span class="dt">borderColor =</span> <span class="st">&#39;#111&#39;</span>),
      <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">areaColor =</span> <span class="st">&#39;#2a333d&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;geo&#39;</span>,
    <span class="dt">data =</span> dat_geo, <span class="dt">name =</span> <span class="st">&#39;AQI&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> 城市, <span class="dt">x =</span> lng, <span class="dt">y =</span> lat, <span class="dt">value =</span> AQI))</code></pre></div>
<div id="htmlwidget-c8318c762e9176f656db" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-c8318c762e9176f656db">{"x":{"opt":{"legend":{"show":true,"left":"right","top":"bottom","textStyle":{"color":"#fff"}},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"function (params) {return params.name + ' : ' + params.value[2];}"},"backgroundColor":["#404a59"],"title":{"text":"全国主要城市空气质量","subtext":"data from 真气网","left":"center","textStyle":{"color":"#fff"}},"visualMap":{"min":0,"max":200,"calculable":true,"color":["#d94e5d","#eac736","#50a3ba"],"textStyle":{"color":"#fff"}},"geo":{"map":"china","label":{"emphasis":{"show":false}},"itemStyle":{"normal":{"areaColor":"#323c48","borderColor":"#111"},"emphasis":{"areaColor":"#2a333d"}}},"series":[{"group":"AQI","data":[{"x":88.31104,"y":43.36378,"name":"乌鲁木齐","value":[88.31104,43.36378,175]},{"x":104.10194,"y":30.65984,"name":"成都","value":[104.10194,30.65984,117]},{"x":117.18554,"y":34.28823,"name":"徐州","value":[117.18554,34.28823,114]},{"x":103.71878,"y":36.10396,"name":"兰州","value":[103.71878,36.10396,113]},{"x":108.93425,"y":34.23053,"name":"西安","value":[108.93425,34.23053,110]},{"x":119.59794,"y":31.72322,"name":"常州","value":[119.59794,31.72322,98]},{"x":118.24238,"y":33.96315,"name":"宿迁","value":[118.24238,33.96315,98]},{"x":123.46987,"y":41.80515,"name":"沈阳","value":[123.46987,41.80515,95]},{"x":126.95717,"y":45.54774,"name":"哈尔滨","value":[126.95717,45.54774,94]},{"x":121.48941,"y":31.40527,"name":"上海","value":[121.48941,31.40527,94]},{"x":114.02919,"y":30.58203,"name":"武汉","value":[114.02919,30.58203,93]},{"x":119.43396,"y":32.13188,"name":"镇江","value":[119.43396,32.13188,93]},{"x":119.91284,"y":28.44594,"name":"丽水","value":[119.91284,28.44594,92]},{"x":119.1773,"y":34.84065,"name":"连云港","value":[119.1773,34.84065,92]},{"x":101.76628,"y":36.6502,"name":"西宁","value":[101.76628,36.6502,91]},{"x":119.43157,"y":32.39463,"name":"扬州","value":[119.43157,32.39463,89]},{"x":120.28429,"y":31.52853,"name":"无锡","value":[120.28429,31.52853,89]},{"x":119.88116,"y":32.31841,"name":"泰州","value":[119.88116,32.31841,88]},{"x":120.85737,"y":32.00986,"name":"南通","value":[120.85737,32.00986,88]},{"x":120.63132,"y":31.30227,"name":"苏州","value":[120.63132,31.30227,87]},{"x":125.28845,"y":43.83327,"name":"长春","value":[125.28845,43.83327,87]},{"x":120.78483,"y":30.74744,"name":"嘉兴","value":[120.78483,30.74744,87]},{"x":117.30794,"y":31.79322,"name":"合肥","value":[117.30794,31.79322,85]},{"x":114.49339,"y":36.61853,"name":"邯郸","value":[114.49339,36.61853,84]},{"x":120.49476,"y":30.08189,"name":"绍兴","value":[120.49476,30.08189,83]},{"x":121.84431,"y":29.89889,"name":"宁波","value":[121.84431,29.89889,82]},{"x":114.50713,"y":37.06787,"name":"邢台","value":[114.50713,37.06787,82]},{"x":118.8735,"y":33.29433,"name":"淮安","value":[118.8735,33.29433,80]},{"x":120.50102,"y":33.20107,"name":"盐城","value":[120.50102,33.20107,80]},{"x":120.21201,"y":30.2084,"name":"杭州","value":[120.21201,30.2084,79]},{"x":118.8921,"y":31.32751,"name":"南京","value":[118.8921,31.32751,78]},{"x":106.62304,"y":26.67856,"name":"贵阳","value":[106.62304,26.67856,78]},{"x":106.24284,"y":38.47314,"name":"银川","value":[106.24284,38.47314,77]},{"x":112.48699,"y":37.94036,"name":"太原","value":[112.48699,37.94036,76]},{"x":120.41847,"y":30.84979,"name":"湖州","value":[120.41847,30.84979,75]},{"x":121.26295,"y":28.64965,"name":"台州","value":[121.26295,28.64965,75]},{"x":106.54041,"y":29.40268,"name":"重庆","value":[106.54041,29.40268,75]},{"x":119.69311,"y":29.09914,"name":"金华","value":[119.69311,29.09914,69]},{"x":110.32941,"y":20.02971,"name":"海口","value":[110.32941,20.02971,69]},{"x":120.39629,"y":36.30744,"name":"青岛","value":[120.39629,36.30744,69]},{"x":114.53952,"y":38.03647,"name":"石家庄","value":[114.53952,38.03647,65]},{"x":112.98626,"y":28.25591,"name":"长沙","value":[112.98626,28.25591,64]},{"x":115.89925,"y":28.68503,"name":"南昌","value":[115.89925,28.68503,63]},{"x":116.75199,"y":36.55358,"name":"济南","value":[116.75199,36.55358,63]},{"x":118.87117,"y":28.96864,"name":"衢州","value":[118.87117,28.96864,62]},{"x":113.88308,"y":22.55329,"name":"深圳","value":[113.88308,22.55329,62]},{"x":122.10679,"y":30.01979,"name":"舟山","value":[122.10679,30.01979,61]},{"x":113.6401,"y":34.72468,"name":"郑州","value":[113.6401,34.72468,61]},{"x":102.82147,"y":24.88554,"name":"昆明","value":[102.82147,24.88554,60]},{"x":113.29658,"y":22.20903,"name":"珠海","value":[113.29658,22.20903,58]},{"x":121.1572,"y":27.83616,"name":"温州","value":[121.1572,27.83616,58]},{"x":115.57938,"y":37.55085,"name":"衡水","value":[115.57938,37.55085,58]},{"x":108.27331,"y":22.78129,"name":"南宁","value":[108.27331,22.78129,57]},{"x":116.86622,"y":38.31419,"name":"沧州","value":[116.86622,38.31419,57]},{"x":91.13775,"y":29.65262,"name":"拉萨","value":[91.13775,29.65262,56]},{"x":114.38273,"y":23.08383,"name":"惠州","value":[114.38273,23.08383,55]},{"x":119.27345,"y":26.04769,"name":"福州","value":[119.27345,26.04769,55]},{"x":115.45875,"y":38.87757,"name":"保定","value":[115.45875,38.87757,54]},{"x":112.56706,"y":23.15815,"name":"肇庆","value":[112.56706,23.15815,54]},{"x":111.62299,"y":40.80772,"name":"呼和浩特","value":[111.62299,40.80772,53]},{"x":112.89262,"y":22.90026,"name":"佛山","value":[112.89262,22.90026,52]},{"x":118.03394,"y":24.48405,"name":"厦门","value":[118.03394,24.48405,52]},{"x":118.46023,"y":39.27313,"name":"唐山","value":[118.46023,39.27313,50]},{"x":113.75179,"y":23.02067,"name":"东莞","value":[113.75179,23.02067,50]},{"x":113.3926,"y":22.51595,"name":"中山","value":[113.3926,22.51595,50]},{"x":113.11103,"y":22.56028,"name":"江门","value":[113.11103,22.56028,48]},{"x":113.27324,"y":23.15792,"name":"广州","value":[113.27324,23.15792,46]},{"x":117.30983,"y":39.71755,"name":"天津","value":[117.30983,39.71755,43]},{"x":117.80024,"y":40.95913,"name":"承德","value":[117.80024,40.95913,42]},{"x":115.28264,"y":40.97457,"name":"张家口","value":[115.28264,40.97457,40]},{"x":119.48458,"y":39.83507,"name":"秦皇岛","value":[119.48458,39.83507,40]},{"x":116.23128,"y":40.22077,"name":"北京","value":[116.23128,40.22077,37]},{"x":121.5255,"y":38.95223,"name":"大连","value":[121.5255,38.95223,36]},{"x":116.68572,"y":39.50311,"name":"廊坊","value":[116.68572,39.50311,35]}],"type":"scatter","coordinateSystem":"geo","name":"AQI"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="series.data" class="section level2">
<h2><span class="header-section-number">4.11</span> series.data</h2>
<p>系列中的数据内容数组。数组项通常为具体的数据项。</p>
<p>注意，如果系列没有指定data，并且option有dataset，那么默认使用第一个dataset。如果指定了data，则不会再使用dataset。后续详细介绍dataset，本节主要介绍series中的data</p>
<p>通常来说，数据用一个二维数组表示。如下，每一列被称为一个『维度』</p>
<pre><code>series: [{
    data: [
        // 维度X   维度Y   其他维度 ...
        [  3.4,    4.5,   15,   43],
        [  4.2,    2.3,   20,   91],
        [  10.8,   9.5,   30,   18],
        [  7.2,    8.8,   18,   57]
    ]
}]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">opt_dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(weekDay, saleNum, fruit, price) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">setNames</span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>jsonlite<span class="op">::</span><span class="kw">toJSON</span>()
  <span class="co"># as.matrix() 也可以转为matrix，但是若存在列类型为字符，则数值也会转为字符，会存在潜在的影响，建议转为json。</span>

opt_tmp =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="dt">data =</span> opt_dat))
<span class="kw">echart</span>(opt_tmp)</code></pre></div>
<div id="htmlwidget-19409f21919e27091c2d" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-19409f21919e27091c2d">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":{"type":"scatter","data":[["Mon",70,"Apple",15],["Tues",87,"Apple",19],["Wed",42,"Apple",16],["Thurs",33,"Apple",18],["Fri",26,"Apple",18],["Sat",67,"Apple",13],["Sun",34,"Apple",13],["Mon",75,"Pear",18],["Tues",78,"Pear",15],["Wed",84,"Pear",19],["Thurs",91,"Pear",18],["Fri",49,"Pear",17],["Sat",80,"Pear",11],["Sun",61,"Pear",16],["Mon",24,"Banana",18],["Tues",38,"Banana",16],["Wed",34,"Banana",10],["Thurs",93,"Banana",12],["Fri",23,"Banana",20],["Sat",77,"Banana",16],["Sun",30,"Banana",11]]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<ul>
<li>在 直角坐标系 (grid) 中『维度X』和『维度Y』会默认对应于 xAxis 和 yAxis。</li>
<li>在 极坐标系 (polar) 中『维度X』和『维度Y』会默认对应于 radiusAxis 和 angleAxis。</li>
<li>后面的其他维度是可选的，可以在别处被使用，例如：</li>
<li>在 visualMap 中可以将一个或多个维度映射到颜色，大小等多个图形属性上。</li>
<li>在 series.symbolSize 中可以使用回调函数，基于某个维度得到 symbolSize 值。</li>
<li>使用 tooltip.formatter 或 series.label.formatter 可以把其他维度的值展示出来。</li>
</ul>
<p>特别地，当只有一个轴为类目轴（axis.type 为 ‘category’）的时候，数据可以简化用一个一维数组表示。例如：</p>
<pre><code>xAxis: {
  data: [&#39;a&#39;, &#39;b&#39;, &#39;m&#39;, &#39;n&#39;]
},
series: [{
  // 与 xAxis.data 一一对应。
  data: [23,  44,  55,  19]
  // 它其实是下面这种形式的简化：
  // data: [[0, 23], [1, 44], [2, 55], [3, 19]]
}]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_tmp_y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">5</span>, <span class="dv">20</span>, <span class="dv">36</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">20</span>)
dat_tmp &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">6</span>), <span class="dt">y =</span> dat_tmp_y) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">setNames</span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>jsonlite<span class="op">::</span><span class="kw">toJSON</span>()

opt_tmp =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>,
    <span class="co"># data = dat_tmp_y 是dat_tmp的简化</span>
    <span class="dt">data =</span> dat_tmp))
<span class="kw">echart</span>(opt_tmp)</code></pre></div>
<div id="htmlwidget-e4e2088b3afa9858bff1" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-e4e2088b3afa9858bff1">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":{"type":"line","data":[[0,12],[1,5],[2,20],[3,36],[4,10],[5,10],[6,20]]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>『值』与 轴类型 的关系：</p>
<ul>
<li>当某维度对应于数值轴（axis.type为<code>'value'</code>或者<code>'log'</code>）的时候：其值可以为<code>number</code>（例如 12）。（也可以兼容<code>string</code>形式的<code>number</code>，例如 ‘12’）</li>
<li>当某维度对应于类目轴（axis.type为<code>'category'</code>）的时候：其值须为类目的『序数』（从<code>0</code> 开始）或者类目的『字符串值』。例如：</li>
</ul>
<p>其值须为类目的『序数』（从 0 开始）或者类目的『字符串值』。例如：</p>
<pre><code>xAxis: {
  type: &#39;category&#39;,
  data: [&#39;星期一&#39;, &#39;星期二&#39;, &#39;星期三&#39;, &#39;星期四&#39;]
},
yAxis: {
  type: &#39;category&#39;,
  data: [&#39;a&#39;, &#39;b&#39;, &#39;m&#39;, &#39;n&#39;, &#39;p&#39;, &#39;q&#39;]
},
series: [{
  data: [
    // xAxis    yAxis
    [0, 0, 2], // 意思是此点位于 xAxis: &#39;星期一&#39;, yAxis: &#39;a&#39;。
    [&#39;星期四&#39;, 2, 1], // 意思是此点位于 xAxis: &#39;星期四&#39;, yAxis: &#39;m&#39;。
    [2, &#39;p&#39;, 2], // 意思是此点位于 xAxis: &#39;星期三&#39;, yAxis: &#39;p&#39;。
    [3, 3, 5]
  ]
}]</code></pre>
<p>当某维度对应于时间轴（type 为<code>'time'</code>）的时候，值可以为： - 一个时间戳，如 1484141700832，表示 UTC 时间。 - 或者字符串形式的时间描述： - ISO 8601 的子集，只包含这些形式（这几种格式，除非指明时区，否则均表示本地时间，与 moment 一致）： - 部分年月日时间: ‘2012-03’, ‘2012-03-01’, ‘2012-03-01 05’, ‘2012-03-01 05:06’. - 使用 ‘T’ 或空格分割: ‘2012-03-01T12:22:33.123’, ‘2012-03-01 12:22:33.123’. - 时区设定: ‘2012-03-01T12:22:33Z’, ‘2012-03-01T12:22:33+8000’, ‘2012-03-01T12:22:33-05:00’. - 其他的时间字符串，包括（均表示本地时间）: ‘2012’, ‘2012-3-1’, ‘2012/3/1’, ‘2012/03/01’, ‘2009/6/12 2:00’, ‘2009/6/12 2:05:08’, ‘2009/6/12 2:05:08.123’ - 或者用户自行初始化的 Date 实例： - 注意，用户自行初始化 Date 实例的时候，浏览器的行为有差异，不同字符串的表示也不同。 - 例如：在 chrome 中，new Date(‘2012-01-01’) 表示 UTC 时间的 2012 年 1 月 1 日，而 new Date(‘2012-1-1’) 和 new Date(‘2012/01/01’) 表示本地时间的 2012 年 1 月 1 日。在 safari 中，不支持 new Date(‘2012-1-1’) 这种表示方法。 - 所以，使用 new Date(dataString) 时，可使用第三方库解析（如 moment），或者使用 echarts.number.parseDate，或者参见 这里。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># datetime_to_timestamp &lt;- function(dt) {</span>
<span class="co">#   assertthat::assert_that(assertthat::is.date(dt) | assertthat::is.time(dt))</span>
<span class="co">#   tmstmp &lt;- as.numeric(as.POSIXct(dt))</span>
<span class="co">#   tmstmp &lt;- 1000 * tmstmp</span>
<span class="co">#   tmstmp</span>
<span class="co"># }</span>
dat_tmp &lt;-<span class="st"> </span>dat_date <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> <span class="kw">datetime_to_timestamp</span>(date)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">setNames</span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>jsonlite<span class="op">::</span><span class="kw">toJSON</span>()

opt_tmp =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;time&#39;</span>),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>,
    <span class="dt">data =</span> dat_tmp))
<span class="kw">echart</span>(opt_tmp)</code></pre></div>
<div id="htmlwidget-4b8bd7834884ef5e3268" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-4b8bd7834884ef5e3268">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":{"type":"line","data":[[1483228800000,362],[1483315200000,426],[1483401600000,956],[1483488000000,440],[1483574400000,84],[1483660800000,275],[1483747200000,894],[1483833600000,928],[1483920000000,74],[1484006400000,212],[1484092800000,829],[1484179200000,216],[1484265600000,91],[1484352000000,552],[1484438400000,505],[1484524800000,101],[1484611200000,595],[1484697600000,435],[1484784000000,171],[1484870400000,172],[1484956800000,509],[1485043200000,190],[1485129600000,671],[1485216000000,620],[1485302400000,967],[1485388800000,540],[1485475200000,675],[1485561600000,663],[1485648000000,535],[1485734400000,172],[1485820800000,232],[1485907200000,948],[1485993600000,5],[1486080000000,505],[1486166400000,171],[1486252800000,240],[1486339200000,635],[1486425600000,681],[1486512000000,402],[1486598400000,483],[1486684800000,690],[1486771200000,383],[1486857600000,31],[1486944000000,917],[1487030400000,872],[1487116800000,456],[1487203200000,494],[1487289600000,846],[1487376000000,908],[1487462400000,541],[1487548800000,808],[1487635200000,632],[1487721600000,626],[1487808000000,919],[1487894400000,760],[1487980800000,744],[1488067200000,655],[1488153600000,733],[1488240000000,55],[1488326400000,242],[1488412800000,687],[1488499200000,77],[1488585600000,749],[1488672000000,706],[1488758400000,931],[1488844800000,397],[1488931200000,517],[1489017600000,731],[1489104000000,447],[1489190400000,932],[1489276800000,533],[1489363200000,460],[1489449600000,682],[1489536000000,949],[1489622400000,421],[1489708800000,347],[1489795200000,143],[1489881600000,341],[1489968000000,359],[1490054400000,720],[1490140800000,876],[1490227200000,95],[1490313600000,543],[1490400000000,520],[1490486400000,583],[1490572800000,454],[1490659200000,564],[1490745600000,323],[1490832000000,162],[1490918400000,937],[1491004800000,735],[1491091200000,998],[1491177600000,821],[1491264000000,821],[1491350400000,737],[1491436800000,926],[1491523200000,935],[1491609600000,823],[1491696000000,252],[1491782400000,895],[1491868800000,992],[1491955200000,406],[1492041600000,599],[1492128000000,183],[1492214400000,815],[1492300800000,58],[1492387200000,544],[1492473600000,797],[1492560000000,587],[1492646400000,480],[1492732800000,952],[1492819200000,745],[1492905600000,289],[1492992000000,525],[1493078400000,792],[1493164800000,337],[1493251200000,609],[1493337600000,524],[1493424000000,624],[1493510400000,9],[1493596800000,111],[1493683200000,727],[1493769600000,548],[1493856000000,157],[1493942400000,545],[1494028800000,624],[1494115200000,511],[1494201600000,476],[1494288000000,673],[1494374400000,26],[1494460800000,768],[1494547200000,321],[1494633600000,563],[1494720000000,712],[1494806400000,550],[1494892800000,772],[1494979200000,775],[1495065600000,355],[1495152000000,987],[1495238400000,418],[1495324800000,631],[1495411200000,525],[1495497600000,263],[1495584000000,110],[1495670400000,483],[1495756800000,883],[1495843200000,730],[1495929600000,798],[1496016000000,8],[1496102400000,57],[1496188800000,242],[1496275200000,871],[1496361600000,736],[1496448000000,829],[1496534400000,363],[1496620800000,312],[1496707200000,61],[1496793600000,475],[1496880000000,455],[1496966400000,627],[1497052800000,837],[1497139200000,129],[1497225600000,857],[1497312000000,733],[1497398400000,535],[1497484800000,668],[1497571200000,8],[1497657600000,157],[1497744000000,659],[1497830400000,445],[1497916800000,954],[1498003200000,364],[1498089600000,346],[1498176000000,25],[1498262400000,769],[1498348800000,423],[1498435200000,96],[1498521600000,430],[1498608000000,545],[1498694400000,903],[1498780800000,370],[1498867200000,881],[1498953600000,556],[1499040000000,506],[1499126400000,122],[1499212800000,823],[1499299200000,618],[1499385600000,526],[1499472000000,188],[1499558400000,387],[1499644800000,285],[1499731200000,32],[1499817600000,852],[1499904000000,165],[1499990400000,431],[1500076800000,629],[1500163200000,254],[1500249600000,115],[1500336000000,133],[1500422400000,239],[1500508800000,947],[1500595200000,210],[1500681600000,364],[1500768000000,591],[1500854400000,375],[1500940800000,200],[1501027200000,207],[1501113600000,808],[1501200000000,972],[1501286400000,478],[1501372800000,869],[1501459200000,895],[1501545600000,351],[1501632000000,175],[1501718400000,582],[1501804800000,242],[1501891200000,402],[1501977600000,997],[1502064000000,462],[1502150400000,515],[1502236800000,265],[1502323200000,914],[1502409600000,639],[1502496000000,870],[1502582400000,500],[1502668800000,726],[1502755200000,899],[1502841600000,667],[1502928000000,674],[1503014400000,681],[1503100800000,498],[1503187200000,945],[1503273600000,970],[1503360000000,278],[1503446400000,126],[1503532800000,294],[1503619200000,45],[1503705600000,774],[1503792000000,784],[1503878400000,193],[1503964800000,547],[1504051200000,462],[1504137600000,183],[1504224000000,569],[1504310400000,463],[1504396800000,965],[1504483200000,338],[1504569600000,856],[1504656000000,100],[1504742400000,251],[1504828800000,622],[1504915200000,131],[1505001600000,568],[1505088000000,618],[1505174400000,156],[1505260800000,37],[1505347200000,111],[1505433600000,177],[1505520000000,894],[1505606400000,884],[1505692800000,34],[1505779200000,544],[1505865600000,230],[1505952000000,977],[1506038400000,595],[1506124800000,347],[1506211200000,747],[1506297600000,945],[1506384000000,295],[1506470400000,546],[1506556800000,840],[1506643200000,512],[1506729600000,285],[1506816000000,519],[1506902400000,937],[1506988800000,368],[1507075200000,198],[1507161600000,408],[1507248000000,505],[1507334400000,526],[1507420800000,770],[1507507200000,690],[1507593600000,981],[1507680000000,624],[1507766400000,111],[1507852800000,112],[1507939200000,193],[1508025600000,643],[1508112000000,42],[1508198400000,442],[1508284800000,482],[1508371200000,156],[1508457600000,240],[1508544000000,497],[1508630400000,612],[1508716800000,528],[1508803200000,190],[1508889600000,509],[1508976000000,202],[1509062400000,257],[1509148800000,537],[1509235200000,19],[1509321600000,625],[1509408000000,106],[1509494400000,464],[1509580800000,739],[1509667200000,520],[1509753600000,267],[1509840000000,485],[1509926400000,650],[1510012800000,742],[1510099200000,182],[1510185600000,745],[1510272000000,483],[1510358400000,566],[1510444800000,294],[1510531200000,836],[1510617600000,558],[1510704000000,491],[1510790400000,38],[1510876800000,69],[1510963200000,43],[1511049600000,818],[1511136000000,781],[1511222400000,478],[1511308800000,710],[1511395200000,371],[1511481600000,717],[1511568000000,143],[1511654400000,273],[1511740800000,240],[1511827200000,488],[1511913600000,131],[1512000000000,249],[1512086400000,342],[1512172800000,449],[1512259200000,195],[1512345600000,463],[1512432000000,298],[1512518400000,964],[1512604800000,373],[1512691200000,165],[1512777600000,27],[1512864000000,51],[1512950400000,482],[1513036800000,589],[1513123200000,849],[1513209600000,5],[1513296000000,868],[1513382400000,567],[1513468800000,234],[1513555200000,30],[1513641600000,208],[1513728000000,736],[1513814400000,857],[1513900800000,964],[1513987200000,935],[1514073600000,646],[1514160000000,814],[1514246400000,685],[1514332800000,373],[1514419200000,774],[1514505600000,491],[1514592000000,602],[1514678400000,175]]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>空值：</p>
<p>当某数据不存在时（ps：不存在不代表值为 0），可以用 ‘-’ 或者 null 或者 undefined 或者 NaN 表示。 例如，无数据在折线图中可表现为该点是断开的，在其它图中可表示为图形不存在。</p>
</div>
<div id="-ec_dataset" class="section level2">
<h2><span class="header-section-number">4.12</span> 数据集: ec_dataset</h2>
<p>支持的图表类型: line, bar, scatter, effectScatter, boxplot, candlestick, pictorialBar, custom</p>
<div id="id" class="section level3">
<h3><span class="header-section-number">4.12.1</span> id</h3>
<p>如果 series.data 没有指定，并且 dataset 存在，那么就会使用 dataset。datasetIndex 指定本系列使用那个 dataset，需要注意的是：<strong>datasetIndex并不是dataset.id的值，而是dataset的从0开始序列值</strong>。</p>
</div>
<div id="sourcedata" class="section level3">
<h3><span class="header-section-number">4.12.2</span> source/data</h3>
<p><a href="http://echarts.baidu.com/option.html#dataset.source">dataset.source</a></p>
<p>暂时只支持data.frame，matrix和json三种数据格式。</p>
<p>如果是导入的数据合适为json，ec_dataset会直接取用该数据，并且默认<code>dimensions = NULL</code>。否则会通过<code>source = jsonlite::toJSON(setNames(data, NULL))</code>转为json，并且默认<code>dimensions =  colnames(data)</code>。</p>
<p>另外可以通过data或source两种参数传入数据，若同时含有这两个参数，则取source数据。</p>
</div>
<div id="dimensions" class="section level3">
<h3><span class="header-section-number">4.12.3</span> dimensions</h3>
<p><a href="http://echarts.baidu.com/option.html#dataset.dimensions">dataset.dimensions</a></p>
<p>使用 dimensions 定义 dataset.source 的每个维度的信息。如果不设定 dimensions ，若导入的数据格式是data.frame，则默认为colnames(data)，若导入的数据格式是json，则默认为NULL。</p>
<blockquote>
<p>注意：如果使用了 dataset，那么可以在 dataset.source 的第一行/列中给出 dimension 名称。于是就不用在这里指定 dimension。但是，如果在这里指定了 dimensions，那么 echarts 不再会自动从 dataset.source 的第一行/列中获取维度信息。</p>
</blockquote>
<p>目前发现一个问题，即使在dataset指定了 dimensions ，如果 dataset.source 的数据为字符型，echarts 虽然不会自动从 dataset.source 的第一行/列中获取维度信息，但是还会默认 dataset.source 的第一行/列为维度信息，不取第一行/列的值。</p>
</div>
<div id="sourceheader" class="section level3">
<h3><span class="header-section-number">4.12.4</span> sourceHeader</h3>
<p>默认<code>sourceHeader = FALSE</code>，即第一行/列直接开始是数据。</p>
</div>
<div id="encode" class="section level3">
<h3><span class="header-section-number">4.12.5</span> encode</h3>
<p>用于可以定义 data 的哪个维度被编码成什么。</p>
<blockquote>
<p>encode 支持的属性，根据坐标系不同而不同。 对于 直角坐标系（cartesian2d），支持 x、y。 对于 极坐标系（polar），支持 radius、angle。 对于 地理坐标系（geo），支持 lng，lat。 此外，均支持 tooltip 和 itemName（用于指定 tooltip 中数据项名称）。</p>
</blockquote>
<p>当使用 dimensions 给维度定义名称后，encode 中可直接引用名称</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_fruit_sp &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(fruit, weekDay, saleNum) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">spread</span>(fruit, saleNum) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">match</span>(weekDay, weekDays))

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;水果销量&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> weekDays) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataset</span>(<span class="dt">data =</span> dat_fruit_sp) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataset</span>(<span class="dt">source =</span> jsonlite<span class="op">::</span><span class="kw">toJSON</span>(dat_fruit_sp), <span class="dt">id =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataset</span>(<span class="dt">source =</span> <span class="kw">as.matrix</span>(dat_fruit_sp), <span class="dt">id =</span> <span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Apple&quot;</span>, 
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">encode =</span> <span class="kw">list</span>(<span class="dt">y =</span> <span class="st">&quot;Apple&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Banana&quot;</span>, <span class="dt">datasetIndex =</span> <span class="dv">1</span>,
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">encode =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="st">&quot;weekDay&quot;</span>, <span class="dt">y =</span> <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">datasetIndex =</span> <span class="dv">2</span>,
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">encode =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">0</span>, <span class="dt">y =</span> <span class="dv">3</span>, <span class="dt">seriesName =</span> <span class="dv">3</span>, <span class="dt">tooltip =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">3</span>))) </code></pre></div>
<div id="htmlwidget-8186c5b0fb9f1c1c31a4" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-8186c5b0fb9f1c1c31a4">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"title":{"text":"水果销量"},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"dataset":[{"id":0,"source":[["Mon",70,24,75],["Tues",87,38,78],["Wed",42,34,84],["Thurs",33,93,91],["Fri",26,23,49],["Sat",67,77,80],["Sun",34,30,61]],"dimensions":["weekDay","Apple","Banana","Pear"],"sourceHeader":false},{"id":1,"source":[{"weekDay":"Mon","Apple":70,"Banana":24,"Pear":75},{"weekDay":"Tues","Apple":87,"Banana":38,"Pear":78},{"weekDay":"Wed","Apple":42,"Banana":34,"Pear":84},{"weekDay":"Thurs","Apple":33,"Banana":93,"Pear":91},{"weekDay":"Fri","Apple":26,"Banana":23,"Pear":49},{"weekDay":"Sat","Apple":67,"Banana":77,"Pear":80},{"weekDay":"Sun","Apple":34,"Banana":30,"Pear":61}],"dimensions":null,"sourceHeader":false},{"id":5,"source":[["Mon","70","24","75"],["Tues","87","38","78"],["Wed","42","34","84"],["Thurs","33","93","91"],["Fri","26","23","49"],["Sat","67","77","80"],["Sun","34","30","61"]],"dimensions":["weekDay","Apple","Banana","Pear"],"sourceHeader":false}],"series":[{"name":"Apple","type":"line","encode":{"y":"Apple"}},{"name":"Banana","datasetIndex":1,"type":"line","encode":{"x":"weekDay","y":2}},{"datasetIndex":2,"type":"line","encode":{"x":0,"y":3,"seriesName":3,"tooltip":[0,3]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="ec_add_series" class="section level2">
<h2><span class="header-section-number">4.13</span> ec_add_series</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 目前支持下列两种方式
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">name =</span> dat<span class="op">$</span>weekDay, <span class="dt">value =</span> dat<span class="op">$</span>saleNum, <span class="dt">group =</span> dat<span class="op">$</span>fruit)
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit)
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">x =</span> dat<span class="op">$</span>weekDay, <span class="dt">y =</span> dat<span class="op">$</span>saleNum, <span class="dt">group =</span> fruit)
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)
## 暂不支持下列方式
<span class="co"># mapping = ecaes(name = ~weekDay, value = ~saleNum, group = ~fruit)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">symbolSize =</span> price))</code></pre></div>
<div id="htmlwidget-0a717b273d7f9c873082" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-0a717b273d7f9c873082">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"Mon","y":70,"symbolSize":15,"value":["Mon","70"]},{"x":"Tues","y":87,"symbolSize":19,"value":["Tues","87"]},{"x":"Wed","y":42,"symbolSize":16,"value":["Wed","42"]},{"x":"Thurs","y":33,"symbolSize":18,"value":["Thurs","33"]},{"x":"Fri","y":26,"symbolSize":18,"value":["Fri","26"]},{"x":"Sat","y":67,"symbolSize":13,"value":["Sat","67"]},{"x":"Sun","y":34,"symbolSize":13,"value":["Sun","34"]},{"x":"Mon","y":75,"symbolSize":18,"value":["Mon","75"]},{"x":"Tues","y":78,"symbolSize":15,"value":["Tues","78"]},{"x":"Wed","y":84,"symbolSize":19,"value":["Wed","84"]},{"x":"Thurs","y":91,"symbolSize":18,"value":["Thurs","91"]},{"x":"Fri","y":49,"symbolSize":17,"value":["Fri","49"]},{"x":"Sat","y":80,"symbolSize":11,"value":["Sat","80"]},{"x":"Sun","y":61,"symbolSize":16,"value":["Sun","61"]},{"x":"Mon","y":24,"symbolSize":18,"value":["Mon","24"]},{"x":"Tues","y":38,"symbolSize":16,"value":["Tues","38"]},{"x":"Wed","y":34,"symbolSize":10,"value":["Wed","34"]},{"x":"Thurs","y":93,"symbolSize":12,"value":["Thurs","93"]},{"x":"Fri","y":23,"symbolSize":20,"value":["Fri","23"]},{"x":"Sat","y":77,"symbolSize":16,"value":["Sat","77"]},{"x":"Sun","y":30,"symbolSize":11,"value":["Sun","30"]}],"type":"scatter"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div id="ec_add_series.default" class="section level3">
<h3><span class="header-section-number">4.13.1</span> ec_add_series.default</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-33418904a01b76bd8544" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-33418904a01b76bd8544">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":70,"value":["Mon","70"]},{"x":"Tues","y":87,"value":["Tues","87"]},{"x":"Wed","y":42,"value":["Wed","42"]},{"x":"Thurs","y":33,"value":["Thurs","33"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":67,"value":["Sat","67"]},{"x":"Sun","y":34,"value":["Sun","34"]}],"type":"bar"},{"name":"Banana","data":[{"x":"Mon","y":24,"value":["Mon","24"]},{"x":"Tues","y":38,"value":["Tues","38"]},{"x":"Wed","y":34,"value":["Wed","34"]},{"x":"Thurs","y":93,"value":["Thurs","93"]},{"x":"Fri","y":23,"value":["Fri","23"]},{"x":"Sat","y":77,"value":["Sat","77"]},{"x":"Sun","y":30,"value":["Sun","30"]}],"type":"bar"},{"name":"Pear","data":[{"x":"Mon","y":75,"value":["Mon","75"]},{"x":"Tues","y":78,"value":["Tues","78"]},{"x":"Wed","y":84,"value":["Wed","84"]},{"x":"Thurs","y":91,"value":["Thurs","91"]},{"x":"Fri","y":49,"value":["Fri","49"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":61,"value":["Sun","61"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.data.frame" class="section level3">
<h3><span class="header-section-number">4.13.2</span> ec_add_series.data.frame</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>)), <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Banana&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">name =</span> <span class="st">&#39;Banana&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) </code></pre></div>
<div id="htmlwidget-7ca6bd2ebe7b904bd68e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-7ca6bd2ebe7b904bd68e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":70,"value":["Mon","70"]},{"x":"Tues","y":87,"value":["Tues","87"]},{"x":"Wed","y":42,"value":["Wed","42"]},{"x":"Thurs","y":33,"value":["Thurs","33"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":67,"value":["Sat","67"]},{"x":"Sun","y":34,"value":["Sun","34"]}],"type":"bar"},{"name":"Pear","data":[{"x":"Mon","y":75,"value":["Mon","75"]},{"x":"Tues","y":78,"value":["Tues","78"]},{"x":"Wed","y":84,"value":["Wed","84"]},{"x":"Thurs","y":91,"value":["Thurs","91"]},{"x":"Fri","y":49,"value":["Fri","49"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":61,"value":["Sun","61"]}],"type":"bar"},{"group":"Banana","data":[{"x":"Mon","y":24,"value":["Mon","24"]},{"x":"Tues","y":38,"value":["Tues","38"]},{"x":"Wed","y":34,"value":["Wed","34"]},{"x":"Thurs","y":93,"value":["Thurs","93"]},{"x":"Fri","y":23,"value":["Fri","23"]},{"x":"Sat","y":77,"value":["Sat","77"]},{"x":"Sun","y":30,"value":["Sun","30"]}],"type":"line","name":"Banana"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="kw">list</span>(
      <span class="dt">value =</span> <span class="st">&#39;Mon&#39;</span>,
      <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;red&#39;</span>)),
    <span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>))</code></pre></div>
<div id="htmlwidget-7d09110ad1c77ab55eb7" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-7d09110ad1c77ab55eb7">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":[{"value":"Mon","textStyle":{"color":"red"}},"Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":70,"value":["Mon","70"]},{"x":"Tues","y":87,"value":["Tues","87"]},{"x":"Wed","y":42,"value":["Wed","42"]},{"x":"Thurs","y":33,"value":["Thurs","33"]},{"x":"Fri","y":26,"value":["Fri","26"]},{"x":"Sat","y":67,"value":["Sat","67"]},{"x":"Sun","y":34,"value":["Sun","34"]}],"type":"bar"},{"name":"Banana","data":[{"x":"Mon","y":24,"value":["Mon","24"]},{"x":"Tues","y":38,"value":["Tues","38"]},{"x":"Wed","y":34,"value":["Wed","34"]},{"x":"Thurs","y":93,"value":["Thurs","93"]},{"x":"Fri","y":23,"value":["Fri","23"]},{"x":"Sat","y":77,"value":["Sat","77"]},{"x":"Sun","y":30,"value":["Sun","30"]}],"type":"bar"},{"name":"Pear","data":[{"x":"Mon","y":75,"value":["Mon","75"]},{"x":"Tues","y":78,"value":["Tues","78"]},{"x":"Wed","y":84,"value":["Wed","84"]},{"x":"Thurs","y":91,"value":["Thurs","91"]},{"x":"Fri","y":49,"value":["Fri","49"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":61,"value":["Sun","61"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_date, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value))</code></pre></div>
<div id="htmlwidget-24453d7d213f57723176" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-24453d7d213f57723176">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":1483228800000,"y":362,"value":[1483228800000,362]},{"x":1483315200000,"y":426,"value":[1483315200000,426]},{"x":1483401600000,"y":956,"value":[1483401600000,956]},{"x":1483488000000,"y":440,"value":[1483488000000,440]},{"x":1483574400000,"y":84,"value":[1483574400000,84]},{"x":1483660800000,"y":275,"value":[1483660800000,275]},{"x":1483747200000,"y":894,"value":[1483747200000,894]},{"x":1483833600000,"y":928,"value":[1483833600000,928]},{"x":1483920000000,"y":74,"value":[1483920000000,74]},{"x":1484006400000,"y":212,"value":[1484006400000,212]},{"x":1484092800000,"y":829,"value":[1484092800000,829]},{"x":1484179200000,"y":216,"value":[1484179200000,216]},{"x":1484265600000,"y":91,"value":[1484265600000,91]},{"x":1484352000000,"y":552,"value":[1484352000000,552]},{"x":1484438400000,"y":505,"value":[1484438400000,505]},{"x":1484524800000,"y":101,"value":[1484524800000,101]},{"x":1484611200000,"y":595,"value":[1484611200000,595]},{"x":1484697600000,"y":435,"value":[1484697600000,435]},{"x":1484784000000,"y":171,"value":[1484784000000,171]},{"x":1484870400000,"y":172,"value":[1484870400000,172]},{"x":1484956800000,"y":509,"value":[1484956800000,509]},{"x":1485043200000,"y":190,"value":[1485043200000,190]},{"x":1485129600000,"y":671,"value":[1485129600000,671]},{"x":1485216000000,"y":620,"value":[1485216000000,620]},{"x":1485302400000,"y":967,"value":[1485302400000,967]},{"x":1485388800000,"y":540,"value":[1485388800000,540]},{"x":1485475200000,"y":675,"value":[1485475200000,675]},{"x":1485561600000,"y":663,"value":[1485561600000,663]},{"x":1485648000000,"y":535,"value":[1485648000000,535]},{"x":1485734400000,"y":172,"value":[1485734400000,172]},{"x":1485820800000,"y":232,"value":[1485820800000,232]},{"x":1485907200000,"y":948,"value":[1485907200000,948]},{"x":1485993600000,"y":5,"value":[1485993600000,5]},{"x":1486080000000,"y":505,"value":[1486080000000,505]},{"x":1486166400000,"y":171,"value":[1486166400000,171]},{"x":1486252800000,"y":240,"value":[1486252800000,240]},{"x":1486339200000,"y":635,"value":[1486339200000,635]},{"x":1486425600000,"y":681,"value":[1486425600000,681]},{"x":1486512000000,"y":402,"value":[1486512000000,402]},{"x":1486598400000,"y":483,"value":[1486598400000,483]},{"x":1486684800000,"y":690,"value":[1486684800000,690]},{"x":1486771200000,"y":383,"value":[1486771200000,383]},{"x":1486857600000,"y":31,"value":[1486857600000,31]},{"x":1486944000000,"y":917,"value":[1486944000000,917]},{"x":1487030400000,"y":872,"value":[1487030400000,872]},{"x":1487116800000,"y":456,"value":[1487116800000,456]},{"x":1487203200000,"y":494,"value":[1487203200000,494]},{"x":1487289600000,"y":846,"value":[1487289600000,846]},{"x":1487376000000,"y":908,"value":[1487376000000,908]},{"x":1487462400000,"y":541,"value":[1487462400000,541]},{"x":1487548800000,"y":808,"value":[1487548800000,808]},{"x":1487635200000,"y":632,"value":[1487635200000,632]},{"x":1487721600000,"y":626,"value":[1487721600000,626]},{"x":1487808000000,"y":919,"value":[1487808000000,919]},{"x":1487894400000,"y":760,"value":[1487894400000,760]},{"x":1487980800000,"y":744,"value":[1487980800000,744]},{"x":1488067200000,"y":655,"value":[1488067200000,655]},{"x":1488153600000,"y":733,"value":[1488153600000,733]},{"x":1488240000000,"y":55,"value":[1488240000000,55]},{"x":1488326400000,"y":242,"value":[1488326400000,242]},{"x":1488412800000,"y":687,"value":[1488412800000,687]},{"x":1488499200000,"y":77,"value":[1488499200000,77]},{"x":1488585600000,"y":749,"value":[1488585600000,749]},{"x":1488672000000,"y":706,"value":[1488672000000,706]},{"x":1488758400000,"y":931,"value":[1488758400000,931]},{"x":1488844800000,"y":397,"value":[1488844800000,397]},{"x":1488931200000,"y":517,"value":[1488931200000,517]},{"x":1489017600000,"y":731,"value":[1489017600000,731]},{"x":1489104000000,"y":447,"value":[1489104000000,447]},{"x":1489190400000,"y":932,"value":[1489190400000,932]},{"x":1489276800000,"y":533,"value":[1489276800000,533]},{"x":1489363200000,"y":460,"value":[1489363200000,460]},{"x":1489449600000,"y":682,"value":[1489449600000,682]},{"x":1489536000000,"y":949,"value":[1489536000000,949]},{"x":1489622400000,"y":421,"value":[1489622400000,421]},{"x":1489708800000,"y":347,"value":[1489708800000,347]},{"x":1489795200000,"y":143,"value":[1489795200000,143]},{"x":1489881600000,"y":341,"value":[1489881600000,341]},{"x":1489968000000,"y":359,"value":[1489968000000,359]},{"x":1490054400000,"y":720,"value":[1490054400000,720]},{"x":1490140800000,"y":876,"value":[1490140800000,876]},{"x":1490227200000,"y":95,"value":[1490227200000,95]},{"x":1490313600000,"y":543,"value":[1490313600000,543]},{"x":1490400000000,"y":520,"value":[1490400000000,520]},{"x":1490486400000,"y":583,"value":[1490486400000,583]},{"x":1490572800000,"y":454,"value":[1490572800000,454]},{"x":1490659200000,"y":564,"value":[1490659200000,564]},{"x":1490745600000,"y":323,"value":[1490745600000,323]},{"x":1490832000000,"y":162,"value":[1490832000000,162]},{"x":1490918400000,"y":937,"value":[1490918400000,937]},{"x":1491004800000,"y":735,"value":[1491004800000,735]},{"x":1491091200000,"y":998,"value":[1491091200000,998]},{"x":1491177600000,"y":821,"value":[1491177600000,821]},{"x":1491264000000,"y":821,"value":[1491264000000,821]},{"x":1491350400000,"y":737,"value":[1491350400000,737]},{"x":1491436800000,"y":926,"value":[1491436800000,926]},{"x":1491523200000,"y":935,"value":[1491523200000,935]},{"x":1491609600000,"y":823,"value":[1491609600000,823]},{"x":1491696000000,"y":252,"value":[1491696000000,252]},{"x":1491782400000,"y":895,"value":[1491782400000,895]},{"x":1491868800000,"y":992,"value":[1491868800000,992]},{"x":1491955200000,"y":406,"value":[1491955200000,406]},{"x":1492041600000,"y":599,"value":[1492041600000,599]},{"x":1492128000000,"y":183,"value":[1492128000000,183]},{"x":1492214400000,"y":815,"value":[1492214400000,815]},{"x":1492300800000,"y":58,"value":[1492300800000,58]},{"x":1492387200000,"y":544,"value":[1492387200000,544]},{"x":1492473600000,"y":797,"value":[1492473600000,797]},{"x":1492560000000,"y":587,"value":[1492560000000,587]},{"x":1492646400000,"y":480,"value":[1492646400000,480]},{"x":1492732800000,"y":952,"value":[1492732800000,952]},{"x":1492819200000,"y":745,"value":[1492819200000,745]},{"x":1492905600000,"y":289,"value":[1492905600000,289]},{"x":1492992000000,"y":525,"value":[1492992000000,525]},{"x":1493078400000,"y":792,"value":[1493078400000,792]},{"x":1493164800000,"y":337,"value":[1493164800000,337]},{"x":1493251200000,"y":609,"value":[1493251200000,609]},{"x":1493337600000,"y":524,"value":[1493337600000,524]},{"x":1493424000000,"y":624,"value":[1493424000000,624]},{"x":1493510400000,"y":9,"value":[1493510400000,9]},{"x":1493596800000,"y":111,"value":[1493596800000,111]},{"x":1493683200000,"y":727,"value":[1493683200000,727]},{"x":1493769600000,"y":548,"value":[1493769600000,548]},{"x":1493856000000,"y":157,"value":[1493856000000,157]},{"x":1493942400000,"y":545,"value":[1493942400000,545]},{"x":1494028800000,"y":624,"value":[1494028800000,624]},{"x":1494115200000,"y":511,"value":[1494115200000,511]},{"x":1494201600000,"y":476,"value":[1494201600000,476]},{"x":1494288000000,"y":673,"value":[1494288000000,673]},{"x":1494374400000,"y":26,"value":[1494374400000,26]},{"x":1494460800000,"y":768,"value":[1494460800000,768]},{"x":1494547200000,"y":321,"value":[1494547200000,321]},{"x":1494633600000,"y":563,"value":[1494633600000,563]},{"x":1494720000000,"y":712,"value":[1494720000000,712]},{"x":1494806400000,"y":550,"value":[1494806400000,550]},{"x":1494892800000,"y":772,"value":[1494892800000,772]},{"x":1494979200000,"y":775,"value":[1494979200000,775]},{"x":1495065600000,"y":355,"value":[1495065600000,355]},{"x":1495152000000,"y":987,"value":[1495152000000,987]},{"x":1495238400000,"y":418,"value":[1495238400000,418]},{"x":1495324800000,"y":631,"value":[1495324800000,631]},{"x":1495411200000,"y":525,"value":[1495411200000,525]},{"x":1495497600000,"y":263,"value":[1495497600000,263]},{"x":1495584000000,"y":110,"value":[1495584000000,110]},{"x":1495670400000,"y":483,"value":[1495670400000,483]},{"x":1495756800000,"y":883,"value":[1495756800000,883]},{"x":1495843200000,"y":730,"value":[1495843200000,730]},{"x":1495929600000,"y":798,"value":[1495929600000,798]},{"x":1496016000000,"y":8,"value":[1496016000000,8]},{"x":1496102400000,"y":57,"value":[1496102400000,57]},{"x":1496188800000,"y":242,"value":[1496188800000,242]},{"x":1496275200000,"y":871,"value":[1496275200000,871]},{"x":1496361600000,"y":736,"value":[1496361600000,736]},{"x":1496448000000,"y":829,"value":[1496448000000,829]},{"x":1496534400000,"y":363,"value":[1496534400000,363]},{"x":1496620800000,"y":312,"value":[1496620800000,312]},{"x":1496707200000,"y":61,"value":[1496707200000,61]},{"x":1496793600000,"y":475,"value":[1496793600000,475]},{"x":1496880000000,"y":455,"value":[1496880000000,455]},{"x":1496966400000,"y":627,"value":[1496966400000,627]},{"x":1497052800000,"y":837,"value":[1497052800000,837]},{"x":1497139200000,"y":129,"value":[1497139200000,129]},{"x":1497225600000,"y":857,"value":[1497225600000,857]},{"x":1497312000000,"y":733,"value":[1497312000000,733]},{"x":1497398400000,"y":535,"value":[1497398400000,535]},{"x":1497484800000,"y":668,"value":[1497484800000,668]},{"x":1497571200000,"y":8,"value":[1497571200000,8]},{"x":1497657600000,"y":157,"value":[1497657600000,157]},{"x":1497744000000,"y":659,"value":[1497744000000,659]},{"x":1497830400000,"y":445,"value":[1497830400000,445]},{"x":1497916800000,"y":954,"value":[1497916800000,954]},{"x":1498003200000,"y":364,"value":[1498003200000,364]},{"x":1498089600000,"y":346,"value":[1498089600000,346]},{"x":1498176000000,"y":25,"value":[1498176000000,25]},{"x":1498262400000,"y":769,"value":[1498262400000,769]},{"x":1498348800000,"y":423,"value":[1498348800000,423]},{"x":1498435200000,"y":96,"value":[1498435200000,96]},{"x":1498521600000,"y":430,"value":[1498521600000,430]},{"x":1498608000000,"y":545,"value":[1498608000000,545]},{"x":1498694400000,"y":903,"value":[1498694400000,903]},{"x":1498780800000,"y":370,"value":[1498780800000,370]},{"x":1498867200000,"y":881,"value":[1498867200000,881]},{"x":1498953600000,"y":556,"value":[1498953600000,556]},{"x":1499040000000,"y":506,"value":[1499040000000,506]},{"x":1499126400000,"y":122,"value":[1499126400000,122]},{"x":1499212800000,"y":823,"value":[1499212800000,823]},{"x":1499299200000,"y":618,"value":[1499299200000,618]},{"x":1499385600000,"y":526,"value":[1499385600000,526]},{"x":1499472000000,"y":188,"value":[1499472000000,188]},{"x":1499558400000,"y":387,"value":[1499558400000,387]},{"x":1499644800000,"y":285,"value":[1499644800000,285]},{"x":1499731200000,"y":32,"value":[1499731200000,32]},{"x":1499817600000,"y":852,"value":[1499817600000,852]},{"x":1499904000000,"y":165,"value":[1499904000000,165]},{"x":1499990400000,"y":431,"value":[1499990400000,431]},{"x":1500076800000,"y":629,"value":[1500076800000,629]},{"x":1500163200000,"y":254,"value":[1500163200000,254]},{"x":1500249600000,"y":115,"value":[1500249600000,115]},{"x":1500336000000,"y":133,"value":[1500336000000,133]},{"x":1500422400000,"y":239,"value":[1500422400000,239]},{"x":1500508800000,"y":947,"value":[1500508800000,947]},{"x":1500595200000,"y":210,"value":[1500595200000,210]},{"x":1500681600000,"y":364,"value":[1500681600000,364]},{"x":1500768000000,"y":591,"value":[1500768000000,591]},{"x":1500854400000,"y":375,"value":[1500854400000,375]},{"x":1500940800000,"y":200,"value":[1500940800000,200]},{"x":1501027200000,"y":207,"value":[1501027200000,207]},{"x":1501113600000,"y":808,"value":[1501113600000,808]},{"x":1501200000000,"y":972,"value":[1501200000000,972]},{"x":1501286400000,"y":478,"value":[1501286400000,478]},{"x":1501372800000,"y":869,"value":[1501372800000,869]},{"x":1501459200000,"y":895,"value":[1501459200000,895]},{"x":1501545600000,"y":351,"value":[1501545600000,351]},{"x":1501632000000,"y":175,"value":[1501632000000,175]},{"x":1501718400000,"y":582,"value":[1501718400000,582]},{"x":1501804800000,"y":242,"value":[1501804800000,242]},{"x":1501891200000,"y":402,"value":[1501891200000,402]},{"x":1501977600000,"y":997,"value":[1501977600000,997]},{"x":1502064000000,"y":462,"value":[1502064000000,462]},{"x":1502150400000,"y":515,"value":[1502150400000,515]},{"x":1502236800000,"y":265,"value":[1502236800000,265]},{"x":1502323200000,"y":914,"value":[1502323200000,914]},{"x":1502409600000,"y":639,"value":[1502409600000,639]},{"x":1502496000000,"y":870,"value":[1502496000000,870]},{"x":1502582400000,"y":500,"value":[1502582400000,500]},{"x":1502668800000,"y":726,"value":[1502668800000,726]},{"x":1502755200000,"y":899,"value":[1502755200000,899]},{"x":1502841600000,"y":667,"value":[1502841600000,667]},{"x":1502928000000,"y":674,"value":[1502928000000,674]},{"x":1503014400000,"y":681,"value":[1503014400000,681]},{"x":1503100800000,"y":498,"value":[1503100800000,498]},{"x":1503187200000,"y":945,"value":[1503187200000,945]},{"x":1503273600000,"y":970,"value":[1503273600000,970]},{"x":1503360000000,"y":278,"value":[1503360000000,278]},{"x":1503446400000,"y":126,"value":[1503446400000,126]},{"x":1503532800000,"y":294,"value":[1503532800000,294]},{"x":1503619200000,"y":45,"value":[1503619200000,45]},{"x":1503705600000,"y":774,"value":[1503705600000,774]},{"x":1503792000000,"y":784,"value":[1503792000000,784]},{"x":1503878400000,"y":193,"value":[1503878400000,193]},{"x":1503964800000,"y":547,"value":[1503964800000,547]},{"x":1504051200000,"y":462,"value":[1504051200000,462]},{"x":1504137600000,"y":183,"value":[1504137600000,183]},{"x":1504224000000,"y":569,"value":[1504224000000,569]},{"x":1504310400000,"y":463,"value":[1504310400000,463]},{"x":1504396800000,"y":965,"value":[1504396800000,965]},{"x":1504483200000,"y":338,"value":[1504483200000,338]},{"x":1504569600000,"y":856,"value":[1504569600000,856]},{"x":1504656000000,"y":100,"value":[1504656000000,100]},{"x":1504742400000,"y":251,"value":[1504742400000,251]},{"x":1504828800000,"y":622,"value":[1504828800000,622]},{"x":1504915200000,"y":131,"value":[1504915200000,131]},{"x":1505001600000,"y":568,"value":[1505001600000,568]},{"x":1505088000000,"y":618,"value":[1505088000000,618]},{"x":1505174400000,"y":156,"value":[1505174400000,156]},{"x":1505260800000,"y":37,"value":[1505260800000,37]},{"x":1505347200000,"y":111,"value":[1505347200000,111]},{"x":1505433600000,"y":177,"value":[1505433600000,177]},{"x":1505520000000,"y":894,"value":[1505520000000,894]},{"x":1505606400000,"y":884,"value":[1505606400000,884]},{"x":1505692800000,"y":34,"value":[1505692800000,34]},{"x":1505779200000,"y":544,"value":[1505779200000,544]},{"x":1505865600000,"y":230,"value":[1505865600000,230]},{"x":1505952000000,"y":977,"value":[1505952000000,977]},{"x":1506038400000,"y":595,"value":[1506038400000,595]},{"x":1506124800000,"y":347,"value":[1506124800000,347]},{"x":1506211200000,"y":747,"value":[1506211200000,747]},{"x":1506297600000,"y":945,"value":[1506297600000,945]},{"x":1506384000000,"y":295,"value":[1506384000000,295]},{"x":1506470400000,"y":546,"value":[1506470400000,546]},{"x":1506556800000,"y":840,"value":[1506556800000,840]},{"x":1506643200000,"y":512,"value":[1506643200000,512]},{"x":1506729600000,"y":285,"value":[1506729600000,285]},{"x":1506816000000,"y":519,"value":[1506816000000,519]},{"x":1506902400000,"y":937,"value":[1506902400000,937]},{"x":1506988800000,"y":368,"value":[1506988800000,368]},{"x":1507075200000,"y":198,"value":[1507075200000,198]},{"x":1507161600000,"y":408,"value":[1507161600000,408]},{"x":1507248000000,"y":505,"value":[1507248000000,505]},{"x":1507334400000,"y":526,"value":[1507334400000,526]},{"x":1507420800000,"y":770,"value":[1507420800000,770]},{"x":1507507200000,"y":690,"value":[1507507200000,690]},{"x":1507593600000,"y":981,"value":[1507593600000,981]},{"x":1507680000000,"y":624,"value":[1507680000000,624]},{"x":1507766400000,"y":111,"value":[1507766400000,111]},{"x":1507852800000,"y":112,"value":[1507852800000,112]},{"x":1507939200000,"y":193,"value":[1507939200000,193]},{"x":1508025600000,"y":643,"value":[1508025600000,643]},{"x":1508112000000,"y":42,"value":[1508112000000,42]},{"x":1508198400000,"y":442,"value":[1508198400000,442]},{"x":1508284800000,"y":482,"value":[1508284800000,482]},{"x":1508371200000,"y":156,"value":[1508371200000,156]},{"x":1508457600000,"y":240,"value":[1508457600000,240]},{"x":1508544000000,"y":497,"value":[1508544000000,497]},{"x":1508630400000,"y":612,"value":[1508630400000,612]},{"x":1508716800000,"y":528,"value":[1508716800000,528]},{"x":1508803200000,"y":190,"value":[1508803200000,190]},{"x":1508889600000,"y":509,"value":[1508889600000,509]},{"x":1508976000000,"y":202,"value":[1508976000000,202]},{"x":1509062400000,"y":257,"value":[1509062400000,257]},{"x":1509148800000,"y":537,"value":[1509148800000,537]},{"x":1509235200000,"y":19,"value":[1509235200000,19]},{"x":1509321600000,"y":625,"value":[1509321600000,625]},{"x":1509408000000,"y":106,"value":[1509408000000,106]},{"x":1509494400000,"y":464,"value":[1509494400000,464]},{"x":1509580800000,"y":739,"value":[1509580800000,739]},{"x":1509667200000,"y":520,"value":[1509667200000,520]},{"x":1509753600000,"y":267,"value":[1509753600000,267]},{"x":1509840000000,"y":485,"value":[1509840000000,485]},{"x":1509926400000,"y":650,"value":[1509926400000,650]},{"x":1510012800000,"y":742,"value":[1510012800000,742]},{"x":1510099200000,"y":182,"value":[1510099200000,182]},{"x":1510185600000,"y":745,"value":[1510185600000,745]},{"x":1510272000000,"y":483,"value":[1510272000000,483]},{"x":1510358400000,"y":566,"value":[1510358400000,566]},{"x":1510444800000,"y":294,"value":[1510444800000,294]},{"x":1510531200000,"y":836,"value":[1510531200000,836]},{"x":1510617600000,"y":558,"value":[1510617600000,558]},{"x":1510704000000,"y":491,"value":[1510704000000,491]},{"x":1510790400000,"y":38,"value":[1510790400000,38]},{"x":1510876800000,"y":69,"value":[1510876800000,69]},{"x":1510963200000,"y":43,"value":[1510963200000,43]},{"x":1511049600000,"y":818,"value":[1511049600000,818]},{"x":1511136000000,"y":781,"value":[1511136000000,781]},{"x":1511222400000,"y":478,"value":[1511222400000,478]},{"x":1511308800000,"y":710,"value":[1511308800000,710]},{"x":1511395200000,"y":371,"value":[1511395200000,371]},{"x":1511481600000,"y":717,"value":[1511481600000,717]},{"x":1511568000000,"y":143,"value":[1511568000000,143]},{"x":1511654400000,"y":273,"value":[1511654400000,273]},{"x":1511740800000,"y":240,"value":[1511740800000,240]},{"x":1511827200000,"y":488,"value":[1511827200000,488]},{"x":1511913600000,"y":131,"value":[1511913600000,131]},{"x":1512000000000,"y":249,"value":[1512000000000,249]},{"x":1512086400000,"y":342,"value":[1512086400000,342]},{"x":1512172800000,"y":449,"value":[1512172800000,449]},{"x":1512259200000,"y":195,"value":[1512259200000,195]},{"x":1512345600000,"y":463,"value":[1512345600000,463]},{"x":1512432000000,"y":298,"value":[1512432000000,298]},{"x":1512518400000,"y":964,"value":[1512518400000,964]},{"x":1512604800000,"y":373,"value":[1512604800000,373]},{"x":1512691200000,"y":165,"value":[1512691200000,165]},{"x":1512777600000,"y":27,"value":[1512777600000,27]},{"x":1512864000000,"y":51,"value":[1512864000000,51]},{"x":1512950400000,"y":482,"value":[1512950400000,482]},{"x":1513036800000,"y":589,"value":[1513036800000,589]},{"x":1513123200000,"y":849,"value":[1513123200000,849]},{"x":1513209600000,"y":5,"value":[1513209600000,5]},{"x":1513296000000,"y":868,"value":[1513296000000,868]},{"x":1513382400000,"y":567,"value":[1513382400000,567]},{"x":1513468800000,"y":234,"value":[1513468800000,234]},{"x":1513555200000,"y":30,"value":[1513555200000,30]},{"x":1513641600000,"y":208,"value":[1513641600000,208]},{"x":1513728000000,"y":736,"value":[1513728000000,736]},{"x":1513814400000,"y":857,"value":[1513814400000,857]},{"x":1513900800000,"y":964,"value":[1513900800000,964]},{"x":1513987200000,"y":935,"value":[1513987200000,935]},{"x":1514073600000,"y":646,"value":[1514073600000,646]},{"x":1514160000000,"y":814,"value":[1514160000000,814]},{"x":1514246400000,"y":685,"value":[1514246400000,685]},{"x":1514332800000,"y":373,"value":[1514332800000,373]},{"x":1514419200000,"y":774,"value":[1514419200000,774]},{"x":1514505600000,"y":491,"value":[1514505600000,491]},{"x":1514592000000,"y":602,"value":[1514592000000,602]},{"x":1514678400000,"y":175,"value":[1514678400000,175]}],"type":"line"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.numeric" class="section level3">
<h3><span class="header-section-number">4.13.3</span> ec_add_series.numeric</h3>
<p>不需要设置mapping</p>
<p>echarts没有xAxis的情况</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_numeric &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">20</span>, <span class="dv">0</span>, <span class="dv">10</span>), <span class="dv">0</span>)

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_numeric, <span class="dt">type =</span> <span class="st">&#39;bar&#39;</span>)</code></pre></div>
<div id="htmlwidget-4cf65f2a060c7b96d901" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-4cf65f2a060c7b96d901">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"0","y":2,"value":["0","2"]},{"x":"1","y":2,"value":["1","2"]},{"x":"2","y":4,"value":["2","4"]},{"x":"3","y":2,"value":["3","2"]},{"x":"5","y":2,"value":["5","2"]},{"x":"6","y":1,"value":["6","1"]},{"x":"7","y":1,"value":["7","1"]},{"x":"9","y":4,"value":["9","4"]},{"x":"10","y":2,"value":["10","2"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>echarts提前设置xAxis的情况</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">name =</span> <span class="st">&#39;Pear&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">16</span>, <span class="dv">20</span>, <span class="dv">16</span>, <span class="dv">22</span>))</code></pre></div>
<div id="htmlwidget-de913b0735bcdbf6efa5" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-de913b0735bcdbf6efa5">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":{"data":[15,15,25,16,20,16,22],"type":"line","name":"Pear"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.character" class="section level3">
<h3><span class="header-section-number">4.13.4</span> ec_add_series.character</h3>
<p>不需要设置mapping</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat<span class="op">$</span>fruit, <span class="dt">type =</span> <span class="st">&#39;bar&#39;</span>)</code></pre></div>
<div id="htmlwidget-d0af5fc67d9a2c3bbaf5" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d0af5fc67d9a2c3bbaf5">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"Apple","y":7,"value":["Apple","7"]},{"x":"Banana","y":7,"value":["Banana","7"]},{"x":"Pear","y":7,"value":["Pear","7"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.ts" class="section level3">
<h3><span class="header-section-number">4.13.5</span> ec_add_series.ts</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> LakeHuron, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>) <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">min =</span> <span class="st">&#39;dataMin&#39;</span>)</code></pre></div>
<div id="htmlwidget-45f32800750c3fe7df8e" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-45f32800750c3fe7df8e">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value","min":"dataMin"},"series":[{"group":"group","data":[{"x":-2997907200000,"y":580.38,"value":[-2997907200000,580.38]},{"x":-2966371200000,"y":581.86,"value":[-2966371200000,581.86]},{"x":-2934748800000,"y":580.97,"value":[-2934748800000,580.97]},{"x":-2903212800000,"y":580.8,"value":[-2903212800000,580.8]},{"x":-2871676800000,"y":579.79,"value":[-2871676800000,579.79]},{"x":-2840140800000,"y":580.39,"value":[-2840140800000,580.39]},{"x":-2808518400000,"y":580.42,"value":[-2808518400000,580.42]},{"x":-2776982400000,"y":580.82,"value":[-2776982400000,580.82]},{"x":-2745446400000,"y":581.4,"value":[-2745446400000,581.4]},{"x":-2713910400000,"y":581.32,"value":[-2713910400000,581.32]},{"x":-2682288000000,"y":581.44,"value":[-2682288000000,581.44]},{"x":-2650752000000,"y":581.68,"value":[-2650752000000,581.68]},{"x":-2619216000000,"y":581.17,"value":[-2619216000000,581.17]},{"x":-2587680000000,"y":580.53,"value":[-2587680000000,580.53]},{"x":-2556057600000,"y":580.01,"value":[-2556057600000,580.01]},{"x":-2524521600000,"y":579.91,"value":[-2524521600000,579.91]},{"x":-2492985600000,"y":579.14,"value":[-2492985600000,579.14]},{"x":-2461449600000,"y":579.16,"value":[-2461449600000,579.16]},{"x":-2429827200000,"y":579.55,"value":[-2429827200000,579.55]},{"x":-2398291200000,"y":579.67,"value":[-2398291200000,579.67]},{"x":-2366755200000,"y":578.44,"value":[-2366755200000,578.44]},{"x":-2335219200000,"y":578.24,"value":[-2335219200000,578.24]},{"x":-2303596800000,"y":579.1,"value":[-2303596800000,579.1]},{"x":-2272060800000,"y":579.09,"value":[-2272060800000,579.09]},{"x":-2240524800000,"y":579.35,"value":[-2240524800000,579.35]},{"x":-2208988800000,"y":578.82,"value":[-2208988800000,578.82]},{"x":-2177452800000,"y":579.32,"value":[-2177452800000,579.32]},{"x":-2145916800000,"y":579.01,"value":[-2145916800000,579.01]},{"x":-2114380800000,"y":579,"value":[-2114380800000,579]},{"x":-2082844800000,"y":579.8,"value":[-2082844800000,579.8]},{"x":-2051222400000,"y":579.83,"value":[-2051222400000,579.83]},{"x":-2019686400000,"y":579.72,"value":[-2019686400000,579.72]},{"x":-1988150400000,"y":579.89,"value":[-1988150400000,579.89]},{"x":-1956614400000,"y":580.01,"value":[-1956614400000,580.01]},{"x":-1924992000000,"y":579.37,"value":[-1924992000000,579.37]},{"x":-1893456000000,"y":578.69,"value":[-1893456000000,578.69]},{"x":-1861920000000,"y":578.19,"value":[-1861920000000,578.19]},{"x":-1830384000000,"y":578.67,"value":[-1830384000000,578.67]},{"x":-1798761600000,"y":579.55,"value":[-1798761600000,579.55]},{"x":-1767225600000,"y":578.92,"value":[-1767225600000,578.92]},{"x":-1735689600000,"y":578.09,"value":[-1735689600000,578.09]},{"x":-1704153600000,"y":579.37,"value":[-1704153600000,579.37]},{"x":-1672531200000,"y":580.13,"value":[-1672531200000,580.13]},{"x":-1640995200000,"y":580.14,"value":[-1640995200000,580.14]},{"x":-1609459200000,"y":579.51,"value":[-1609459200000,579.51]},{"x":-1577923200000,"y":579.24,"value":[-1577923200000,579.24]},{"x":-1546300800000,"y":578.66,"value":[-1546300800000,578.66]},{"x":-1514764800000,"y":578.86,"value":[-1514764800000,578.86]},{"x":-1483228800000,"y":578.05,"value":[-1483228800000,578.05]},{"x":-1451692800000,"y":577.79,"value":[-1451692800000,577.79]},{"x":-1420070400000,"y":576.75,"value":[-1420070400000,576.75]},{"x":-1388534400000,"y":576.75,"value":[-1388534400000,576.75]},{"x":-1356998400000,"y":577.82,"value":[-1356998400000,577.82]},{"x":-1325462400000,"y":578.64,"value":[-1325462400000,578.64]},{"x":-1293840000000,"y":580.58,"value":[-1293840000000,580.58]},{"x":-1262304000000,"y":579.48,"value":[-1262304000000,579.48]},{"x":-1230768000000,"y":577.38,"value":[-1230768000000,577.38]},{"x":-1199232000000,"y":576.9,"value":[-1199232000000,576.9]},{"x":-1167609600000,"y":576.94,"value":[-1167609600000,576.94]},{"x":-1136073600000,"y":576.24,"value":[-1136073600000,576.24]},{"x":-1104537600000,"y":576.84,"value":[-1104537600000,576.84]},{"x":-1073001600000,"y":576.85,"value":[-1073001600000,576.85]},{"x":-1041379200000,"y":576.9,"value":[-1041379200000,576.9]},{"x":-1009843200000,"y":577.79,"value":[-1009843200000,577.79]},{"x":-978307200000,"y":578.18,"value":[-978307200000,578.18]},{"x":-946771200000,"y":577.51,"value":[-946771200000,577.51]},{"x":-915148800000,"y":577.23,"value":[-915148800000,577.23]},{"x":-883612800000,"y":578.42,"value":[-883612800000,578.42]},{"x":-852076800000,"y":579.61,"value":[-852076800000,579.61]},{"x":-820540800000,"y":579.05,"value":[-820540800000,579.05]},{"x":-788918400000,"y":579.26,"value":[-788918400000,579.26]},{"x":-757382400000,"y":579.22,"value":[-757382400000,579.22]},{"x":-725846400000,"y":579.38,"value":[-725846400000,579.38]},{"x":-694310400000,"y":579.1,"value":[-694310400000,579.1]},{"x":-662688000000,"y":577.95,"value":[-662688000000,577.95]},{"x":-631152000000,"y":578.12,"value":[-631152000000,578.12]},{"x":-599616000000,"y":579.75,"value":[-599616000000,579.75]},{"x":-568080000000,"y":580.85,"value":[-568080000000,580.85]},{"x":-536457600000,"y":580.41,"value":[-536457600000,580.41]},{"x":-504921600000,"y":579.96,"value":[-504921600000,579.96]},{"x":-473385600000,"y":579.61,"value":[-473385600000,579.61]},{"x":-441849600000,"y":578.76,"value":[-441849600000,578.76]},{"x":-410227200000,"y":578.18,"value":[-410227200000,578.18]},{"x":-378691200000,"y":577.21,"value":[-378691200000,577.21]},{"x":-347155200000,"y":577.13,"value":[-347155200000,577.13]},{"x":-315619200000,"y":579.1,"value":[-315619200000,579.1]},{"x":-283996800000,"y":578.25,"value":[-283996800000,578.25]},{"x":-252460800000,"y":577.91,"value":[-252460800000,577.91]},{"x":-220924800000,"y":576.89,"value":[-220924800000,576.89]},{"x":-189388800000,"y":575.96,"value":[-189388800000,575.96]},{"x":-157766400000,"y":576.8,"value":[-157766400000,576.8]},{"x":-126230400000,"y":577.68,"value":[-126230400000,577.68]},{"x":-94694400000,"y":578.38,"value":[-94694400000,578.38]},{"x":-63158400000,"y":578.52,"value":[-63158400000,578.52]},{"x":-31536000000,"y":579.74,"value":[-31536000000,579.74]},{"x":0,"y":579.31,"value":[0,579.31]},{"x":31536000000,"y":579.89,"value":[31536000000,579.89]},{"x":63072000000,"y":579.96,"value":[63072000000,579.96]}],"type":"line"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.forecast" class="section level3">
<h3><span class="header-section-number">4.13.6</span> ec_add_series.forecast</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;forecast&quot;</span>)

dat_forecast &lt;-<span class="st"> </span><span class="kw">forecast</span>(<span class="kw">ets</span>(USAccDeaths), <span class="dt">h =</span> <span class="dv">48</span>, <span class="dt">level =</span> <span class="dv">95</span>)

<span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(dat_forecast, <span class="dt">addOriginal =</span> <span class="ot">TRUE</span>, <span class="dt">addLevels =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-294c8bdbe21e0d710939" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-294c8bdbe21e0d710939">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"},"formatter":"function (params) {if(params[0].seriesIndex === 0) {return params[0].seriesName +': ' + params[0].value[1];}else{return params[0].seriesName + ': ' + params[0].value[1] + '<br />' + params[1].seriesName + ': ' + params[1].value[1] + '<br />' + params[2].seriesName + ': ' + params[2].value[1];}}"},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":[{"group":"Original","data":[{"x":94694400000,"y":9007,"value":[94694400000,9007]},{"x":97372800000,"y":8106,"value":[97372800000,8106]},{"x":99792000000,"y":8928,"value":[99792000000,8928]},{"x":102470400000,"y":9137,"value":[102470400000,9137]},{"x":105062400000,"y":10017,"value":[105062400000,10017]},{"x":107740800000,"y":10826,"value":[107740800000,10826]},{"x":110332800000,"y":11317,"value":[110332800000,11317]},{"x":113011200000,"y":10744,"value":[113011200000,10744]},{"x":115689600000,"y":9713,"value":[115689600000,9713]},{"x":118281600000,"y":9938,"value":[118281600000,9938]},{"x":120960000000,"y":9161,"value":[120960000000,9161]},{"x":123552000000,"y":8927,"value":[123552000000,8927]},{"x":126230400000,"y":7750,"value":[126230400000,7750]},{"x":128908800000,"y":6981,"value":[128908800000,6981]},{"x":131328000000,"y":8038,"value":[131328000000,8038]},{"x":134006400000,"y":8422,"value":[134006400000,8422]},{"x":136598400000,"y":8714,"value":[136598400000,8714]},{"x":139276800000,"y":9512,"value":[139276800000,9512]},{"x":141868800000,"y":10120,"value":[141868800000,10120]},{"x":144547200000,"y":9823,"value":[144547200000,9823]},{"x":147225600000,"y":8743,"value":[147225600000,8743]},{"x":149817600000,"y":9129,"value":[149817600000,9129]},{"x":152496000000,"y":8710,"value":[152496000000,8710]},{"x":155088000000,"y":8680,"value":[155088000000,8680]},{"x":157766400000,"y":8162,"value":[157766400000,8162]},{"x":160444800000,"y":7306,"value":[160444800000,7306]},{"x":162864000000,"y":8124,"value":[162864000000,8124]},{"x":165542400000,"y":7870,"value":[165542400000,7870]},{"x":168134400000,"y":9387,"value":[168134400000,9387]},{"x":170812800000,"y":9556,"value":[170812800000,9556]},{"x":173404800000,"y":10093,"value":[173404800000,10093]},{"x":176083200000,"y":9620,"value":[176083200000,9620]},{"x":178761600000,"y":8285,"value":[178761600000,8285]},{"x":181353600000,"y":8466,"value":[181353600000,8466]},{"x":184032000000,"y":8160,"value":[184032000000,8160]},{"x":186624000000,"y":8034,"value":[186624000000,8034]},{"x":189302400000,"y":7717,"value":[189302400000,7717]},{"x":191980800000,"y":7461,"value":[191980800000,7461]},{"x":194486400000,"y":7767,"value":[194486400000,7767]},{"x":197164800000,"y":7925,"value":[197164800000,7925]},{"x":199756800000,"y":8623,"value":[199756800000,8623]},{"x":202435200000,"y":8945,"value":[202435200000,8945]},{"x":205027200000,"y":10078,"value":[205027200000,10078]},{"x":207705600000,"y":9179,"value":[207705600000,9179]},{"x":210384000000,"y":8037,"value":[210384000000,8037]},{"x":212976000000,"y":8488,"value":[212976000000,8488]},{"x":215654400000,"y":7874,"value":[215654400000,7874]},{"x":218246400000,"y":8647,"value":[218246400000,8647]},{"x":220924800000,"y":7792,"value":[220924800000,7792]},{"x":223603200000,"y":6957,"value":[223603200000,6957]},{"x":226022400000,"y":7726,"value":[226022400000,7726]},{"x":228700800000,"y":8106,"value":[228700800000,8106]},{"x":231292800000,"y":8890,"value":[231292800000,8890]},{"x":233971200000,"y":9299,"value":[233971200000,9299]},{"x":236563200000,"y":10625,"value":[236563200000,10625]},{"x":239241600000,"y":9302,"value":[239241600000,9302]},{"x":241920000000,"y":8314,"value":[241920000000,8314]},{"x":244512000000,"y":8850,"value":[244512000000,8850]},{"x":247190400000,"y":8265,"value":[247190400000,8265]},{"x":249782400000,"y":8796,"value":[249782400000,8796]},{"x":252460800000,"y":7836,"value":[252460800000,7836]},{"x":255139200000,"y":6892,"value":[255139200000,6892]},{"x":257558400000,"y":7791,"value":[257558400000,7791]},{"x":260236800000,"y":8192,"value":[260236800000,8192]},{"x":262828800000,"y":9115,"value":[262828800000,9115]},{"x":265507200000,"y":9434,"value":[265507200000,9434]},{"x":268099200000,"y":10484,"value":[268099200000,10484]},{"x":270777600000,"y":9827,"value":[270777600000,9827]},{"x":273456000000,"y":9110,"value":[273456000000,9110]},{"x":276048000000,"y":9070,"value":[276048000000,9070]},{"x":278726400000,"y":8633,"value":[278726400000,8633]},{"x":281318400000,"y":9240,"value":[281318400000,9240]}],"type":"line","name":"Original","symbolSize":2},{"group":"Forecast Mean","data":[{"x":283996800000,"y":8397.49690922931,"value":[283996800000,8397.49690922931]},{"x":286675200000,"y":7599.22061344404,"value":[286675200000,7599.22061344404]},{"x":289094400000,"y":8396.59468674016,"value":[289094400000,8396.59468674016]},{"x":291772800000,"y":8646.50970321263,"value":[291772800000,8646.50970321263]},{"x":294364800000,"y":9443.41194462183,"value":[294364800000,9443.41194462183]},{"x":297043200000,"y":9893.06472685388,"value":[297043200000,9893.06472685388]},{"x":299635200000,"y":10819.123702944,"value":[299635200000,10819.123702944]},{"x":302313600000,"y":10107.1046313326,"value":[302313600000,10107.1046313326]},{"x":304992000000,"y":9015.23264452447,"value":[304992000000,9015.23264452447]},{"x":307584000000,"y":9354.40737514992,"value":[307584000000,9354.40737514992]},{"x":310262400000,"y":8880.41769524808,"value":[310262400000,8880.41769524808]},{"x":312854400000,"y":9085.49210394574,"value":[312854400000,9085.49210394574]},{"x":315532800000,"y":8397.49690922931,"value":[315532800000,8397.49690922931]},{"x":318211200000,"y":7599.22061344404,"value":[318211200000,7599.22061344404]},{"x":320716800000,"y":8396.59468674016,"value":[320716800000,8396.59468674016]},{"x":323395200000,"y":8646.50970321263,"value":[323395200000,8646.50970321263]},{"x":325987200000,"y":9443.41194462183,"value":[325987200000,9443.41194462183]},{"x":328665600000,"y":9893.06472685388,"value":[328665600000,9893.06472685388]},{"x":331257600000,"y":10819.123702944,"value":[331257600000,10819.123702944]},{"x":333936000000,"y":10107.1046313326,"value":[333936000000,10107.1046313326]},{"x":336614400000,"y":9015.23264452447,"value":[336614400000,9015.23264452447]},{"x":339206400000,"y":9354.40737514992,"value":[339206400000,9354.40737514992]},{"x":341884800000,"y":8880.41769524808,"value":[341884800000,8880.41769524808]},{"x":344476800000,"y":9085.49210394574,"value":[344476800000,9085.49210394574]},{"x":347155200000,"y":8397.49690922931,"value":[347155200000,8397.49690922931]},{"x":349833600000,"y":7599.22061344404,"value":[349833600000,7599.22061344404]},{"x":352252800000,"y":8396.59468674016,"value":[352252800000,8396.59468674016]},{"x":354931200000,"y":8646.50970321263,"value":[354931200000,8646.50970321263]},{"x":357523200000,"y":9443.41194462183,"value":[357523200000,9443.41194462183]},{"x":360201600000,"y":9893.06472685388,"value":[360201600000,9893.06472685388]},{"x":362793600000,"y":10819.123702944,"value":[362793600000,10819.123702944]},{"x":365472000000,"y":10107.1046313326,"value":[365472000000,10107.1046313326]},{"x":368150400000,"y":9015.23264452447,"value":[368150400000,9015.23264452447]},{"x":370742400000,"y":9354.40737514992,"value":[370742400000,9354.40737514992]},{"x":373420800000,"y":8880.41769524808,"value":[373420800000,8880.41769524808]},{"x":376012800000,"y":9085.49210394574,"value":[376012800000,9085.49210394574]},{"x":378691200000,"y":8397.49690922931,"value":[378691200000,8397.49690922931]},{"x":381369600000,"y":7599.22061344404,"value":[381369600000,7599.22061344404]},{"x":383788800000,"y":8396.59468674016,"value":[383788800000,8396.59468674016]},{"x":386467200000,"y":8646.50970321263,"value":[386467200000,8646.50970321263]},{"x":389059200000,"y":9443.41194462183,"value":[389059200000,9443.41194462183]},{"x":391737600000,"y":9893.06472685388,"value":[391737600000,9893.06472685388]},{"x":394329600000,"y":10819.123702944,"value":[394329600000,10819.123702944]},{"x":397008000000,"y":10107.1046313326,"value":[397008000000,10107.1046313326]},{"x":399686400000,"y":9015.23264452447,"value":[399686400000,9015.23264452447]},{"x":402278400000,"y":9354.40737514992,"value":[402278400000,9354.40737514992]},{"x":404956800000,"y":8880.41769524808,"value":[404956800000,8880.41769524808]},{"x":407548800000,"y":9085.49210394574,"value":[407548800000,9085.49210394574]}],"type":"line","name":"Forecast Mean","symbolSize":2},{"group":"Upper","data":[{"x":283996800000,"y":8971.16017481354,"value":[283996800000,8971.16017481354]},{"x":286675200000,"y":8266.62972133669,"value":[286675200000,8266.62972133669]},{"x":289094400000,"y":9146.11472804351,"value":[289094400000,9146.11472804351]},{"x":291772800000,"y":9469.99356300143,"value":[291772800000,9469.99356300143]},{"x":294364800000,"y":10334.7429955507,"value":[294364800000,10334.7429955507]},{"x":297043200000,"y":10847.431751309,"value":[297043200000,10847.431751309]},{"x":299635200000,"y":11832.6136103356,"value":[299635200000,11832.6136103356]},{"x":302313600000,"y":11176.4535769074,"value":[302313600000,11176.4535769074]},{"x":304992000000,"y":10137.6641758079,"value":[304992000000,10137.6641758079]},{"x":307584000000,"y":10527.5219976129,"value":[307584000000,10527.5219976129]},{"x":310262400000,"y":10102.1145858285,"value":[310262400000,10102.1145858285]},{"x":312854400000,"y":10354.2253496942,"value":[312854400000,10354.2253496942]},{"x":315532800000,"y":9711.28129941088,"value":[315532800000,9711.28129941088]},{"x":318211200000,"y":8956.56169029321,"value":[318211200000,8956.56169029321]},{"x":320716800000,"y":9796.13753135742,"value":[320716800000,9796.13753135742]},{"x":323395200000,"y":10087.0184844898,"value":[323395200000,10087.0184844898]},{"x":325987200000,"y":10923.7534335878,"value":[325987200000,10923.7534335878]},{"x":328665600000,"y":11412.1948394418,"value":[328665600000,11412.1948394418]},{"x":331257600000,"y":12376.0763913673,"value":[331257600000,12376.0763913673]},{"x":333936000000,"y":11700.9826219598,"value":[333936000000,11700.9826219598]},{"x":336614400000,"y":10645.1996454245,"value":[336614400000,10645.1996454245]},{"x":339206400000,"y":11019.6814664155,"value":[339206400000,11019.6814664155]},{"x":341884800000,"y":10580.2656808214,"value":[341884800000,10580.2656808214]},{"x":344476800000,"y":10819.4540211952,"value":[344476800000,10819.4540211952]},{"x":347155200000,"y":10164.6894017124,"value":[347155200000,10164.6894017124]},{"x":349833600000,"y":9399.03023685038,"value":[349833600000,9399.03023685038]},{"x":352252800000,"y":10228.4407652968,"value":[352252800000,10228.4407652968]},{"x":354931200000,"y":10509.841512242,"value":[354931200000,10509.841512242]},{"x":357523200000,"y":11337.7062210103,"value":[357523200000,11337.7062210103]},{"x":360201600000,"y":11817.8234599358,"value":[360201600000,11817.8234599358]},{"x":362793600000,"y":12773.8721664535,"value":[362793600000,12773.8721664535]},{"x":365472000000,"y":12091.3896236182,"value":[365472000000,12091.3896236182]},{"x":368150400000,"y":11028.6209095214,"value":[368150400000,11028.6209095214]},{"x":370742400000,"y":11396.4841809152,"value":[370742400000,11396.4841809152]},{"x":373420800000,"y":10950.7855504037,"value":[373420800000,10950.7855504037]},{"x":376012800000,"y":11183.9591187152,"value":[376012800000,11183.9591187152]},{"x":378691200000,"y":10523.5047142697,"value":[378691200000,10523.5047142697]},{"x":381369600000,"y":9752.41697283862,"value":[381369600000,9752.41697283862]},{"x":383788800000,"y":10576.6405433972,"value":[383788800000,10576.6405433972]},{"x":386467200000,"y":10853.0783770011,"value":[386467200000,10853.0783770011]},{"x":389059200000,"y":11676.1883971943,"value":[389059200000,11676.1883971943]},{"x":391737600000,"y":12151.7448861901,"value":[391737600000,12151.7448861901]},{"x":394329600000,"y":13103.4138415202,"value":[394329600000,13103.4138415202]},{"x":397008000000,"y":12416.7207925624,"value":[397008000000,12416.7207925624]},{"x":399686400000,"y":11349.9001127587,"value":[399686400000,11349.9001127587]},{"x":402278400000,"y":11713.8601850719,"value":[402278400000,11713.8601850719]},{"x":404956800000,"y":11264.3981769773,"value":[404956800000,11264.3981769773]},{"x":407548800000,"y":11493.9155911422,"value":[407548800000,11493.9155911422]}],"name":"Upper","type":"line","itemStyle":{"color":"#000"},"lineStyle":{"color":"#000","width":1,"type":"dotted","opacity":0.8},"symbolSize":1},{"group":"Lower","data":[{"x":283996800000,"y":7823.83364364509,"value":[283996800000,7823.83364364509]},{"x":286675200000,"y":6931.81150555139,"value":[286675200000,6931.81150555139]},{"x":289094400000,"y":7647.07464543682,"value":[289094400000,7647.07464543682]},{"x":291772800000,"y":7823.02584342382,"value":[291772800000,7823.02584342382]},{"x":294364800000,"y":8552.08089369296,"value":[294364800000,8552.08089369296]},{"x":297043200000,"y":8938.69770239878,"value":[297043200000,8938.69770239878]},{"x":299635200000,"y":9805.63379555245,"value":[299635200000,9805.63379555245]},{"x":302313600000,"y":9037.75568575783,"value":[302313600000,9037.75568575783]},{"x":304992000000,"y":7892.80111324107,"value":[304992000000,7892.80111324107]},{"x":307584000000,"y":8181.29275268693,"value":[307584000000,8181.29275268693]},{"x":310262400000,"y":7658.72080466769,"value":[310262400000,7658.72080466769]},{"x":312854400000,"y":7816.75885819727,"value":[312854400000,7816.75885819727]},{"x":315532800000,"y":7083.71251904774,"value":[315532800000,7083.71251904774]},{"x":318211200000,"y":6241.87953659487,"value":[318211200000,6241.87953659487]},{"x":320716800000,"y":6997.05184212291,"value":[320716800000,6997.05184212291]},{"x":323395200000,"y":7206.00092193545,"value":[323395200000,7206.00092193545]},{"x":325987200000,"y":7963.07045565586,"value":[325987200000,7963.07045565586]},{"x":328665600000,"y":8373.93461426599,"value":[328665600000,8373.93461426599]},{"x":331257600000,"y":9262.17101452071,"value":[331257600000,9262.17101452071]},{"x":333936000000,"y":8513.22664070538,"value":[333936000000,8513.22664070538]},{"x":336614400000,"y":7385.26564362439,"value":[336614400000,7385.26564362439]},{"x":339206400000,"y":7689.13328388432,"value":[339206400000,7689.13328388432]},{"x":341884800000,"y":7180.56970967472,"value":[341884800000,7180.56970967472]},{"x":344476800000,"y":7351.53018669627,"value":[344476800000,7351.53018669627]},{"x":347155200000,"y":6630.30441674618,"value":[347155200000,6630.30441674618]},{"x":349833600000,"y":5799.4109900377,"value":[349833600000,5799.4109900377]},{"x":352252800000,"y":6564.74860818352,"value":[352252800000,6564.74860818352]},{"x":354931200000,"y":6783.17789418326,"value":[354931200000,6783.17789418326]},{"x":357523200000,"y":7549.1176682334,"value":[357523200000,7549.1176682334]},{"x":360201600000,"y":7968.30599377192,"value":[360201600000,7968.30599377192]},{"x":362793600000,"y":8864.37523943456,"value":[362793600000,8864.37523943456]},{"x":365472000000,"y":8122.819639047,"value":[365472000000,8122.819639047]},{"x":368150400000,"y":7001.84437952758,"value":[368150400000,7001.84437952758]},{"x":370742400000,"y":7312.33056938465,"value":[370742400000,7312.33056938465]},{"x":373420800000,"y":6810.04984009243,"value":[373420800000,6810.04984009243]},{"x":376012800000,"y":6987.02508917628,"value":[376012800000,6987.02508917628]},{"x":378691200000,"y":6271.4891041889,"value":[378691200000,6271.4891041889]},{"x":381369600000,"y":5446.02425404946,"value":[381369600000,5446.02425404946]},{"x":383788800000,"y":6216.54883008316,"value":[383788800000,6216.54883008316]},{"x":386467200000,"y":6439.94102942414,"value":[386467200000,6439.94102942414]},{"x":389059200000,"y":7210.63549204939,"value":[389059200000,7210.63549204939]},{"x":391737600000,"y":7634.38456751762,"value":[391737600000,7634.38456751762]},{"x":394329600000,"y":8534.8335643678,"value":[394329600000,8534.8335643678]},{"x":397008000000,"y":7797.48847010281,"value":[397008000000,7797.48847010281]},{"x":399686400000,"y":6680.56517629025,"value":[399686400000,6680.56517629025]},{"x":402278400000,"y":6994.95456522799,"value":[402278400000,6994.95456522799]},{"x":404956800000,"y":6496.43721351888,"value":[404956800000,6496.43721351888]},{"x":407548800000,"y":6677.0686167493,"value":[407548800000,6677.0686167493]}],"name":"Lower","type":"line","itemStyle":{"color":"#000"},"lineStyle":{"color":"#000","width":1,"type":"dotted","opacity":0.8},"symbolSize":1}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="echarter.option" class="section level2">
<h2><span class="header-section-number">4.14</span> 全局设置echarter.option</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ec_option &lt;-<span class="st"> </span><span class="kw">getOption</span>(<span class="st">&quot;echarter.option&quot;</span>)
ec_option<span class="op">$</span>legend &lt;-<span class="st"> </span><span class="kw">list</span>()
<span class="kw">options</span>(<span class="dt">echarter.option =</span> ec_option)</code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="examples.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="echarter.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>

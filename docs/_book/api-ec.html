<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>echarter: ECharts的R语言接口</title>
  <meta name="description" content="echarter: ECharts的R语言接口。">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="echarter: ECharts的R语言接口" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="echarter: ECharts的R语言接口。" />
  <meta name="github-repo" content="yihui/bookdown-chinese" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="echarter: ECharts的R语言接口" />
  
  <meta name="twitter:description" content="echarter: ECharts的R语言接口。" />
  

<meta name="author" content="JeevanYue">


<meta name="date" content="2018-10-31">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="examples.html">
<link rel="next" href="echarter.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/echarter/echarts.min.js"></script>
<script src="libs/echarter-binding/echarter.js"></script>
<script src="libs/china/map/china.js"></script>
<script src="libs/dark/dark.js"></script>
<script src="libs/infographic/infographic.js"></script>
<script src="libs/macarons/macarons.js"></script>
<script src="libs/roma/roma.js"></script>
<script src="libs/shine/shine.js"></script>
<script src="libs/vintage/vintage.js"></script>
<script src="libs/star/star.js"></script>
<script src="libs/liquidFill/echarts-liquidfill.min.js"></script>
<script src="libs/wordCloud/echarts-wordcloud.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">echarter: ECharts的R语言接口</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>作者简介</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>2</b> echarter安装</a></li>
<li class="chapter" data-level="3" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>3</b> 官方案例</a></li>
<li class="chapter" data-level="4" data-path="api-ec.html"><a href="api-ec.html"><i class="fa fa-check"></i><b>4</b> API函数</a><ul>
<li class="chapter" data-level="4.1" data-path="api-ec.html"><a href="api-ec.html#section-4.1"><i class="fa fa-check"></i><b>4.1</b> 演示数据</a></li>
<li class="chapter" data-level="4.2" data-path="api-ec.html"><a href="api-ec.html#section-4.2"><i class="fa fa-check"></i><b>4.2</b> 基础组件</a><ul>
<li class="chapter" data-level="4.2.1" data-path="api-ec.html"><a href="api-ec.html#ec_title"><i class="fa fa-check"></i><b>4.2.1</b> ec_title</a></li>
<li class="chapter" data-level="4.2.2" data-path="api-ec.html"><a href="api-ec.html#ec_legend"><i class="fa fa-check"></i><b>4.2.2</b> ec_legend</a></li>
<li class="chapter" data-level="4.2.3" data-path="api-ec.html"><a href="api-ec.html#ec_backgroundcolor"><i class="fa fa-check"></i><b>4.2.3</b> ec_backgroundColor</a></li>
<li class="chapter" data-level="4.2.4" data-path="api-ec.html"><a href="api-ec.html#ec_colors"><i class="fa fa-check"></i><b>4.2.4</b> ec_colors</a></li>
<li class="chapter" data-level="4.2.5" data-path="api-ec.html"><a href="api-ec.html#ec_textstyle"><i class="fa fa-check"></i><b>4.2.5</b> ec_textStyle</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="api-ec.html"><a href="api-ec.html#section-4.3"><i class="fa fa-check"></i><b>4.3</b> 其他组件</a><ul>
<li class="chapter" data-level="4.3.1" data-path="api-ec.html"><a href="api-ec.html#ec_tooltip"><i class="fa fa-check"></i><b>4.3.1</b> ec_tooltip</a></li>
<li class="chapter" data-level="4.3.2" data-path="api-ec.html"><a href="api-ec.html#ec_graphic"><i class="fa fa-check"></i><b>4.3.2</b> ec_graphic</a></li>
<li class="chapter" data-level="4.3.3" data-path="api-ec.html"><a href="api-ec.html#ec_axispointer"><i class="fa fa-check"></i><b>4.3.3</b> ec_axisPointer</a></li>
<li class="chapter" data-level="4.3.4" data-path="api-ec.html"><a href="api-ec.html#ec_toolbox"><i class="fa fa-check"></i><b>4.3.4</b> ec_toolbox</a></li>
<li class="chapter" data-level="4.3.5" data-path="api-ec.html"><a href="api-ec.html#ec_visualmap"><i class="fa fa-check"></i><b>4.3.5</b> ec_visualMap</a></li>
<li class="chapter" data-level="4.3.6" data-path="api-ec.html"><a href="api-ec.html#ec_datazoom"><i class="fa fa-check"></i><b>4.3.6</b> ec_dataZoom</a></li>
<li class="chapter" data-level="4.3.7" data-path="api-ec.html"><a href="api-ec.html#ec_timeline"><i class="fa fa-check"></i><b>4.3.7</b> ec_timeline</a></li>
<li class="chapter" data-level="4.3.8" data-path="api-ec.html"><a href="api-ec.html#ec_brush"><i class="fa fa-check"></i><b>4.3.8</b> ec_brush</a></li>
<li class="chapter" data-level="4.3.9" data-path="api-ec.html"><a href="api-ec.html#ec_mark"><i class="fa fa-check"></i><b>4.3.9</b> ec_mark</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="api-ec.html"><a href="api-ec.html#ec_grid"><i class="fa fa-check"></i><b>4.4</b> 直角坐标系ec_grid</a></li>
<li class="chapter" data-level="4.5" data-path="api-ec.html"><a href="api-ec.html#-ec_polar"><i class="fa fa-check"></i><b>4.5</b> 极坐标系: ec_polar</a></li>
<li class="chapter" data-level="4.6" data-path="api-ec.html"><a href="api-ec.html#ec_radar"><i class="fa fa-check"></i><b>4.6</b> 雷达坐标系ec_radar</a></li>
<li class="chapter" data-level="4.7" data-path="api-ec.html"><a href="api-ec.html#-ec_parallel"><i class="fa fa-check"></i><b>4.7</b> 平行坐标系: ec_parallel</a></li>
<li class="chapter" data-level="4.8" data-path="api-ec.html"><a href="api-ec.html#-ec_singleaxis"><i class="fa fa-check"></i><b>4.8</b> 单轴坐标系: ec_singleAxis</a></li>
<li class="chapter" data-level="4.9" data-path="api-ec.html"><a href="api-ec.html#-ec_calendar"><i class="fa fa-check"></i><b>4.9</b> 日历坐标系: ec_calendar</a></li>
<li class="chapter" data-level="4.10" data-path="api-ec.html"><a href="api-ec.html#-ec_geo"><i class="fa fa-check"></i><b>4.10</b> 地理坐标系: ec_geo</a></li>
<li class="chapter" data-level="4.11" data-path="api-ec.html"><a href="api-ec.html#series.data"><i class="fa fa-check"></i><b>4.11</b> series.data</a></li>
<li class="chapter" data-level="4.12" data-path="api-ec.html"><a href="api-ec.html#-ec_dataset"><i class="fa fa-check"></i><b>4.12</b> 数据集: ec_dataset</a><ul>
<li class="chapter" data-level="4.12.1" data-path="api-ec.html"><a href="api-ec.html#id"><i class="fa fa-check"></i><b>4.12.1</b> id</a></li>
<li class="chapter" data-level="4.12.2" data-path="api-ec.html"><a href="api-ec.html#sourcedata"><i class="fa fa-check"></i><b>4.12.2</b> source/data</a></li>
<li class="chapter" data-level="4.12.3" data-path="api-ec.html"><a href="api-ec.html#dimensions"><i class="fa fa-check"></i><b>4.12.3</b> dimensions</a></li>
<li class="chapter" data-level="4.12.4" data-path="api-ec.html"><a href="api-ec.html#sourceheader"><i class="fa fa-check"></i><b>4.12.4</b> sourceHeader</a></li>
<li class="chapter" data-level="4.12.5" data-path="api-ec.html"><a href="api-ec.html#encode"><i class="fa fa-check"></i><b>4.12.5</b> encode</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="api-ec.html"><a href="api-ec.html#ec_add_series"><i class="fa fa-check"></i><b>4.13</b> ec_add_series</a><ul>
<li class="chapter" data-level="4.13.1" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.default"><i class="fa fa-check"></i><b>4.13.1</b> ec_add_series.default</a></li>
<li class="chapter" data-level="4.13.2" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.data.frame"><i class="fa fa-check"></i><b>4.13.2</b> ec_add_series.data.frame</a></li>
<li class="chapter" data-level="4.13.3" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.numeric"><i class="fa fa-check"></i><b>4.13.3</b> ec_add_series.numeric</a></li>
<li class="chapter" data-level="4.13.4" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.character"><i class="fa fa-check"></i><b>4.13.4</b> ec_add_series.character</a></li>
<li class="chapter" data-level="4.13.5" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.ts"><i class="fa fa-check"></i><b>4.13.5</b> ec_add_series.ts</a></li>
<li class="chapter" data-level="4.13.6" data-path="api-ec.html"><a href="api-ec.html#ec_add_series.forecast"><i class="fa fa-check"></i><b>4.13.6</b> ec_add_series.forecast</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="api-ec.html"><a href="api-ec.html#echarter.option"><i class="fa fa-check"></i><b>4.14</b> 全局设置echarter.option</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="echarter.html"><a href="echarter.html"><i class="fa fa-check"></i><b>5</b> echarter</a><ul>
<li class="chapter" data-level="5.1" data-path="echarter.html"><a href="echarter.html#data-frames"><i class="fa fa-check"></i><b>5.1</b> Data Frames</a></li>
<li class="chapter" data-level="5.2" data-path="echarter.html"><a href="echarter.html#numeric-histograms"><i class="fa fa-check"></i><b>5.2</b> Numeric &amp; Histograms</a></li>
<li class="chapter" data-level="5.3" data-path="echarter.html"><a href="echarter.html#densities"><i class="fa fa-check"></i><b>5.3</b> Densities</a></li>
<li class="chapter" data-level="5.4" data-path="echarter.html"><a href="echarter.html#character-factor"><i class="fa fa-check"></i><b>5.4</b> Character &amp; Factor</a></li>
<li class="chapter" data-level="5.5" data-path="echarter.html"><a href="echarter.html#time-series"><i class="fa fa-check"></i><b>5.5</b> Time Series</a></li>
<li class="chapter" data-level="5.6" data-path="echarter.html"><a href="echarter.html#seasonal-decomposition-of-time-series-by-loess"><i class="fa fa-check"></i><b>5.6</b> Seasonal Decomposition of Time Series by Loess</a></li>
<li class="chapter" data-level="5.7" data-path="echarter.html"><a href="echarter.html#forecast-package"><i class="fa fa-check"></i><b>5.7</b> Forecast package</a></li>
<li class="chapter" data-level="5.8" data-path="echarter.html"><a href="echarter.html#igraph"><i class="fa fa-check"></i><b>5.8</b> igraph</a></li>
<li class="chapter" data-level="5.9" data-path="echarter.html"><a href="echarter.html#xts-from-quantmod-package"><i class="fa fa-check"></i><b>5.9</b> xts from quantmod package</a></li>
<li class="chapter" data-level="5.10" data-path="echarter.html"><a href="echarter.html#xts-ohlc-objects"><i class="fa fa-check"></i><b>5.10</b> xts ohlc objects</a></li>
<li class="chapter" data-level="5.11" data-path="echarter.html"><a href="echarter.html#autocovariance-autocorrelation"><i class="fa fa-check"></i><b>5.11</b> Autocovariance &amp; Autocorrelation</a></li>
<li class="chapter" data-level="5.12" data-path="echarter.html"><a href="echarter.html#multivariate-time-series"><i class="fa fa-check"></i><b>5.12</b> Multivariate Time series</a></li>
<li class="chapter" data-level="5.13" data-path="echarter.html"><a href="echarter.html#survival-models"><i class="fa fa-check"></i><b>5.13</b> Survival Models</a></li>
<li class="chapter" data-level="5.14" data-path="echarter.html"><a href="echarter.html#principal-components"><i class="fa fa-check"></i><b>5.14</b> Principal Components</a></li>
<li class="chapter" data-level="5.15" data-path="echarter.html"><a href="echarter.html#matrix"><i class="fa fa-check"></i><b>5.15</b> Matrix</a></li>
<li class="chapter" data-level="5.16" data-path="echarter.html"><a href="echarter.html#distance-matrix"><i class="fa fa-check"></i><b>5.16</b> Distance matrix</a></li>
<li class="chapter" data-level="5.17" data-path="echarter.html"><a href="echarter.html#correlation-matrix"><i class="fa fa-check"></i><b>5.17</b> Correlation matrix</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="theme.html"><a href="theme.html"><i class="fa fa-check"></i><b>6</b> theme</a><ul>
<li class="chapter" data-level="6.1" data-path="theme.html"><a href="theme.html#-1"><i class="fa fa-check"></i><b>6.1</b> 演示数据</a></li>
<li class="chapter" data-level="6.2" data-path="theme.html"><a href="theme.html#dark"><i class="fa fa-check"></i><b>6.2</b> dark</a></li>
<li class="chapter" data-level="6.3" data-path="theme.html"><a href="theme.html#infographic"><i class="fa fa-check"></i><b>6.3</b> infographic</a></li>
<li class="chapter" data-level="6.4" data-path="theme.html"><a href="theme.html#macarons"><i class="fa fa-check"></i><b>6.4</b> macarons</a></li>
<li class="chapter" data-level="6.5" data-path="theme.html"><a href="theme.html#roma"><i class="fa fa-check"></i><b>6.5</b> roma</a></li>
<li class="chapter" data-level="6.6" data-path="theme.html"><a href="theme.html#shine"><i class="fa fa-check"></i><b>6.6</b> shine</a></li>
<li class="chapter" data-level="6.7" data-path="theme.html"><a href="theme.html#vintage"><i class="fa fa-check"></i><b>6.7</b> vintage</a></li>
<li class="chapter" data-level="6.8" data-path="theme.html"><a href="theme.html#js"><i class="fa fa-check"></i><b>6.8</b> 自定义js主题</a></li>
<li class="chapter" data-level="6.9" data-path="theme.html"><a href="theme.html#ec_theme"><i class="fa fa-check"></i><b>6.9</b> 自定义ec_theme</a></li>
<li class="chapter" data-level="6.10" data-path="api-ec.html"><a href="api-ec.html#echarter.option"><i class="fa fa-check"></i><b>6.10</b> 自定义echarter.option</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basic.html"><a href="basic.html"><i class="fa fa-check"></i><b>7</b> 基本图表</a><ul>
<li class="chapter" data-level="7.1" data-path="basic.html"><a href="basic.html#section-7.1"><i class="fa fa-check"></i><b>7.1</b> 基本图表类型</a></li>
<li class="chapter" data-level="7.2" data-path="basic.html"><a href="basic.html#coordinatesystem"><i class="fa fa-check"></i><b>7.2</b> 坐标系coordinateSystem</a></li>
<li class="chapter" data-level="7.3" data-path="basic.html"><a href="basic.html#-2"><i class="fa fa-check"></i><b>7.3</b> 演示数据</a></li>
<li class="chapter" data-level="7.4" data-path="basic.html"><a href="basic.html#line"><i class="fa fa-check"></i><b>7.4</b> 折线图line</a><ul>
<li class="chapter" data-level="7.4.1" data-path="basic.html"><a href="basic.html#section-7.4.1"><i class="fa fa-check"></i><b>7.4.1</b> 基础折线图</a></li>
<li class="chapter" data-level="7.4.2" data-path="basic.html"><a href="basic.html#section-7.4.2"><i class="fa fa-check"></i><b>7.4.2</b> 堆叠折线图</a></li>
<li class="chapter" data-level="7.4.3" data-path="basic.html"><a href="basic.html#section-7.4.3"><i class="fa fa-check"></i><b>7.4.3</b> 光滑曲线图</a></li>
<li class="chapter" data-level="7.4.4" data-path="basic.html"><a href="basic.html#section-7.4.4"><i class="fa fa-check"></i><b>7.4.4</b> 区域图</a></li>
<li class="chapter" data-level="7.4.5" data-path="basic.html"><a href="basic.html#section-7.4.5"><i class="fa fa-check"></i><b>7.4.5</b> 堆叠区域图</a></li>
<li class="chapter" data-level="7.4.6" data-path="basic.html"><a href="basic.html#section-7.4.6"><i class="fa fa-check"></i><b>7.4.6</b> 阶梯线图</a></li>
<li class="chapter" data-level="7.4.7" data-path="basic.html"><a href="basic.html#section-7.4.7"><i class="fa fa-check"></i><b>7.4.7</b> 极坐标双数值轴</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="basic.html"><a href="basic.html#bar"><i class="fa fa-check"></i><b>7.5</b> 柱状图bar</a><ul>
<li class="chapter" data-level="7.5.1" data-path="basic.html"><a href="basic.html#section-7.5.1"><i class="fa fa-check"></i><b>7.5.1</b> 基础柱状图</a></li>
<li class="chapter" data-level="7.5.2" data-path="basic.html"><a href="basic.html#section-7.5.2"><i class="fa fa-check"></i><b>7.5.2</b> 堆叠柱状图</a></li>
<li class="chapter" data-level="7.5.3" data-path="basic.html"><a href="basic.html#section-7.5.3"><i class="fa fa-check"></i><b>7.5.3</b> 条形图</a></li>
<li class="chapter" data-level="7.5.4" data-path="basic.html"><a href="basic.html#section-7.5.4"><i class="fa fa-check"></i><b>7.5.4</b> 堆叠条形图</a></li>
<li class="chapter" data-level="7.5.5" data-path="basic.html"><a href="basic.html#section-7.5.5"><i class="fa fa-check"></i><b>7.5.5</b> 极坐标柱状图</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="basic.html"><a href="basic.html#pie"><i class="fa fa-check"></i><b>7.6</b> 饼图pie</a><ul>
<li class="chapter" data-level="7.6.1" data-path="basic.html"><a href="basic.html#section-7.6.1"><i class="fa fa-check"></i><b>7.6.1</b> 基础饼图</a></li>
<li class="chapter" data-level="7.6.2" data-path="basic.html"><a href="basic.html#section-7.6.2"><i class="fa fa-check"></i><b>7.6.2</b> 环行图</a></li>
<li class="chapter" data-level="7.6.3" data-path="basic.html"><a href="basic.html#section-7.6.3"><i class="fa fa-check"></i><b>7.6.3</b> 嵌套环形图</a></li>
<li class="chapter" data-level="7.6.4" data-path="basic.html"><a href="basic.html#section-7.6.4"><i class="fa fa-check"></i><b>7.6.4</b> 玫瑰图</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="basic.html"><a href="basic.html#scatter"><i class="fa fa-check"></i><b>7.7</b> 散点图scatter</a><ul>
<li class="chapter" data-level="7.7.1" data-path="basic.html"><a href="basic.html#section-7.7.1"><i class="fa fa-check"></i><b>7.7.1</b> 基本散点图</a></li>
<li class="chapter" data-level="7.7.2" data-path="basic.html"><a href="basic.html#bubble"><i class="fa fa-check"></i><b>7.7.2</b> 气泡图Bubble</a></li>
<li class="chapter" data-level="7.7.3" data-path="basic.html"><a href="basic.html#section-7.7.3"><i class="fa fa-check"></i><b>7.7.3</b> 地理散点图</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="basic.html"><a href="basic.html#effectscatter"><i class="fa fa-check"></i><b>7.8</b> 带特效散点图effectScatter</a></li>
<li class="chapter" data-level="7.9" data-path="basic.html"><a href="basic.html#boxplot"><i class="fa fa-check"></i><b>7.9</b> 盒须图/箱线图boxplot</a></li>
<li class="chapter" data-level="7.10" data-path="basic.html"><a href="basic.html#kcandlestick"><i class="fa fa-check"></i><b>7.10</b> k线图candlestick</a><ul>
<li class="chapter" data-level="7.10.1" data-path="basic.html"><a href="basic.html#waterfall"><i class="fa fa-check"></i><b>7.10.1</b> 瀑布图waterfall</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="basic.html"><a href="basic.html#pictorialbar"><i class="fa fa-check"></i><b>7.11</b> 象形柱图pictorialBar</a></li>
<li class="chapter" data-level="7.12" data-path="basic.html"><a href="basic.html#lines"><i class="fa fa-check"></i><b>7.12</b> 线图lines</a></li>
<li class="chapter" data-level="7.13" data-path="basic.html"><a href="basic.html#heatmap"><i class="fa fa-check"></i><b>7.13</b> 热力图heatmap</a><ul>
<li class="chapter" data-level="7.13.1" data-path="basic.html"><a href="basic.html#section-7.13.1"><i class="fa fa-check"></i><b>7.13.1</b> 直角坐标系</a></li>
<li class="chapter" data-level="7.13.2" data-path="basic.html"><a href="basic.html#section-7.13.2"><i class="fa fa-check"></i><b>7.13.2</b> 日历坐标系</a></li>
<li class="chapter" data-level="7.13.3" data-path="basic.html"><a href="basic.html#section-7.13.3"><i class="fa fa-check"></i><b>7.13.3</b> 地理坐标系</a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="basic.html"><a href="basic.html#themeriver"><i class="fa fa-check"></i><b>7.14</b> 主题河流图themeRiver</a></li>
<li class="chapter" data-level="7.15" data-path="basic.html"><a href="basic.html#radar"><i class="fa fa-check"></i><b>7.15</b> 雷达图radar</a></li>
<li class="chapter" data-level="7.16" data-path="basic.html"><a href="basic.html#parallel"><i class="fa fa-check"></i><b>7.16</b> 平行坐标系parallel</a></li>
<li class="chapter" data-level="7.17" data-path="basic.html"><a href="basic.html#map"><i class="fa fa-check"></i><b>7.17</b> 地图map</a><ul>
<li class="chapter" data-level="7.17.1" data-path="basic.html"><a href="basic.html#section-7.17.1"><i class="fa fa-check"></i><b>7.17.1</b> 基础地理分布图</a></li>
<li class="chapter" data-level="7.17.2" data-path="theme.html"><a href="theme.html#-1"><i class="fa fa-check"></i><b>7.17.2</b> 地理散点图</a></li>
<li class="chapter" data-level="7.17.3" data-path="basic.html"><a href="basic.html#section-7.17.3"><i class="fa fa-check"></i><b>7.17.3</b> 地理流向图</a></li>
</ul></li>
<li class="chapter" data-level="7.18" data-path="basic.html"><a href="basic.html#funnel"><i class="fa fa-check"></i><b>7.18</b> 漏斗图funnel</a></li>
<li class="chapter" data-level="7.19" data-path="basic.html"><a href="basic.html#gauge"><i class="fa fa-check"></i><b>7.19</b> 仪表盘gauge</a></li>
<li class="chapter" data-level="7.20" data-path="basic.html"><a href="basic.html#tree"><i class="fa fa-check"></i><b>7.20</b> 树图tree</a></li>
<li class="chapter" data-level="7.21" data-path="basic.html"><a href="basic.html#treemap"><i class="fa fa-check"></i><b>7.21</b> 矩形树图treemap</a></li>
<li class="chapter" data-level="7.22" data-path="basic.html"><a href="basic.html#sunburst"><i class="fa fa-check"></i><b>7.22</b> 旭日图sunburst</a></li>
<li class="chapter" data-level="7.23" data-path="basic.html"><a href="basic.html#sankey"><i class="fa fa-check"></i><b>7.23</b> - 桑基图sankey</a></li>
<li class="chapter" data-level="7.24" data-path="basic.html"><a href="basic.html#graph"><i class="fa fa-check"></i><b>7.24</b> - 关系图graph</a></li>
<li class="chapter" data-level="7.25" data-path="basic.html"><a href="basic.html#section-7.25"><i class="fa fa-check"></i><b>7.25</b> 组合</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="advanced.html"><a href="advanced.html"><i class="fa fa-check"></i><b>8</b> 图表拓展</a><ul>
<li class="chapter" data-level="8.1" data-path="advanced.html"><a href="advanced.html#liquidfill"><i class="fa fa-check"></i><b>8.1</b> 水球图liquidfill</a></li>
<li class="chapter" data-level="8.2" data-path="advanced.html"><a href="advanced.html#wordcloud"><i class="fa fa-check"></i><b>8.2</b> 字符云wordcloud</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>9</b> shiny</a><ul>
<li class="chapter" data-level="9.1" data-path="shiny.html"><a href="shiny.html#section-9.1"><i class="fa fa-check"></i><b>9.1</b> 简单例子</a></li>
<li class="chapter" data-level="9.2" data-path="shiny.html"><a href="shiny.html#shiny"><i class="fa fa-check"></i><b>9.2</b> shiny动态数据</a></li>
<li class="chapter" data-level="9.3" data-path="shiny.html"><a href="shiny.html#shiny-events"><i class="fa fa-check"></i><b>9.3</b> shiny events</a><ul>
<li class="chapter" data-level="9.3.1" data-path="shiny.html"><a href="shiny.html#section-9.3.1"><i class="fa fa-check"></i><b>9.3.1</b> 鼠标事件</a></li>
<li class="chapter" data-level="9.3.2" data-path="shiny.html"><a href="shiny.html#section-9.3.2"><i class="fa fa-check"></i><b>9.3.2</b> 触发图表行为</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="shiny.html"><a href="shiny.html#shiny-toolbox"><i class="fa fa-check"></i><b>9.4</b> shiny toolbox拓展</a></li>
</ul></li>
<li class="appendix"><span><b>附录</b></span></li>
<li class="chapter" data-level="A" data-path="articles.html"><a href="articles.html"><i class="fa fa-check"></i><b>A</b> 参考</a></li>
<li class="divider"></li>
<li><a href="https://github.com/jeevanyue/echarter" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">echarter: ECharts的R语言接口</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="api-ec" class="section level1">
<h1><span class="header-section-number">第 4 章</span> API函数</h1>
<div id="section-4.1" class="section level2">
<h2><span class="header-section-number">4.1</span> 演示数据</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(echarter)

weekDays &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)
dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
 <span class="dt">saleNum =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">21</span>, <span class="dv">20</span>, <span class="dv">100</span>), <span class="dv">0</span>),
 <span class="dt">fruit =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;Apple&quot;</span>, <span class="dv">7</span>), <span class="kw">rep</span>(<span class="st">&quot;Pear&quot;</span>, <span class="dv">7</span>), <span class="kw">rep</span>(<span class="st">&quot;Banana&quot;</span>, <span class="dv">7</span>)),
 <span class="dt">weekDay =</span> <span class="kw">c</span>(<span class="kw">rep</span>(weekDays,<span class="dv">3</span>)),
 <span class="dt">price =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">21</span>, <span class="dv">10</span>, <span class="dv">20</span>), <span class="dv">0</span>),
 <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

dat_list &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>price) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">spread</span>(weekDay, saleNum) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">unite</span>(<span class="st">&quot;value&quot;</span>, <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>))
dat_list<span class="op">$</span>value &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="cf">function</span>(x){
  <span class="kw">as.numeric</span>(<span class="kw">strsplit</span>(dat_list<span class="op">$</span>value, <span class="st">&quot;_&quot;</span>)[[x]])})

## echart从0开始索引
dat_matrix &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">fruit =</span> <span class="kw">as.numeric</span>(<span class="kw">factor</span>(<span class="kw">c</span>(dat<span class="op">$</span>fruit), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>))) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,
  <span class="dt">weekDay =</span> <span class="kw">as.numeric</span>(<span class="kw">factor</span>(<span class="kw">c</span>(dat<span class="op">$</span>weekDay), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>))) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,
  <span class="dt">saleNum =</span> dat<span class="op">$</span>saleNum
) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">as.matrix</span>()

dat_date &lt;-<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">date =</span> <span class="kw">as.Date</span>(<span class="st">&#39;2017-01-01&#39;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">364</span>),
  <span class="dt">value =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">365</span>, <span class="dv">0</span>, <span class="dv">1000</span>), <span class="dv">0</span>),
  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

AQI &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/AQI.csv&quot;</span>)
dat_geo &lt;-<span class="st"> </span>AQI <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(城市, lng, lat, AQI) 

opt =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">name =</span> <span class="st">&#39;星期&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">type =</span> <span class="st">&#39;value&#39;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(
    <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>,
      <span class="dt">name =</span> <span class="st">&#39;Apple&#39;</span>,
      <span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">5</span>, <span class="dv">20</span>, <span class="dv">36</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">20</span>)))
)</code></pre></div>
</div>
<div id="section-4.2" class="section level2">
<h2><span class="header-section-number">4.2</span> 基础组件</h2>
<div id="ec_title" class="section level3">
<h3><span class="header-section-number">4.2.1</span> ec_title</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt, <span class="dt">elementId =</span> <span class="st">&quot;ec&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;演示数据&#39;</span>)</code></pre></div>
<div id="ec" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="ec">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"title":{"text":"演示数据"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_legend" class="section level3">
<h3><span class="header-section-number">4.2.2</span> ec_legend</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;right&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Apple&#39;</span>, <span class="dt">icon =</span> <span class="st">&#39;circle&#39;</span>)),
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;contrastColor&#39;</span>)) </code></pre></div>
<div id="htmlwidget-b037c017b58e1862f9df" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-b037c017b58e1862f9df">{"x":{"opt":{"legend":{"show":true,"top":"middle","right":"right","data":[{"name":"Apple","icon":"circle"}],"textStyle":{"color":"contrastColor"}},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_backgroundcolor" class="section level3">
<h3><span class="header-section-number">4.2.3</span> ec_backgroundColor</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#24273e&#39;</span>))</code></pre></div>
<div id="htmlwidget-411838d2de43b3ca840d" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-411838d2de43b3ca840d">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"backgroundColor":["#24273e"]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_colors" class="section level3">
<h3><span class="header-section-number">4.2.4</span> ec_colors</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_colors</span>(<span class="kw">c</span>(<span class="st">&#39;#247ba0&#39;</span>, <span class="st">&#39;#70c1b3&#39;</span>, <span class="st">&#39;#b2dbbf&#39;</span>))</code></pre></div>
<div id="htmlwidget-753baff5db9bf7928392" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-753baff5db9bf7928392">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"color":["#247ba0","#70c1b3","#b2dbbf"]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_textstyle" class="section level3">
<h3><span class="header-section-number">4.2.5</span> ec_textStyle</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#24273e&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_colors</span>(<span class="kw">c</span>(<span class="st">&#39;#247ba0&#39;</span>, <span class="st">&#39;#70c1b3&#39;</span>, <span class="st">&#39;#b2dbbf&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_textStyle</span>(<span class="dt">color =</span> <span class="st">&#39;#ffffff&#39;</span>)</code></pre></div>
<div id="htmlwidget-b4fc08f9f1fc2a22d8f1" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-b4fc08f9f1fc2a22d8f1">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"backgroundColor":["#24273e"],"color":["#247ba0","#70c1b3","#b2dbbf"],"textStyle":{"color":"#ffffff"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="section-4.3" class="section level2">
<h2><span class="header-section-number">4.3</span> 其他组件</h2>
<div id="ec_tooltip" class="section level3">
<h3><span class="header-section-number">4.3.1</span> ec_tooltip</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>)</code></pre></div>
<div id="htmlwidget-3e9b5c0bb7a467b99bcb" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-3e9b5c0bb7a467b99bcb">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_graphic" class="section level3">
<h3><span class="header-section-number">4.3.2</span> ec_graphic</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">graphic_opt &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">type =</span> <span class="st">&#39;group&#39;</span>,
  <span class="dt">rotation =</span> <span class="fl">3.14</span> <span class="op">/</span><span class="st"> </span><span class="dv">4</span>,
  <span class="dt">bounding =</span> <span class="st">&#39;raw&#39;</span>,
  <span class="dt">right =</span> <span class="dv">110</span>,
  <span class="dt">bottom =</span> <span class="dv">110</span>,
  <span class="dt">z =</span> <span class="dv">100</span>,
  <span class="dt">children =</span> <span class="kw">list</span>(
    <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;rect&#39;</span>,
      <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">top =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">z =</span> <span class="dv">100</span>,
      <span class="dt">shape =</span> <span class="kw">list</span>(
        <span class="dt">width =</span> <span class="dv">400</span>,
        <span class="dt">height =</span> <span class="dv">50</span>
      ),
      <span class="dt">style =</span> <span class="kw">list</span>(
        <span class="dt">fill =</span> <span class="st">&#39;rgba(0,0,0,0.3)&#39;</span>
      )
    ),
    <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;text&#39;</span>,
      <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">top =</span> <span class="st">&#39;center&#39;</span>,
      <span class="dt">z =</span> <span class="dv">100</span>,
      <span class="dt">style =</span> <span class="kw">list</span>(
        <span class="dt">fill =</span> <span class="st">&#39;#fff&#39;</span>,
        <span class="dt">text =</span> <span class="st">&#39;ECHARTER&#39;</span>,
        <span class="dt">font =</span> <span class="st">&#39;bold 26px Microsoft YaHei&#39;</span>
      )
    )
  )
)
<span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_graphic</span>(graphic_opt)</code></pre></div>
<div id="htmlwidget-56dddc2260ca4525d537" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-56dddc2260ca4525d537">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"graphic":[{"type":"group","rotation":0.785,"bounding":"raw","right":110,"bottom":110,"z":100,"children":[{"type":"rect","left":"center","top":"center","z":100,"shape":{"width":400,"height":50},"style":{"fill":"rgba(0,0,0,0.3)"}},{"type":"text","left":"center","top":"center","z":100,"style":{"fill":"#fff","text":"ECHARTER","font":"bold 26px Microsoft YaHei"}}]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_axispointer" class="section level3">
<h3><span class="header-section-number">4.3.3</span> ec_axisPointer</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_axisPointer</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>)</code></pre></div>
<div id="htmlwidget-2d36b3ef088fd9dd34aa" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-2d36b3ef088fd9dd34aa">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"axisPointer":{"show":true,"type":"line"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p><a href="http://echarts.baidu.com/option.html#xAxis.axisPointer">xAxis.axisPointer</a></p>
<blockquote>
<p>默认不显示。但是如果 tooltip.trigger 设置为 ‘axis’ 或者 tooltip.axisPointer.type 设置为 ‘cross’，则自动显示 axisPointer。坐标系会自动选择显示显示哪个轴的 axisPointer，也可以使用 tooltip.axisPointer.axis 改变这种选择。</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">axisPointer =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&#39;shadow&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(
    <span class="dt">axisPointer =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>))</code></pre></div>
<div id="htmlwidget-eb453f8b02b4411bd75b" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-eb453f8b02b4411bd75b">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"axisPointer":{"show":true,"type":"shadow"}},"yAxis":{"show":true,"type":"value","axisPointer":{"show":true,"type":"line"}},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p><a href="http://echarts.baidu.com/option.html#tooltip.axisPointer">tooltip.axisPointer</a></p>
<blockquote>
<p>tooltip.axisPointer 是配置坐标轴指示器的快捷方式。实际上坐标轴指示器的全部功能，都可以通过轴上的 axisPointer 配置项完成（例如 xAxis.axisPointer 或 angleAxis.axisPointer）。但是使用 tooltip.axisPinter 在简单场景下会更方便一些。 注意： tooltip.axisPointer 中诸配置项的优先级低于轴上的 axisPointer 的配置项。</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">axisPointer =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;cross&#39;</span>))</code></pre></div>
<div id="htmlwidget-23306dfa291d97904c81" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-23306dfa291d97904c81">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"cross"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_toolbox" class="section level3">
<h3><span class="header-section-number">4.3.4</span> ec_toolbox</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_toolbox</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">orinent =</span> <span class="st">&#39;horizontal&#39;</span>,
    <span class="dt">feature =</span> <span class="kw">list</span>(
      <span class="dt">dataView =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">readOnly =</span> <span class="ot">TRUE</span>),
      <span class="dt">magicType =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&#39;line&#39;</span>, <span class="st">&#39;bar&#39;</span>, <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;tiled&#39;</span>)),
      <span class="dt">restore =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">brush =</span> <span class="kw">list</span>(),
      <span class="dt">saveAsImage =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>)))</code></pre></div>
<div id="htmlwidget-44985df3cc950222922a" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-44985df3cc950222922a">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"toolbox":{"show":true,"orinent":"horizontal","feature":{"dataView":{"show":true,"readOnly":true},"magicType":{"show":true,"type":["line","bar","stack","tiled"]},"restore":{"show":true},"brush":[],"saveAsImage":{"show":true}}}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p><strong>拓展</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">toolbox_icon_excel &lt;-<span class="st"> &quot;M821.469342 118.206149H205.714155c-48.380541 0-87.963909 39.583368-87.963909 87.965866v615.755187c0 48.380541 39.583368 87.963909 87.963909 87.963909h615.755187c48.380541 0 87.963909-39.583368 87.963909-87.963909V206.170058c0-48.380541-39.583368-87.963909-87.963909-87.963909z m-120.710683 615.755188h-80.487485l-105.726529-171.220078-105.728486 171.220078h-78.896715l148.100104-221.956445-148.156847-221.968185h78.955415l105.726529 171.231817 105.726529-171.018541h80.319212l-149.929587 221.754909 150.09786 221.956445z&quot;</span>

toolbox_js_excel &lt;-<span class="st"> &quot;function (params){console.log(params);alert(&#39;下载Excel&#39;);}&quot;</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_date, <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">name =</span> <span class="st">&quot;date&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;date&#39;</span>), <span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_toolbox</span>(
    <span class="dt">orinent =</span> <span class="st">&#39;horizontal&#39;</span>,
    <span class="dt">feature =</span> <span class="kw">list</span>(
      <span class="dt">dataView =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">readOnly =</span> <span class="ot">TRUE</span>),
      <span class="dt">magicType =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&#39;line&#39;</span>, <span class="st">&#39;bar&#39;</span>, <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;tiled&#39;</span>)),
      <span class="dt">restore =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">saveAsImage =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">myexcel =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">title =</span> <span class="st">&#39;Excel&#39;</span>,
        <span class="dt">icon =</span> toolbox_icon_excel,
        <span class="dt">onclick =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(toolbox_js_excel) 
      )
    )
  )</code></pre></div>
<div id="htmlwidget-79e42d0a3469aa0bc5ca" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-79e42d0a3469aa0bc5ca">{"x":{"opt":{"legend":{"show":true,"data":["date"]},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":[{"group":"date","data":[{"x":1483228800000,"y":33,"value":[1483228800000,33]},{"x":1483315200000,"y":976,"value":[1483315200000,976]},{"x":1483401600000,"y":943,"value":[1483401600000,943]},{"x":1483488000000,"y":985,"value":[1483488000000,985]},{"x":1483574400000,"y":164,"value":[1483574400000,164]},{"x":1483660800000,"y":136,"value":[1483660800000,136]},{"x":1483747200000,"y":846,"value":[1483747200000,846]},{"x":1483833600000,"y":945,"value":[1483833600000,945]},{"x":1483920000000,"y":244,"value":[1483920000000,244]},{"x":1484006400000,"y":608,"value":[1484006400000,608]},{"x":1484092800000,"y":362,"value":[1484092800000,362]},{"x":1484179200000,"y":45,"value":[1484179200000,45]},{"x":1484265600000,"y":715,"value":[1484265600000,715]},{"x":1484352000000,"y":642,"value":[1484352000000,642]},{"x":1484438400000,"y":403,"value":[1484438400000,403]},{"x":1484524800000,"y":725,"value":[1484524800000,725]},{"x":1484611200000,"y":607,"value":[1484611200000,607]},{"x":1484697600000,"y":797,"value":[1484697600000,797]},{"x":1484784000000,"y":337,"value":[1484784000000,337]},{"x":1484870400000,"y":866,"value":[1484870400000,866]},{"x":1484956800000,"y":861,"value":[1484956800000,861]},{"x":1485043200000,"y":134,"value":[1485043200000,134]},{"x":1485129600000,"y":375,"value":[1485129600000,375]},{"x":1485216000000,"y":792,"value":[1485216000000,792]},{"x":1485302400000,"y":272,"value":[1485302400000,272]},{"x":1485388800000,"y":145,"value":[1485388800000,145]},{"x":1485475200000,"y":833,"value":[1485475200000,833]},{"x":1485561600000,"y":215,"value":[1485561600000,215]},{"x":1485648000000,"y":179,"value":[1485648000000,179]},{"x":1485734400000,"y":214,"value":[1485734400000,214]},{"x":1485820800000,"y":701,"value":[1485820800000,701]},{"x":1485907200000,"y":935,"value":[1485907200000,935]},{"x":1485993600000,"y":34,"value":[1485993600000,34]},{"x":1486080000000,"y":559,"value":[1486080000000,559]},{"x":1486166400000,"y":850,"value":[1486166400000,850]},{"x":1486252800000,"y":867,"value":[1486252800000,867]},{"x":1486339200000,"y":204,"value":[1486339200000,204]},{"x":1486425600000,"y":668,"value":[1486425600000,668]},{"x":1486512000000,"y":919,"value":[1486512000000,919]},{"x":1486598400000,"y":272,"value":[1486598400000,272]},{"x":1486684800000,"y":246,"value":[1486684800000,246]},{"x":1486771200000,"y":545,"value":[1486771200000,545]},{"x":1486857600000,"y":9,"value":[1486857600000,9]},{"x":1486944000000,"y":704,"value":[1486944000000,704]},{"x":1487030400000,"y":256,"value":[1487030400000,256]},{"x":1487116800000,"y":108,"value":[1487116800000,108]},{"x":1487203200000,"y":841,"value":[1487203200000,841]},{"x":1487289600000,"y":357,"value":[1487289600000,357]},{"x":1487376000000,"y":139,"value":[1487376000000,139]},{"x":1487462400000,"y":188,"value":[1487462400000,188]},{"x":1487548800000,"y":429,"value":[1487548800000,429]},{"x":1487635200000,"y":977,"value":[1487635200000,977]},{"x":1487721600000,"y":162,"value":[1487721600000,162]},{"x":1487808000000,"y":117,"value":[1487808000000,117]},{"x":1487894400000,"y":591,"value":[1487894400000,591]},{"x":1487980800000,"y":564,"value":[1487980800000,564]},{"x":1488067200000,"y":298,"value":[1488067200000,298]},{"x":1488153600000,"y":505,"value":[1488153600000,505]},{"x":1488240000000,"y":267,"value":[1488240000000,267]},{"x":1488326400000,"y":596,"value":[1488326400000,596]},{"x":1488412800000,"y":364,"value":[1488412800000,364]},{"x":1488499200000,"y":951,"value":[1488499200000,951]},{"x":1488585600000,"y":798,"value":[1488585600000,798]},{"x":1488672000000,"y":586,"value":[1488672000000,586]},{"x":1488758400000,"y":11,"value":[1488758400000,11]},{"x":1488844800000,"y":135,"value":[1488844800000,135]},{"x":1488931200000,"y":571,"value":[1488931200000,571]},{"x":1489017600000,"y":167,"value":[1489017600000,167]},{"x":1489104000000,"y":474,"value":[1489104000000,474]},{"x":1489190400000,"y":893,"value":[1489190400000,893]},{"x":1489276800000,"y":177,"value":[1489276800000,177]},{"x":1489363200000,"y":40,"value":[1489363200000,40]},{"x":1489449600000,"y":205,"value":[1489449600000,205]},{"x":1489536000000,"y":413,"value":[1489536000000,413]},{"x":1489622400000,"y":664,"value":[1489622400000,664]},{"x":1489708800000,"y":46,"value":[1489708800000,46]},{"x":1489795200000,"y":771,"value":[1489795200000,771]},{"x":1489881600000,"y":791,"value":[1489881600000,791]},{"x":1489968000000,"y":491,"value":[1489968000000,491]},{"x":1490054400000,"y":815,"value":[1490054400000,815]},{"x":1490140800000,"y":539,"value":[1490140800000,539]},{"x":1490227200000,"y":157,"value":[1490227200000,157]},{"x":1490313600000,"y":69,"value":[1490313600000,69]},{"x":1490400000000,"y":703,"value":[1490400000000,703]},{"x":1490486400000,"y":837,"value":[1490486400000,837]},{"x":1490572800000,"y":788,"value":[1490572800000,788]},{"x":1490659200000,"y":113,"value":[1490659200000,113]},{"x":1490745600000,"y":161,"value":[1490745600000,161]},{"x":1490832000000,"y":15,"value":[1490832000000,15]},{"x":1490918400000,"y":547,"value":[1490918400000,547]},{"x":1491004800000,"y":447,"value":[1491004800000,447]},{"x":1491091200000,"y":10,"value":[1491091200000,10]},{"x":1491177600000,"y":969,"value":[1491177600000,969]},{"x":1491264000000,"y":114,"value":[1491264000000,114]},{"x":1491350400000,"y":731,"value":[1491350400000,731]},{"x":1491436800000,"y":892,"value":[1491436800000,892]},{"x":1491523200000,"y":230,"value":[1491523200000,230]},{"x":1491609600000,"y":436,"value":[1491609600000,436]},{"x":1491696000000,"y":270,"value":[1491696000000,270]},{"x":1491782400000,"y":677,"value":[1491782400000,677]},{"x":1491868800000,"y":786,"value":[1491868800000,786]},{"x":1491955200000,"y":774,"value":[1491955200000,774]},{"x":1492041600000,"y":609,"value":[1492041600000,609]},{"x":1492128000000,"y":923,"value":[1492128000000,923]},{"x":1492214400000,"y":149,"value":[1492214400000,149]},{"x":1492300800000,"y":247,"value":[1492300800000,247]},{"x":1492387200000,"y":408,"value":[1492387200000,408]},{"x":1492473600000,"y":504,"value":[1492473600000,504]},{"x":1492560000000,"y":379,"value":[1492560000000,379]},{"x":1492646400000,"y":764,"value":[1492646400000,764]},{"x":1492732800000,"y":989,"value":[1492732800000,989]},{"x":1492819200000,"y":737,"value":[1492819200000,737]},{"x":1492905600000,"y":734,"value":[1492905600000,734]},{"x":1492992000000,"y":195,"value":[1492992000000,195]},{"x":1493078400000,"y":189,"value":[1493078400000,189]},{"x":1493164800000,"y":798,"value":[1493164800000,798]},{"x":1493251200000,"y":343,"value":[1493251200000,343]},{"x":1493337600000,"y":634,"value":[1493337600000,634]},{"x":1493424000000,"y":321,"value":[1493424000000,321]},{"x":1493510400000,"y":249,"value":[1493510400000,249]},{"x":1493596800000,"y":987,"value":[1493596800000,987]},{"x":1493683200000,"y":644,"value":[1493683200000,644]},{"x":1493769600000,"y":515,"value":[1493769600000,515]},{"x":1493856000000,"y":83,"value":[1493856000000,83]},{"x":1493942400000,"y":130,"value":[1493942400000,130]},{"x":1494028800000,"y":530,"value":[1494028800000,530]},{"x":1494115200000,"y":697,"value":[1494115200000,697]},{"x":1494201600000,"y":934,"value":[1494201600000,934]},{"x":1494288000000,"y":728,"value":[1494288000000,728]},{"x":1494374400000,"y":692,"value":[1494374400000,692]},{"x":1494460800000,"y":645,"value":[1494460800000,645]},{"x":1494547200000,"y":811,"value":[1494547200000,811]},{"x":1494633600000,"y":536,"value":[1494633600000,536]},{"x":1494720000000,"y":426,"value":[1494720000000,426]},{"x":1494806400000,"y":300,"value":[1494806400000,300]},{"x":1494892800000,"y":608,"value":[1494892800000,608]},{"x":1494979200000,"y":441,"value":[1494979200000,441]},{"x":1495065600000,"y":198,"value":[1495065600000,198]},{"x":1495152000000,"y":606,"value":[1495152000000,606]},{"x":1495238400000,"y":977,"value":[1495238400000,977]},{"x":1495324800000,"y":660,"value":[1495324800000,660]},{"x":1495411200000,"y":45,"value":[1495411200000,45]},{"x":1495497600000,"y":620,"value":[1495497600000,620]},{"x":1495584000000,"y":574,"value":[1495584000000,574]},{"x":1495670400000,"y":596,"value":[1495670400000,596]},{"x":1495756800000,"y":708,"value":[1495756800000,708]},{"x":1495843200000,"y":370,"value":[1495843200000,370]},{"x":1495929600000,"y":84,"value":[1495929600000,84]},{"x":1496016000000,"y":538,"value":[1496016000000,538]},{"x":1496102400000,"y":448,"value":[1496102400000,448]},{"x":1496188800000,"y":428,"value":[1496188800000,428]},{"x":1496275200000,"y":543,"value":[1496275200000,543]},{"x":1496361600000,"y":365,"value":[1496361600000,365]},{"x":1496448000000,"y":60,"value":[1496448000000,60]},{"x":1496534400000,"y":701,"value":[1496534400000,701]},{"x":1496620800000,"y":368,"value":[1496620800000,368]},{"x":1496707200000,"y":829,"value":[1496707200000,829]},{"x":1496793600000,"y":264,"value":[1496793600000,264]},{"x":1496880000000,"y":201,"value":[1496880000000,201]},{"x":1496966400000,"y":5,"value":[1496966400000,5]},{"x":1497052800000,"y":170,"value":[1497052800000,170]},{"x":1497139200000,"y":893,"value":[1497139200000,893]},{"x":1497225600000,"y":209,"value":[1497225600000,209]},{"x":1497312000000,"y":705,"value":[1497312000000,705]},{"x":1497398400000,"y":308,"value":[1497398400000,308]},{"x":1497484800000,"y":783,"value":[1497484800000,783]},{"x":1497571200000,"y":24,"value":[1497571200000,24]},{"x":1497657600000,"y":284,"value":[1497657600000,284]},{"x":1497744000000,"y":332,"value":[1497744000000,332]},{"x":1497830400000,"y":400,"value":[1497830400000,400]},{"x":1497916800000,"y":419,"value":[1497916800000,419]},{"x":1498003200000,"y":660,"value":[1498003200000,660]},{"x":1498089600000,"y":333,"value":[1498089600000,333]},{"x":1498176000000,"y":570,"value":[1498176000000,570]},{"x":1498262400000,"y":849,"value":[1498262400000,849]},{"x":1498348800000,"y":941,"value":[1498348800000,941]},{"x":1498435200000,"y":319,"value":[1498435200000,319]},{"x":1498521600000,"y":480,"value":[1498521600000,480]},{"x":1498608000000,"y":753,"value":[1498608000000,753]},{"x":1498694400000,"y":243,"value":[1498694400000,243]},{"x":1498780800000,"y":420,"value":[1498780800000,420]},{"x":1498867200000,"y":855,"value":[1498867200000,855]},{"x":1498953600000,"y":377,"value":[1498953600000,377]},{"x":1499040000000,"y":706,"value":[1499040000000,706]},{"x":1499126400000,"y":378,"value":[1499126400000,378]},{"x":1499212800000,"y":7,"value":[1499212800000,7]},{"x":1499299200000,"y":860,"value":[1499299200000,860]},{"x":1499385600000,"y":124,"value":[1499385600000,124]},{"x":1499472000000,"y":163,"value":[1499472000000,163]},{"x":1499558400000,"y":238,"value":[1499558400000,238]},{"x":1499644800000,"y":939,"value":[1499644800000,939]},{"x":1499731200000,"y":830,"value":[1499731200000,830]},{"x":1499817600000,"y":906,"value":[1499817600000,906]},{"x":1499904000000,"y":428,"value":[1499904000000,428]},{"x":1499990400000,"y":637,"value":[1499990400000,637]},{"x":1500076800000,"y":897,"value":[1500076800000,897]},{"x":1500163200000,"y":641,"value":[1500163200000,641]},{"x":1500249600000,"y":141,"value":[1500249600000,141]},{"x":1500336000000,"y":525,"value":[1500336000000,525]},{"x":1500422400000,"y":789,"value":[1500422400000,789]},{"x":1500508800000,"y":777,"value":[1500508800000,777]},{"x":1500595200000,"y":822,"value":[1500595200000,822]},{"x":1500681600000,"y":864,"value":[1500681600000,864]},{"x":1500768000000,"y":366,"value":[1500768000000,366]},{"x":1500854400000,"y":151,"value":[1500854400000,151]},{"x":1500940800000,"y":165,"value":[1500940800000,165]},{"x":1501027200000,"y":317,"value":[1501027200000,317]},{"x":1501113600000,"y":104,"value":[1501113600000,104]},{"x":1501200000000,"y":735,"value":[1501200000000,735]},{"x":1501286400000,"y":35,"value":[1501286400000,35]},{"x":1501372800000,"y":194,"value":[1501372800000,194]},{"x":1501459200000,"y":90,"value":[1501459200000,90]},{"x":1501545600000,"y":196,"value":[1501545600000,196]},{"x":1501632000000,"y":62,"value":[1501632000000,62]},{"x":1501718400000,"y":422,"value":[1501718400000,422]},{"x":1501804800000,"y":262,"value":[1501804800000,262]},{"x":1501891200000,"y":860,"value":[1501891200000,860]},{"x":1501977600000,"y":150,"value":[1501977600000,150]},{"x":1502064000000,"y":569,"value":[1502064000000,569]},{"x":1502150400000,"y":734,"value":[1502150400000,734]},{"x":1502236800000,"y":346,"value":[1502236800000,346]},{"x":1502323200000,"y":472,"value":[1502323200000,472]},{"x":1502409600000,"y":671,"value":[1502409600000,671]},{"x":1502496000000,"y":429,"value":[1502496000000,429]},{"x":1502582400000,"y":539,"value":[1502582400000,539]},{"x":1502668800000,"y":598,"value":[1502668800000,598]},{"x":1502755200000,"y":979,"value":[1502755200000,979]},{"x":1502841600000,"y":573,"value":[1502841600000,573]},{"x":1502928000000,"y":553,"value":[1502928000000,553]},{"x":1503014400000,"y":295,"value":[1503014400000,295]},{"x":1503100800000,"y":432,"value":[1503100800000,432]},{"x":1503187200000,"y":279,"value":[1503187200000,279]},{"x":1503273600000,"y":98,"value":[1503273600000,98]},{"x":1503360000000,"y":796,"value":[1503360000000,796]},{"x":1503446400000,"y":493,"value":[1503446400000,493]},{"x":1503532800000,"y":149,"value":[1503532800000,149]},{"x":1503619200000,"y":446,"value":[1503619200000,446]},{"x":1503705600000,"y":440,"value":[1503705600000,440]},{"x":1503792000000,"y":705,"value":[1503792000000,705]},{"x":1503878400000,"y":333,"value":[1503878400000,333]},{"x":1503964800000,"y":646,"value":[1503964800000,646]},{"x":1504051200000,"y":331,"value":[1504051200000,331]},{"x":1504137600000,"y":278,"value":[1504137600000,278]},{"x":1504224000000,"y":438,"value":[1504224000000,438]},{"x":1504310400000,"y":28,"value":[1504310400000,28]},{"x":1504396800000,"y":199,"value":[1504396800000,199]},{"x":1504483200000,"y":875,"value":[1504483200000,875]},{"x":1504569600000,"y":191,"value":[1504569600000,191]},{"x":1504656000000,"y":37,"value":[1504656000000,37]},{"x":1504742400000,"y":960,"value":[1504742400000,960]},{"x":1504828800000,"y":102,"value":[1504828800000,102]},{"x":1504915200000,"y":97,"value":[1504915200000,97]},{"x":1505001600000,"y":536,"value":[1505001600000,536]},{"x":1505088000000,"y":140,"value":[1505088000000,140]},{"x":1505174400000,"y":59,"value":[1505174400000,59]},{"x":1505260800000,"y":348,"value":[1505260800000,348]},{"x":1505347200000,"y":881,"value":[1505347200000,881]},{"x":1505433600000,"y":410,"value":[1505433600000,410]},{"x":1505520000000,"y":49,"value":[1505520000000,49]},{"x":1505606400000,"y":199,"value":[1505606400000,199]},{"x":1505692800000,"y":159,"value":[1505692800000,159]},{"x":1505779200000,"y":704,"value":[1505779200000,704]},{"x":1505865600000,"y":925,"value":[1505865600000,925]},{"x":1505952000000,"y":970,"value":[1505952000000,970]},{"x":1506038400000,"y":3,"value":[1506038400000,3]},{"x":1506124800000,"y":43,"value":[1506124800000,43]},{"x":1506211200000,"y":196,"value":[1506211200000,196]},{"x":1506297600000,"y":498,"value":[1506297600000,498]},{"x":1506384000000,"y":978,"value":[1506384000000,978]},{"x":1506470400000,"y":222,"value":[1506470400000,222]},{"x":1506556800000,"y":604,"value":[1506556800000,604]},{"x":1506643200000,"y":841,"value":[1506643200000,841]},{"x":1506729600000,"y":703,"value":[1506729600000,703]},{"x":1506816000000,"y":752,"value":[1506816000000,752]},{"x":1506902400000,"y":401,"value":[1506902400000,401]},{"x":1506988800000,"y":203,"value":[1506988800000,203]},{"x":1507075200000,"y":655,"value":[1507075200000,655]},{"x":1507161600000,"y":153,"value":[1507161600000,153]},{"x":1507248000000,"y":823,"value":[1507248000000,823]},{"x":1507334400000,"y":340,"value":[1507334400000,340]},{"x":1507420800000,"y":48,"value":[1507420800000,48]},{"x":1507507200000,"y":207,"value":[1507507200000,207]},{"x":1507593600000,"y":135,"value":[1507593600000,135]},{"x":1507680000000,"y":910,"value":[1507680000000,910]},{"x":1507766400000,"y":46,"value":[1507766400000,46]},{"x":1507852800000,"y":496,"value":[1507852800000,496]},{"x":1507939200000,"y":520,"value":[1507939200000,520]},{"x":1508025600000,"y":864,"value":[1508025600000,864]},{"x":1508112000000,"y":366,"value":[1508112000000,366]},{"x":1508198400000,"y":353,"value":[1508198400000,353]},{"x":1508284800000,"y":54,"value":[1508284800000,54]},{"x":1508371200000,"y":478,"value":[1508371200000,478]},{"x":1508457600000,"y":767,"value":[1508457600000,767]},{"x":1508544000000,"y":533,"value":[1508544000000,533]},{"x":1508630400000,"y":41,"value":[1508630400000,41]},{"x":1508716800000,"y":171,"value":[1508716800000,171]},{"x":1508803200000,"y":955,"value":[1508803200000,955]},{"x":1508889600000,"y":37,"value":[1508889600000,37]},{"x":1508976000000,"y":934,"value":[1508976000000,934]},{"x":1509062400000,"y":747,"value":[1509062400000,747]},{"x":1509148800000,"y":96,"value":[1509148800000,96]},{"x":1509235200000,"y":164,"value":[1509235200000,164]},{"x":1509321600000,"y":197,"value":[1509321600000,197]},{"x":1509408000000,"y":648,"value":[1509408000000,648]},{"x":1509494400000,"y":752,"value":[1509494400000,752]},{"x":1509580800000,"y":745,"value":[1509580800000,745]},{"x":1509667200000,"y":235,"value":[1509667200000,235]},{"x":1509753600000,"y":320,"value":[1509753600000,320]},{"x":1509840000000,"y":107,"value":[1509840000000,107]},{"x":1509926400000,"y":143,"value":[1509926400000,143]},{"x":1510012800000,"y":103,"value":[1510012800000,103]},{"x":1510099200000,"y":898,"value":[1510099200000,898]},{"x":1510185600000,"y":80,"value":[1510185600000,80]},{"x":1510272000000,"y":402,"value":[1510272000000,402]},{"x":1510358400000,"y":837,"value":[1510358400000,837]},{"x":1510444800000,"y":345,"value":[1510444800000,345]},{"x":1510531200000,"y":408,"value":[1510531200000,408]},{"x":1510617600000,"y":704,"value":[1510617600000,704]},{"x":1510704000000,"y":297,"value":[1510704000000,297]},{"x":1510790400000,"y":422,"value":[1510790400000,422]},{"x":1510876800000,"y":45,"value":[1510876800000,45]},{"x":1510963200000,"y":740,"value":[1510963200000,740]},{"x":1511049600000,"y":951,"value":[1511049600000,951]},{"x":1511136000000,"y":695,"value":[1511136000000,695]},{"x":1511222400000,"y":455,"value":[1511222400000,455]},{"x":1511308800000,"y":178,"value":[1511308800000,178]},{"x":1511395200000,"y":792,"value":[1511395200000,792]},{"x":1511481600000,"y":434,"value":[1511481600000,434]},{"x":1511568000000,"y":565,"value":[1511568000000,565]},{"x":1511654400000,"y":792,"value":[1511654400000,792]},{"x":1511740800000,"y":935,"value":[1511740800000,935]},{"x":1511827200000,"y":417,"value":[1511827200000,417]},{"x":1511913600000,"y":34,"value":[1511913600000,34]},{"x":1512000000000,"y":70,"value":[1512000000000,70]},{"x":1512086400000,"y":520,"value":[1512086400000,520]},{"x":1512172800000,"y":505,"value":[1512172800000,505]},{"x":1512259200000,"y":588,"value":[1512259200000,588]},{"x":1512345600000,"y":608,"value":[1512345600000,608]},{"x":1512432000000,"y":622,"value":[1512432000000,622]},{"x":1512518400000,"y":851,"value":[1512518400000,851]},{"x":1512604800000,"y":198,"value":[1512604800000,198]},{"x":1512691200000,"y":671,"value":[1512691200000,671]},{"x":1512777600000,"y":648,"value":[1512777600000,648]},{"x":1512864000000,"y":97,"value":[1512864000000,97]},{"x":1512950400000,"y":853,"value":[1512950400000,853]},{"x":1513036800000,"y":153,"value":[1513036800000,153]},{"x":1513123200000,"y":496,"value":[1513123200000,496]},{"x":1513209600000,"y":190,"value":[1513209600000,190]},{"x":1513296000000,"y":918,"value":[1513296000000,918]},{"x":1513382400000,"y":530,"value":[1513382400000,530]},{"x":1513468800000,"y":868,"value":[1513468800000,868]},{"x":1513555200000,"y":152,"value":[1513555200000,152]},{"x":1513641600000,"y":14,"value":[1513641600000,14]},{"x":1513728000000,"y":792,"value":[1513728000000,792]},{"x":1513814400000,"y":422,"value":[1513814400000,422]},{"x":1513900800000,"y":656,"value":[1513900800000,656]},{"x":1513987200000,"y":592,"value":[1513987200000,592]},{"x":1514073600000,"y":753,"value":[1514073600000,753]},{"x":1514160000000,"y":57,"value":[1514160000000,57]},{"x":1514246400000,"y":365,"value":[1514246400000,365]},{"x":1514332800000,"y":883,"value":[1514332800000,883]},{"x":1514419200000,"y":614,"value":[1514419200000,614]},{"x":1514505600000,"y":184,"value":[1514505600000,184]},{"x":1514592000000,"y":240,"value":[1514592000000,240]},{"x":1514678400000,"y":952,"value":[1514678400000,952]}],"type":"line","name":"date"}],"toolbox":{"orinent":"horizontal","feature":{"dataView":{"show":true,"readOnly":true},"magicType":{"show":true,"type":["line","bar","stack","tiled"]},"restore":{"show":true},"saveAsImage":{"show":true},"myexcel":{"show":true,"title":"Excel","icon":"M821.469342 118.206149H205.714155c-48.380541 0-87.963909 39.583368-87.963909 87.965866v615.755187c0 48.380541 39.583368 87.963909 87.963909 87.963909h615.755187c48.380541 0 87.963909-39.583368 87.963909-87.963909V206.170058c0-48.380541-39.583368-87.963909-87.963909-87.963909z m-120.710683 615.755188h-80.487485l-105.726529-171.220078-105.728486 171.220078h-78.896715l148.100104-221.956445-148.156847-221.968185h78.955415l105.726529 171.231817 105.726529-171.018541h80.319212l-149.929587 221.754909 150.09786 221.956445z","onclick":"function (params){console.log(params);alert('下载Excel');}"}}}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.toolbox.feature.myexcel.onclick"],"jsHooks":[]}</script>
</div>
<div id="ec_visualmap" class="section level3">
<h3><span class="header-section-number">4.3.5</span> ec_visualMap</h3>
<p>数据可视化是数据到视觉元素的映射过程（这个过程也可称为视觉编码，视觉元素也可称为视觉通道）。</p>
<p>ECharts 的每种图表本身就内置了这种映射过程，比如折线图把数据映射到『线』，柱状图把数据映射到『长度』。一些更复杂的图表，如graph、事件河流图、treemap 也都会做出他们内置的映射。</p>
<p>此外，ECharts 还提供了 visualMap 组件 来提供通用的视觉映射。visualMap 组件中可以使用的视觉元素有：图形类别（symbol）、图形大小（symbolSize）、颜色（color）、透明度（opacity）、颜色透明度（colorAlpha）、颜色明暗度（colorLightness）、颜色饱和度（colorSaturation）、色调（colorHue）</p>
<ul>
<li>连续型（visualMapContinuous）</li>
<li>分段型（visualMapPiecewise）</li>
</ul>
<p>分段型视觉映射组件（visualMapPiecewise），有三种模式：</p>
<p>-连续型数据平均分段:依据visualMap-piecewise.splitNumber来自动平均分割成若干块。 - 连续型数据自定义分段:依据visualMap-piecewise.pieces来定义每块范围。 - 离散数据（类别性数据）:类别定义在 visualMap-piecewise.categories 中。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">right =</span> <span class="st">&#39;100&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}的销量: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">TYPE =</span> <span class="st">&#39;piecewise&#39;</span>, <span class="dt">splitNumber =</span> <span class="dv">5</span>, 
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">100</span>, 
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>))</code></pre></div>
<div id="htmlwidget-7dd0892811b3d6c91c29" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-7dd0892811b3d6c91c29">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}的销量: {c}"},"grid":{"show":true,"right":"100"},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"Mon","y":99,"value":["Mon","99"]},{"x":"Tues","y":45,"value":["Tues","45"]},{"x":"Wed","y":57,"value":["Wed","57"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":68,"value":["Fri","68"]},{"x":"Sat","y":35,"value":["Sat","35"]},{"x":"Sun","y":47,"value":["Sun","47"]},{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":44,"value":["Tues","44"]},{"x":"Wed","y":45,"value":["Wed","45"]},{"x":"Thurs","y":75,"value":["Thurs","75"]},{"x":"Fri","y":37,"value":["Fri","37"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":27,"value":["Sun","27"]},{"x":"Mon","y":77,"value":["Mon","77"]},{"x":"Tues","y":64,"value":["Tues","64"]},{"x":"Wed","y":28,"value":["Wed","28"]},{"x":"Thurs","y":51,"value":["Thurs","51"]},{"x":"Fri","y":98,"value":["Fri","98"]},{"x":"Sat","y":90,"value":["Sat","90"]},{"x":"Sun","y":40,"value":["Sun","40"]}],"type":"scatter"}],"visualMap":{"TYPE":"piecewise","splitNumber":5,"min":0,"max":100,"left":"right","top":"middle","color":["#d94e5d","#eac736","#50a3ba"]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">right =</span> <span class="st">&#39;100&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">type =</span> <span class="st">&#39;continuous&#39;</span>, <span class="dt">calculable =</span> <span class="ot">TRUE</span>,
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">100</span>, 
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>))</code></pre></div>
<div id="htmlwidget-038b7202f81dbbe43a6f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-038b7202f81dbbe43a6f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"name":"Mon","value":99},{"name":"Tues","value":45},{"name":"Wed","value":57},{"name":"Thurs","value":89},{"name":"Fri","value":68},{"name":"Sat","value":35},{"name":"Sun","value":47}],"type":"scatter"}],"grid":{"show":true,"right":"100"},"visualMap":{"type":"continuous","calculable":true,"min":0,"max":100,"left":"right","top":"middle","color":["#d94e5d","#eac736","#50a3ba"]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_datazoom" class="section level3">
<h3><span class="header-section-number">4.3.6</span> ec_dataZoom</h3>
<p>dataZoom 组件能够在直角坐标系（grid）、极坐标系（polar）中实现这一功能。</p>
<ul>
<li>内置型数据区域缩放组件（dataZoomInside）：内置于坐标系中。</li>
<li>滑动条型数据区域缩放组件（dataZoomSlider）：有单独的滑动条操作。</li>
<li>框选型数据区域缩放组件（dataZoomSelect）：全屏的选框进行数据区域缩放。入口和配置项均在 toolbox中。</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">bottom =</span> <span class="st">&#39;80&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;80&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;right&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataZoom</span>(<span class="dt">type =</span> <span class="st">&#39;slider&#39;</span>)</code></pre></div>
<div id="htmlwidget-45adc9c69bec263f6880" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-45adc9c69bec263f6880">{"x":{"opt":{"legend":{"show":true,"top":"middle","right":"right"},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"grid":{"show":true,"bottom":"80","right":"80"},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"name":"Mon","value":99},{"name":"Tues","value":45},{"name":"Wed","value":57},{"name":"Thurs","value":89},{"name":"Fri","value":68},{"name":"Sat","value":35},{"name":"Sun","value":47}],"type":"scatter"},{"name":"Banana","data":[{"name":"Mon","value":77},{"name":"Tues","value":64},{"name":"Wed","value":28},{"name":"Thurs","value":51},{"name":"Fri","value":98},{"name":"Sat","value":90},{"name":"Sun","value":40}],"type":"scatter"},{"name":"Pear","data":[{"name":"Mon","value":55},{"name":"Tues","value":44},{"name":"Wed","value":45},{"name":"Thurs","value":75},{"name":"Fri","value":37},{"name":"Sat","value":80},{"name":"Sun","value":27}],"type":"scatter"}],"dataZoom":{"type":"slider"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_timeline" class="section level3">
<h3><span class="header-section-number">4.3.7</span> ec_timeline</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ec1 &lt;-<span class="st"> </span><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Apple&quot;</span>,
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(weekDay, saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;Apple&#39;</span>) 

ec2 &lt;-<span class="st"> </span><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Pear&quot;</span>,
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Pear&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(weekDay, saleNum)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;Pear&#39;</span>)

ec3 &lt;-<span class="st"> </span><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Banana&quot;</span>,
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Banana&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(weekDay, saleNum)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;Banana&#39;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_timeline</span>(
    <span class="dt">axisType =</span> <span class="st">&#39;category&#39;</span>, <span class="dt">autoPlay =</span> <span class="ot">TRUE</span>,
    <span class="dt">data =</span> <span class="kw">list</span>(
    <span class="st">&quot;Apple&quot;</span>,<span class="st">&quot;Pear&quot;</span>,
    <span class="kw">list</span>(<span class="dt">value =</span> <span class="st">&#39;Banana&#39;</span>, <span class="dt">symbol =</span> <span class="st">&#39;diamond&#39;</span>, <span class="dt">symbolSize =</span> <span class="dv">16</span>)
    )) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_options</span>(<span class="kw">list</span>(ec1,ec2,ec3)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">bottom =</span> <span class="st">&#39;100&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">subtext =</span> <span class="st">&quot;data from sale&quot;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;axis&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>), <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) </code></pre></div>
<div id="htmlwidget-61c3fdbcbb3230cc57a2" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-61c3fdbcbb3230cc57a2">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"baseOption":{"timeline":{"axisType":"category","autoPlay":true,"data":["Apple","Pear",{"value":"Banana","symbol":"diamond","symbolSize":16}]},"grid":{"show":true,"bottom":"100"},"title":{"subtext":"data from sale"},"tooltip":{"trigger":"axis"},"legend":{"data":["Apple","Pear","Banana"]}},"options":[{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Apple","data":[{"x":"Mon","y":99,"value":["Mon","99"]},{"x":"Tues","y":45,"value":["Tues","45"]},{"x":"Wed","y":57,"value":["Wed","57"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":68,"value":["Fri","68"]},{"x":"Sat","y":35,"value":["Sat","35"]},{"x":"Sun","y":47,"value":["Sun","47"]}],"name":"Apple","type":"line"}],"title":{"text":"Apple"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Pear","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":44,"value":["Tues","44"]},{"x":"Wed","y":45,"value":["Wed","45"]},{"x":"Thurs","y":75,"value":["Thurs","75"]},{"x":"Fri","y":37,"value":["Fri","37"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":27,"value":["Sun","27"]}],"name":"Pear","type":"line"}],"title":{"text":"Pear"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Banana","data":[{"x":"Mon","y":77,"value":["Mon","77"]},{"x":"Tues","y":64,"value":["Tues","64"]},{"x":"Wed","y":28,"value":["Wed","28"]},{"x":"Thurs","y":51,"value":["Thurs","51"]},{"x":"Fri","y":98,"value":["Fri","98"]},{"x":"Sat","y":90,"value":["Sat","90"]},{"x":"Sun","y":40,"value":["Sun","40"]}],"name":"Banana","type":"line"}],"title":{"text":"Banana"}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ec_timeline2</span>(
  <span class="dt">ecs =</span> <span class="kw">list</span>(ec1,ec2,ec3), 
  <span class="dt">axisType =</span> <span class="st">&#39;category&#39;</span>, <span class="dt">autoPlay =</span> <span class="ot">TRUE</span>,
  <span class="dt">data =</span> <span class="kw">list</span>(
    <span class="st">&quot;Apple&quot;</span>,<span class="st">&quot;Pear&quot;</span>,
    <span class="kw">list</span>(<span class="dt">value =</span> <span class="st">&#39;Banana&#39;</span>, <span class="dt">symbol =</span> <span class="st">&#39;diamond&#39;</span>, <span class="dt">symbolSize =</span> <span class="dv">16</span>)
    )) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">bottom =</span> <span class="st">&#39;100&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">subtext =</span> <span class="st">&quot;data from sale&quot;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;axis&#39;</span>, <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>), <span class="dt">baseoption =</span> <span class="ot">TRUE</span>) </code></pre></div>
<div id="htmlwidget-523ffca483152187b2ef" style="width:672px;height:480px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-523ffca483152187b2ef">{"x":{"opt":{"baseOption":{"timeline":{"axisType":"category","autoPlay":true,"data":["Apple","Pear",{"value":"Banana","symbol":"diamond","symbolSize":16}]},"grid":{"show":true,"bottom":"100"},"title":{"subtext":"data from sale"},"tooltip":{"trigger":"axis"},"legend":{"data":["Apple","Pear","Banana"]}},"options":[{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Apple","data":[{"x":"Mon","y":99,"value":["Mon","99"]},{"x":"Tues","y":45,"value":["Tues","45"]},{"x":"Wed","y":57,"value":["Wed","57"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":68,"value":["Fri","68"]},{"x":"Sat","y":35,"value":["Sat","35"]},{"x":"Sun","y":47,"value":["Sun","47"]}],"name":"Apple","type":"line"}],"title":{"text":"Apple"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Pear","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":44,"value":["Tues","44"]},{"x":"Wed","y":45,"value":["Wed","45"]},{"x":"Thurs","y":75,"value":["Thurs","75"]},{"x":"Fri","y":37,"value":["Fri","37"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":27,"value":["Sun","27"]}],"name":"Pear","type":"line"}],"title":{"text":"Pear"}},{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"Banana","data":[{"x":"Mon","y":77,"value":["Mon","77"]},{"x":"Tues","y":64,"value":["Tues","64"]},{"x":"Wed","y":28,"value":["Wed","28"]},{"x":"Thurs","y":51,"value":["Thurs","51"]},{"x":"Fri","y":98,"value":["Fri","98"]},{"x":"Sat","y":90,"value":["Sat","90"]},{"x":"Sun","y":40,"value":["Sun","40"]}],"name":"Banana","type":"line"}],"title":{"text":"Banana"}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_brush" class="section level3">
<h3><span class="header-section-number">4.3.8</span> ec_brush</h3>
<blockquote>
<p>启动 brush 的按钮既可以在 toolbox 中指定（参见 toolbox.feature.brush.type），也可以在 brush 组件的配置中指定（参见 brush.toolbox）。</p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;水果销量&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">top =</span> <span class="st">&#39;middle&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;right&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_toolbox</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">orinent =</span> <span class="st">&#39;horizontal&#39;</span>,
    <span class="dt">feature =</span> <span class="kw">list</span>(
      <span class="dt">dataView =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">readOnly =</span> <span class="ot">TRUE</span>),
      <span class="dt">magicType =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>,
        <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&#39;line&#39;</span>, <span class="st">&#39;bar&#39;</span>, <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;tiled&#39;</span>)),
      <span class="dt">restore =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>),
      <span class="dt">brush =</span> <span class="kw">list</span>(),
      <span class="dt">saveAsImage =</span> <span class="kw">list</span>(
        <span class="dt">show =</span> <span class="ot">TRUE</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_brush</span>(<span class="dt">xAxisIndex =</span> <span class="st">&quot;all&quot;</span>, <span class="dt">yAxisIndex =</span> <span class="st">&quot;all&quot;</span>)</code></pre></div>
<div id="htmlwidget-bab1a5cf896d4c9b7032" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-bab1a5cf896d4c9b7032">{"x":{"opt":{"legend":{"show":true,"top":"middle","right":"right"},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":99,"value":["Mon","99"]},{"x":"Tues","y":45,"value":["Tues","45"]},{"x":"Wed","y":57,"value":["Wed","57"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":68,"value":["Fri","68"]},{"x":"Sat","y":35,"value":["Sat","35"]},{"x":"Sun","y":47,"value":["Sun","47"]}],"type":"line"},{"name":"Banana","data":[{"x":"Mon","y":77,"value":["Mon","77"]},{"x":"Tues","y":64,"value":["Tues","64"]},{"x":"Wed","y":28,"value":["Wed","28"]},{"x":"Thurs","y":51,"value":["Thurs","51"]},{"x":"Fri","y":98,"value":["Fri","98"]},{"x":"Sat","y":90,"value":["Sat","90"]},{"x":"Sun","y":40,"value":["Sun","40"]}],"type":"line"},{"name":"Pear","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":44,"value":["Tues","44"]},{"x":"Wed","y":45,"value":["Wed","45"]},{"x":"Thurs","y":75,"value":["Thurs","75"]},{"x":"Fri","y":37,"value":["Fri","37"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":27,"value":["Sun","27"]}],"type":"line"}],"title":{"text":"水果销量"},"toolbox":{"show":true,"orinent":"horizontal","feature":{"dataView":{"show":true,"readOnly":true},"magicType":{"show":true,"type":["line","bar","stack","tiled"]},"restore":{"show":true},"brush":[],"saveAsImage":{"show":true}}},"brush":{"xAxisIndex":"all","yAxisIndex":"all"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_mark" class="section level3">
<h3><span class="header-section-number">4.3.9</span> ec_mark</h3>
<div id="ec_markpoint" class="section level4">
<h4><span class="header-section-number">4.3.9.1</span> ec_markPoint</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_mark</span>(
    <span class="dt">markname =</span> <span class="st">&quot;markPoint&quot;</span>, 
    <span class="dt">data =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;max&quot;</span>, <span class="dt">name=</span><span class="st">&quot;最大值&quot;</span>),
      <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;min&quot;</span>, <span class="dt">name=</span><span class="st">&quot;最小值&quot;</span>)), <span class="dt">serie =</span> <span class="dv">1</span>)</code></pre></div>
<div id="htmlwidget-9bfaa80b9e9298b55e15" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-9bfaa80b9e9298b55e15">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20],"markPoint":{"data":[{"type":"max","name":"最大值"},{"type":"min","name":"最小值"}]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 下列效果相同
<span class="co"># echart(opt) %&gt;%</span>
<span class="co">#   ec_markPoint(</span>
<span class="co">#     data = list(</span>
<span class="co">#       list(type = &quot;max&quot;, name=&quot;最大值&quot;),</span>
<span class="co">#       list(type = &quot;min&quot;, name=&quot;最小值&quot;)), serie = 1)</span></code></pre></div>
</div>
<div id="ec_markline" class="section level4">
<h4><span class="header-section-number">4.3.9.2</span> ec_markLine</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_mark</span>(
    <span class="dt">markname =</span> <span class="st">&quot;markLine&quot;</span>, 
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;max&quot;</span>, <span class="dt">name =</span> <span class="st">&quot;最大值&quot;</span>)))</code></pre></div>
<div id="htmlwidget-89726d8a5d0fb35ed443" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-89726d8a5d0fb35ed443">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20],"markLine":{"data":[{"type":"max","name":"最大值"}]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 下列效果相同
<span class="co"># echart(opt) %&gt;%</span>
<span class="co">#   ec_markLine(</span>
<span class="co">#     data = list(list(type = &quot;max&quot;, name = &quot;最大值&quot;)))</span></code></pre></div>
</div>
<div id="ec_markarea" class="section level4">
<h4><span class="header-section-number">4.3.9.3</span> ec_markArea</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_mark</span>(
    <span class="dt">markname =</span> <span class="st">&quot;markArea&quot;</span>, <span class="dt">serie =</span> <span class="dv">1</span>,
    <span class="dt">label =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(<span class="dt">position =</span> <span class="st">&#39;right&#39;</span>)),
    <span class="dt">data =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;区域&quot;</span>, <span class="dt">yAxis =</span> <span class="dv">15</span>), <span class="kw">list</span>(<span class="dt">yAxis =</span> <span class="dv">25</span>))))</code></pre></div>
<div id="htmlwidget-33012be435b44ec80648" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-33012be435b44ec80648">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"星期","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"show":true,"type":"value"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20],"markArea":{"label":{"normal":{"position":"right"}},"data":[[{"name":"区域","yAxis":15},{"yAxis":25}]]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 下列效果相同
<span class="co"># echart(opt) %&gt;%</span>
<span class="co">#   ec_markArea(</span>
<span class="co">#     serie = 1,</span>
<span class="co">#     label = list(</span>
<span class="co">#       normal = list(position = &#39;right&#39;)),</span>
<span class="co">#     data = list(</span>
<span class="co">#       list(list(name = &quot;区域&quot;, yAxis = 15), list(yAxis = 25))))</span></code></pre></div>
</div>
</div>
</div>
<div id="ec_grid" class="section level2">
<h2><span class="header-section-number">4.4</span> 直角坐标系ec_grid</h2>
<p>直角坐标系内绘图网格，单个 grid 内最多可以放置上下两个 X 轴，左右两个 Y 轴。在单个 ECharts 实例中可以存在任意个 grid 组件。</p>
<p>支持直角坐标系的有：line、bar、scatter、effectScatter、boxplot、candlestick、pictorialBar、lines、heatmap。并且boxplot、candlestick、pictorialBar只支持直角坐标系。</p>
<ul>
<li>ec_xAxis，</li>
<li>ec_yAxis</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>(opt) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_grid</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>, <span class="dt">right =</span> <span class="st">&#39;100&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">name =</span> <span class="st">&#39;Week&#39;</span>, <span class="dt">nameLocation =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">nameGap =</span> <span class="dv">30</span>,
    <span class="dt">axisPointer =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>),
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&quot;周一&quot;</span>,<span class="st">&quot;周二&quot;</span>,<span class="st">&quot;周三&quot;</span>,<span class="st">&quot;周四&quot;</span>,<span class="st">&quot;周五&quot;</span>,<span class="st">&quot;周六&quot;</span>,<span class="st">&quot;周日&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">max =</span> <span class="st">&#39;dataMax&#39;</span>) </code></pre></div>
<div id="htmlwidget-55666ba85591d9f0517a" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-55666ba85591d9f0517a">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"show":true,"type":"category","name":"Week","data":["周一","周二","周三","周四","周五","周六","周日"],"nameLocation":"center","nameGap":30,"axisPointer":{"show":true}},"yAxis":{"show":true,"type":"value","max":"dataMax"},"series":[{"type":"line","name":"Apple","data":[12,5,20,36,10,10,20]}],"grid":{"show":true,"right":"100"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="-ec_polar" class="section level2">
<h2><span class="header-section-number">4.5</span> 极坐标系: ec_polar</h2>
<p>支持极坐标系的有：line、bar、scatter、effectScatter。</p>
<ul>
<li>极坐标系的角度轴：ec_angleAxis，类似于ec_xAxis</li>
<li>极坐标系的径向轴：ec_radiusAxis，类似于ec_yAxis</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_polar</span>(
    <span class="dt">center =</span> <span class="kw">c</span>(<span class="st">&#39;50%&#39;</span>, <span class="st">&#39;50%&#39;</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_angleAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>),
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>
      )),
    <span class="dt">axisLine =</span><span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_radiusAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">stack =</span> <span class="st">&#39;水果&#39;</span>,
    <span class="dt">coordinateSystem =</span> <span class="st">&#39;polar&#39;</span>,
    <span class="dt">data =</span> dat, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-c03e6bda60b46001dc1f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-c03e6bda60b46001dc1f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"polar":{"center":["50%","50%"]},"angleAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},"radiusAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"name":"Mon","value":99},{"name":"Tues","value":45},{"name":"Wed","value":57},{"name":"Thurs","value":89},{"name":"Fri","value":68},{"name":"Sat","value":35},{"name":"Sun","value":47}],"type":"scatter","stack":"水果","coordinateSystem":"polar"},{"name":"Banana","data":[{"name":"Mon","value":77},{"name":"Tues","value":64},{"name":"Wed","value":28},{"name":"Thurs","value":51},{"name":"Fri","value":98},{"name":"Sat","value":90},{"name":"Sun","value":40}],"type":"scatter","stack":"水果","coordinateSystem":"polar"},{"name":"Pear","data":[{"name":"Mon","value":55},{"name":"Tues","value":44},{"name":"Wed","value":45},{"name":"Thurs","value":75},{"name":"Fri","value":37},{"name":"Sat","value":80},{"name":"Sun","value":27}],"type":"scatter","stack":"水果","coordinateSystem":"polar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_radar" class="section level2">
<h2><span class="header-section-number">4.6</span> 雷达坐标系ec_radar</h2>
<p>仅用于series.type为radar</p>
<p>series.tooltip 仅在 tooltip.trigger 为 ‘item’ 时有效。</p>
<p>series-radar.data.value项数组是具体的数据，每个值跟radar.indicator 一一对应，所以需要提前配置radar.indicator。雷达图的数据是多变量（维度）的，如下示例：</p>
<pre><code>data : [
  {
    value : [4300, 10000, 28000, 35000, 50000, 19000],
    name : &#39;预算分配（Allocated Budget）&#39;
  },
  {
    value : [5000, 14000, 28000, 31000, 42000, 21000],
    name : &#39;实际开销（Actual Spending）&#39;
  }
]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_radar</span>(
    <span class="dt">indicator =</span> <span class="kw">list</span>(
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Mon&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Tues&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Wed&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Thurs&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Fri&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sat&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>),
      <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&#39;Sun&#39;</span>, <span class="dt">max =</span> <span class="dv">100</span>)
    )
  ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;radar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) </code></pre></div>
<div id="htmlwidget-293cf0d4e76da3e5a424" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-293cf0d4e76da3e5a424">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"radar":{"indicator":[{"name":"Mon","max":100},{"name":"Tues","max":100},{"name":"Wed","max":100},{"name":"Thurs","max":100},{"name":"Fri","max":100},{"name":"Sat","max":100},{"name":"Sun","max":100}]},"series":[{"name":"Apple","data":[{"name":"Apple","value":[[99],[45],[57],[89],[68],[35],[47]]}],"type":"radar"},{"name":"Banana","data":[{"name":"Banana","value":[[77],[64],[28],[51],[98],[90],[40]]}],"type":"radar"},{"name":"Pear","data":[{"name":"Pear","value":[[55],[44],[45],[75],[37],[80],[27]]}],"type":"radar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="-ec_parallel" class="section level2">
<h2><span class="header-section-number">4.7</span> 平行坐标系: ec_parallel</h2>
<p>仅用于series.type为parallel，平行坐标系中的坐标轴为ec_parallelAxis。</p>
<p>平行坐标系数据中，每一行是一个『数据项』，每一列属于一个『维度』，如下示例：</p>
<pre><code>data: [
  [1,  55,  9,   56,  0.46,  18,  6,  &#39;良&#39;],
  [2,  25,  11,  21,  0.65,  34,  9,  &#39;优&#39;],
  [3,  56,  7,   63,  0.3,   14,  5,  &#39;良&#39;],
  [4,  33,  7,   29,  0.33,  16,  6,  &#39;优&#39;],
  { // 数据项也可以是 Object，从而里面能含有对线条的特殊设置。
      value: [5,  42,  24,  44,  0.76,  40,  16, &#39;优&#39;]
      lineStyle: {...},
  }
  ...
]</code></pre>
<p>radar和parallel的数据格式的区别只是，parallel支持字符类型，radar只支持数值。另外parallel.data.name不是系列名称，所以一般不填写，而radar.data.name是系列名称，一般要填写。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>, <span class="st">&#39;Banana&#39;</span>)) <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">  </span><span class="kw">ec_parallel</span>(
    <span class="dt">left =</span> <span class="st">&#39;5%&#39;</span>, <span class="dt">right =</span> <span class="st">&#39;13%&#39;</span>, <span class="dt">bottom =</span> <span class="st">&#39;10%&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;20%&#39;</span>,
    <span class="dt">parallelAxisDefault =</span> <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&#39;value&#39;</span>, <span class="dt">nameLocation =</span> <span class="st">&#39;end&#39;</span>, <span class="dt">nameGap =</span> <span class="dv">20</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_parallelAxis</span>(
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">0</span>, <span class="dt">name =</span> <span class="st">&#39;Mon&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">1</span>, <span class="dt">name =</span> <span class="st">&#39;Tues&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">2</span>, <span class="dt">name =</span> <span class="st">&#39;Wed&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">3</span>, <span class="dt">name =</span> <span class="st">&#39;Thurs&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">4</span>, <span class="dt">name =</span> <span class="st">&#39;Fri&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">5</span>, <span class="dt">name =</span> <span class="st">&#39;Sat&#39;</span>),
    <span class="kw">list</span>(<span class="dt">dim =</span> <span class="dv">6</span>, <span class="dt">name =</span> <span class="st">&#39;Sun&#39;</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, <span class="dt">formatter =</span> <span class="st">&#39;{b}: {c}&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;parallel&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-86c9c6d2dd5d262a511a" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-86c9c6d2dd5d262a511a">{"x":{"opt":{"legend":{"show":true,"data":["Apple","Pear","Banana"]},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"{b}: {c}"},"parallel":{"left":"5%","right":"13%","bottom":"10%","top":"20%","parallelAxisDefault":{"type":"value","nameLocation":"end","nameGap":20}},"parallelAxis":[{"dim":0,"name":"Mon"},{"dim":1,"name":"Tues"},{"dim":2,"name":"Wed"},{"dim":3,"name":"Thurs"},{"dim":4,"name":"Fri"},{"dim":5,"name":"Sat"},{"dim":6,"name":"Sun"}],"series":[{"name":"Apple","data":[{"name":"Apple","value":[[99],[45],[57],[89],[68],[35],[47]]}],"type":"parallel"},{"name":"Banana","data":[{"name":"Banana","value":[[77],[64],[28],[51],[98],[90],[40]]}],"type":"parallel"},{"name":"Pear","data":[{"name":"Pear","value":[[55],[44],[45],[75],[37],[80],[27]]}],"type":"parallel"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="-ec_singleaxis" class="section level2">
<h2><span class="header-section-number">4.8</span> 单轴坐标系: ec_singleAxis</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">textBaseline =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">top =</span> <span class="st">&quot;50%&quot;</span>,
    <span class="dt">text =</span> <span class="st">&quot;Apple&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_singleAxis</span>(
    <span class="dt">left =</span> <span class="dv">80</span>, <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">top =</span> <span class="dv">60</span>, <span class="dt">bottom =</span> <span class="dv">60</span>,
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>)),
    <span class="dt">axisLine =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price))</code></pre></div>
<div id="htmlwidget-bc083117320f6c42dc26" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-bc083117320f6c42dc26">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"title":{"textBaseline":"middle","top":"50%","text":"Apple"},"singleAxis":{"left":80,"type":"category","boundaryGap":false,"top":60,"bottom":60,"splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},"series":[{"group":"group","data":[{"x":"Mon","y":99,"symbolSize":11,"value":["Mon","99"]},{"x":"Tues","y":45,"symbolSize":12,"value":["Tues","45"]},{"x":"Wed","y":57,"symbolSize":18,"value":["Wed","57"]},{"x":"Thurs","y":89,"symbolSize":19,"value":["Thurs","89"]},{"x":"Fri","y":68,"symbolSize":13,"value":["Fri","68"]},{"x":"Sat","y":35,"symbolSize":17,"value":["Sat","35"]},{"x":"Sun","y":47,"symbolSize":18,"value":["Sun","47"]}],"type":"scatter","coordinateSystem":"singleAxis"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">opt_title &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">2</span>, <span class="cf">function</span>(x){
  <span class="kw">list</span>(
    <span class="dt">id =</span> x,
    <span class="dt">textBaseline =</span> <span class="st">&#39;middle&#39;</span>,
    <span class="dt">top =</span> <span class="kw">paste0</span>((x <span class="op">+</span><span class="st"> </span><span class="fl">0.5</span>) <span class="op">*</span><span class="st"> </span><span class="dv">100</span> <span class="op">/</span><span class="st"> </span><span class="dv">3</span>, <span class="st">&#39;%&#39;</span>),
    <span class="dt">text =</span> <span class="kw">c</span>(<span class="st">&quot;Apple&quot;</span>,<span class="st">&quot;Pear&quot;</span>,<span class="st">&quot;Banana&quot;</span>)[x <span class="op">+</span><span class="st"> </span><span class="dv">1</span>]
  )
})
opt_singleAxis &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">2</span>, <span class="cf">function</span>(x){
  <span class="kw">list</span>(
    <span class="dt">id =</span> x,
    <span class="dt">left =</span> <span class="dv">80</span>, <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>),
    <span class="dt">boundaryGap =</span> <span class="ot">FALSE</span>,
    <span class="dt">top =</span> <span class="kw">paste0</span>(x <span class="op">*</span><span class="st"> </span><span class="dv">100</span><span class="op">/</span><span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">5</span>, <span class="st">&#39;%&#39;</span>),
    <span class="dt">height =</span> <span class="kw">paste0</span>(<span class="dv">100</span><span class="op">/</span><span class="dv">3</span> <span class="op">-</span><span class="st"> </span><span class="dv">10</span>, <span class="st">&#39;%&#39;</span>),
    <span class="dt">splitLine =</span> <span class="kw">list</span>(
      <span class="dt">show =</span> <span class="ot">TRUE</span>,
      <span class="dt">lineStyle =</span> <span class="kw">list</span>(
        <span class="dt">color =</span> <span class="st">&#39;#999&#39;</span>, <span class="dt">type =</span> <span class="st">&#39;dashed&#39;</span>
      )),
    <span class="dt">axisLine =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)
  )
})

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(opt_title) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_singleAxis</span>(opt_singleAxis) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Apple&#39;</span>), 
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">singleAxisIndex =</span> <span class="dv">0</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Pear&#39;</span>), 
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">singleAxisIndex =</span> <span class="dv">1</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Banana&#39;</span>), 
    <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;singleAxis&#39;</span>,
    <span class="dt">singleAxisIndex =</span> <span class="dv">2</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">size =</span> price))</code></pre></div>
<div id="htmlwidget-91bc5878ab6d8999fa92" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-91bc5878ab6d8999fa92">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"title":[{"id":0,"textBaseline":"middle","top":"16.6666666666667%","text":"Apple"},{"id":1,"textBaseline":"middle","top":"50%","text":"Pear"},{"id":2,"textBaseline":"middle","top":"83.3333333333333%","text":"Banana"}],"singleAxis":[{"id":0,"left":80,"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"top":"5%","height":"23.3333333333333%","splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},{"id":1,"left":80,"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"top":"38.3333333333333%","height":"23.3333333333333%","splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}},{"id":2,"left":80,"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"],"boundaryGap":false,"top":"71.6666666666667%","height":"23.3333333333333%","splitLine":{"show":true,"lineStyle":{"color":"#999","type":"dashed"}},"axisLine":{"show":false}}],"series":[{"group":"group","data":[{"x":"Mon","y":99,"symbolSize":11,"value":["Mon","99"]},{"x":"Tues","y":45,"symbolSize":12,"value":["Tues","45"]},{"x":"Wed","y":57,"symbolSize":18,"value":["Wed","57"]},{"x":"Thurs","y":89,"symbolSize":19,"value":["Thurs","89"]},{"x":"Fri","y":68,"symbolSize":13,"value":["Fri","68"]},{"x":"Sat","y":35,"symbolSize":17,"value":["Sat","35"]},{"x":"Sun","y":47,"symbolSize":18,"value":["Sun","47"]}],"type":"scatter","coordinateSystem":"singleAxis","singleAxisIndex":0},{"group":"group","data":[{"x":"Mon","y":55,"symbolSize":15,"value":["Mon","55"]},{"x":"Tues","y":44,"symbolSize":11,"value":["Tues","44"]},{"x":"Wed","y":45,"symbolSize":15,"value":["Wed","45"]},{"x":"Thurs","y":75,"symbolSize":12,"value":["Thurs","75"]},{"x":"Fri","y":37,"symbolSize":17,"value":["Fri","37"]},{"x":"Sat","y":80,"symbolSize":20,"value":["Sat","80"]},{"x":"Sun","y":27,"symbolSize":19,"value":["Sun","27"]}],"type":"scatter","coordinateSystem":"singleAxis","singleAxisIndex":1},{"group":"group","data":[{"x":"Mon","y":77,"symbolSize":16,"value":["Mon","77"]},{"x":"Tues","y":64,"symbolSize":20,"value":["Tues","64"]},{"x":"Wed","y":28,"symbolSize":16,"value":["Wed","28"]},{"x":"Thurs","y":51,"symbolSize":15,"value":["Thurs","51"]},{"x":"Fri","y":98,"symbolSize":16,"value":["Fri","98"]},{"x":"Sat","y":90,"symbolSize":17,"value":["Sat","90"]},{"x":"Sun","y":40,"symbolSize":20,"value":["Sun","40"]}],"type":"scatter","coordinateSystem":"singleAxis","singleAxisIndex":2}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="-ec_calendar" class="section level2">
<h2><span class="header-section-number">4.9</span> 日历坐标系: ec_calendar</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(<span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">1000</span>, <span class="dt">type =</span> <span class="st">&#39;piecewise&#39;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">top =</span> <span class="dv">30</span>, <span class="dt">orient =</span> <span class="st">&#39;horizontal&#39;</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_calendar</span>(
    <span class="dt">top =</span> <span class="dv">120</span>, <span class="dt">left =</span> <span class="dv">30</span>, <span class="dt">right =</span> <span class="dv">30</span>, 
    <span class="dt">cellSize =</span> <span class="kw">c</span>(<span class="st">&#39;auto&#39;</span>, <span class="dv">20</span>),
    <span class="dt">range =</span> <span class="kw">c</span>(<span class="st">&#39;2017&#39;</span>)
    <span class="co"># range = c(&#39;2017-01-01&#39;, &#39;2017-06-10&#39;)</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;heatmap&#39;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;calendar&#39;</span>,
    <span class="dt">data =</span> dat_date, <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value))</code></pre></div>
<div id="htmlwidget-8d4b6e4719cb7e267270" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-8d4b6e4719cb7e267270">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"}},"visualMap":{"min":0,"max":1000,"type":"piecewise","left":"center","top":30,"orient":"horizontal"},"calendar":{"top":120,"left":30,"right":30,"cellSize":["auto","20"],"range":"2017"},"series":[{"group":"group","data":[{"x":"2017-01-01","y":33,"value":["2017-01-01","33"]},{"x":"2017-01-02","y":976,"value":["2017-01-02","976"]},{"x":"2017-01-03","y":943,"value":["2017-01-03","943"]},{"x":"2017-01-04","y":985,"value":["2017-01-04","985"]},{"x":"2017-01-05","y":164,"value":["2017-01-05","164"]},{"x":"2017-01-06","y":136,"value":["2017-01-06","136"]},{"x":"2017-01-07","y":846,"value":["2017-01-07","846"]},{"x":"2017-01-08","y":945,"value":["2017-01-08","945"]},{"x":"2017-01-09","y":244,"value":["2017-01-09","244"]},{"x":"2017-01-10","y":608,"value":["2017-01-10","608"]},{"x":"2017-01-11","y":362,"value":["2017-01-11","362"]},{"x":"2017-01-12","y":45,"value":["2017-01-12","45"]},{"x":"2017-01-13","y":715,"value":["2017-01-13","715"]},{"x":"2017-01-14","y":642,"value":["2017-01-14","642"]},{"x":"2017-01-15","y":403,"value":["2017-01-15","403"]},{"x":"2017-01-16","y":725,"value":["2017-01-16","725"]},{"x":"2017-01-17","y":607,"value":["2017-01-17","607"]},{"x":"2017-01-18","y":797,"value":["2017-01-18","797"]},{"x":"2017-01-19","y":337,"value":["2017-01-19","337"]},{"x":"2017-01-20","y":866,"value":["2017-01-20","866"]},{"x":"2017-01-21","y":861,"value":["2017-01-21","861"]},{"x":"2017-01-22","y":134,"value":["2017-01-22","134"]},{"x":"2017-01-23","y":375,"value":["2017-01-23","375"]},{"x":"2017-01-24","y":792,"value":["2017-01-24","792"]},{"x":"2017-01-25","y":272,"value":["2017-01-25","272"]},{"x":"2017-01-26","y":145,"value":["2017-01-26","145"]},{"x":"2017-01-27","y":833,"value":["2017-01-27","833"]},{"x":"2017-01-28","y":215,"value":["2017-01-28","215"]},{"x":"2017-01-29","y":179,"value":["2017-01-29","179"]},{"x":"2017-01-30","y":214,"value":["2017-01-30","214"]},{"x":"2017-01-31","y":701,"value":["2017-01-31","701"]},{"x":"2017-02-01","y":935,"value":["2017-02-01","935"]},{"x":"2017-02-02","y":34,"value":["2017-02-02","34"]},{"x":"2017-02-03","y":559,"value":["2017-02-03","559"]},{"x":"2017-02-04","y":850,"value":["2017-02-04","850"]},{"x":"2017-02-05","y":867,"value":["2017-02-05","867"]},{"x":"2017-02-06","y":204,"value":["2017-02-06","204"]},{"x":"2017-02-07","y":668,"value":["2017-02-07","668"]},{"x":"2017-02-08","y":919,"value":["2017-02-08","919"]},{"x":"2017-02-09","y":272,"value":["2017-02-09","272"]},{"x":"2017-02-10","y":246,"value":["2017-02-10","246"]},{"x":"2017-02-11","y":545,"value":["2017-02-11","545"]},{"x":"2017-02-12","y":9,"value":["2017-02-12","9"]},{"x":"2017-02-13","y":704,"value":["2017-02-13","704"]},{"x":"2017-02-14","y":256,"value":["2017-02-14","256"]},{"x":"2017-02-15","y":108,"value":["2017-02-15","108"]},{"x":"2017-02-16","y":841,"value":["2017-02-16","841"]},{"x":"2017-02-17","y":357,"value":["2017-02-17","357"]},{"x":"2017-02-18","y":139,"value":["2017-02-18","139"]},{"x":"2017-02-19","y":188,"value":["2017-02-19","188"]},{"x":"2017-02-20","y":429,"value":["2017-02-20","429"]},{"x":"2017-02-21","y":977,"value":["2017-02-21","977"]},{"x":"2017-02-22","y":162,"value":["2017-02-22","162"]},{"x":"2017-02-23","y":117,"value":["2017-02-23","117"]},{"x":"2017-02-24","y":591,"value":["2017-02-24","591"]},{"x":"2017-02-25","y":564,"value":["2017-02-25","564"]},{"x":"2017-02-26","y":298,"value":["2017-02-26","298"]},{"x":"2017-02-27","y":505,"value":["2017-02-27","505"]},{"x":"2017-02-28","y":267,"value":["2017-02-28","267"]},{"x":"2017-03-01","y":596,"value":["2017-03-01","596"]},{"x":"2017-03-02","y":364,"value":["2017-03-02","364"]},{"x":"2017-03-03","y":951,"value":["2017-03-03","951"]},{"x":"2017-03-04","y":798,"value":["2017-03-04","798"]},{"x":"2017-03-05","y":586,"value":["2017-03-05","586"]},{"x":"2017-03-06","y":11,"value":["2017-03-06","11"]},{"x":"2017-03-07","y":135,"value":["2017-03-07","135"]},{"x":"2017-03-08","y":571,"value":["2017-03-08","571"]},{"x":"2017-03-09","y":167,"value":["2017-03-09","167"]},{"x":"2017-03-10","y":474,"value":["2017-03-10","474"]},{"x":"2017-03-11","y":893,"value":["2017-03-11","893"]},{"x":"2017-03-12","y":177,"value":["2017-03-12","177"]},{"x":"2017-03-13","y":40,"value":["2017-03-13","40"]},{"x":"2017-03-14","y":205,"value":["2017-03-14","205"]},{"x":"2017-03-15","y":413,"value":["2017-03-15","413"]},{"x":"2017-03-16","y":664,"value":["2017-03-16","664"]},{"x":"2017-03-17","y":46,"value":["2017-03-17","46"]},{"x":"2017-03-18","y":771,"value":["2017-03-18","771"]},{"x":"2017-03-19","y":791,"value":["2017-03-19","791"]},{"x":"2017-03-20","y":491,"value":["2017-03-20","491"]},{"x":"2017-03-21","y":815,"value":["2017-03-21","815"]},{"x":"2017-03-22","y":539,"value":["2017-03-22","539"]},{"x":"2017-03-23","y":157,"value":["2017-03-23","157"]},{"x":"2017-03-24","y":69,"value":["2017-03-24","69"]},{"x":"2017-03-25","y":703,"value":["2017-03-25","703"]},{"x":"2017-03-26","y":837,"value":["2017-03-26","837"]},{"x":"2017-03-27","y":788,"value":["2017-03-27","788"]},{"x":"2017-03-28","y":113,"value":["2017-03-28","113"]},{"x":"2017-03-29","y":161,"value":["2017-03-29","161"]},{"x":"2017-03-30","y":15,"value":["2017-03-30","15"]},{"x":"2017-03-31","y":547,"value":["2017-03-31","547"]},{"x":"2017-04-01","y":447,"value":["2017-04-01","447"]},{"x":"2017-04-02","y":10,"value":["2017-04-02","10"]},{"x":"2017-04-03","y":969,"value":["2017-04-03","969"]},{"x":"2017-04-04","y":114,"value":["2017-04-04","114"]},{"x":"2017-04-05","y":731,"value":["2017-04-05","731"]},{"x":"2017-04-06","y":892,"value":["2017-04-06","892"]},{"x":"2017-04-07","y":230,"value":["2017-04-07","230"]},{"x":"2017-04-08","y":436,"value":["2017-04-08","436"]},{"x":"2017-04-09","y":270,"value":["2017-04-09","270"]},{"x":"2017-04-10","y":677,"value":["2017-04-10","677"]},{"x":"2017-04-11","y":786,"value":["2017-04-11","786"]},{"x":"2017-04-12","y":774,"value":["2017-04-12","774"]},{"x":"2017-04-13","y":609,"value":["2017-04-13","609"]},{"x":"2017-04-14","y":923,"value":["2017-04-14","923"]},{"x":"2017-04-15","y":149,"value":["2017-04-15","149"]},{"x":"2017-04-16","y":247,"value":["2017-04-16","247"]},{"x":"2017-04-17","y":408,"value":["2017-04-17","408"]},{"x":"2017-04-18","y":504,"value":["2017-04-18","504"]},{"x":"2017-04-19","y":379,"value":["2017-04-19","379"]},{"x":"2017-04-20","y":764,"value":["2017-04-20","764"]},{"x":"2017-04-21","y":989,"value":["2017-04-21","989"]},{"x":"2017-04-22","y":737,"value":["2017-04-22","737"]},{"x":"2017-04-23","y":734,"value":["2017-04-23","734"]},{"x":"2017-04-24","y":195,"value":["2017-04-24","195"]},{"x":"2017-04-25","y":189,"value":["2017-04-25","189"]},{"x":"2017-04-26","y":798,"value":["2017-04-26","798"]},{"x":"2017-04-27","y":343,"value":["2017-04-27","343"]},{"x":"2017-04-28","y":634,"value":["2017-04-28","634"]},{"x":"2017-04-29","y":321,"value":["2017-04-29","321"]},{"x":"2017-04-30","y":249,"value":["2017-04-30","249"]},{"x":"2017-05-01","y":987,"value":["2017-05-01","987"]},{"x":"2017-05-02","y":644,"value":["2017-05-02","644"]},{"x":"2017-05-03","y":515,"value":["2017-05-03","515"]},{"x":"2017-05-04","y":83,"value":["2017-05-04","83"]},{"x":"2017-05-05","y":130,"value":["2017-05-05","130"]},{"x":"2017-05-06","y":530,"value":["2017-05-06","530"]},{"x":"2017-05-07","y":697,"value":["2017-05-07","697"]},{"x":"2017-05-08","y":934,"value":["2017-05-08","934"]},{"x":"2017-05-09","y":728,"value":["2017-05-09","728"]},{"x":"2017-05-10","y":692,"value":["2017-05-10","692"]},{"x":"2017-05-11","y":645,"value":["2017-05-11","645"]},{"x":"2017-05-12","y":811,"value":["2017-05-12","811"]},{"x":"2017-05-13","y":536,"value":["2017-05-13","536"]},{"x":"2017-05-14","y":426,"value":["2017-05-14","426"]},{"x":"2017-05-15","y":300,"value":["2017-05-15","300"]},{"x":"2017-05-16","y":608,"value":["2017-05-16","608"]},{"x":"2017-05-17","y":441,"value":["2017-05-17","441"]},{"x":"2017-05-18","y":198,"value":["2017-05-18","198"]},{"x":"2017-05-19","y":606,"value":["2017-05-19","606"]},{"x":"2017-05-20","y":977,"value":["2017-05-20","977"]},{"x":"2017-05-21","y":660,"value":["2017-05-21","660"]},{"x":"2017-05-22","y":45,"value":["2017-05-22","45"]},{"x":"2017-05-23","y":620,"value":["2017-05-23","620"]},{"x":"2017-05-24","y":574,"value":["2017-05-24","574"]},{"x":"2017-05-25","y":596,"value":["2017-05-25","596"]},{"x":"2017-05-26","y":708,"value":["2017-05-26","708"]},{"x":"2017-05-27","y":370,"value":["2017-05-27","370"]},{"x":"2017-05-28","y":84,"value":["2017-05-28","84"]},{"x":"2017-05-29","y":538,"value":["2017-05-29","538"]},{"x":"2017-05-30","y":448,"value":["2017-05-30","448"]},{"x":"2017-05-31","y":428,"value":["2017-05-31","428"]},{"x":"2017-06-01","y":543,"value":["2017-06-01","543"]},{"x":"2017-06-02","y":365,"value":["2017-06-02","365"]},{"x":"2017-06-03","y":60,"value":["2017-06-03","60"]},{"x":"2017-06-04","y":701,"value":["2017-06-04","701"]},{"x":"2017-06-05","y":368,"value":["2017-06-05","368"]},{"x":"2017-06-06","y":829,"value":["2017-06-06","829"]},{"x":"2017-06-07","y":264,"value":["2017-06-07","264"]},{"x":"2017-06-08","y":201,"value":["2017-06-08","201"]},{"x":"2017-06-09","y":5,"value":["2017-06-09","5"]},{"x":"2017-06-10","y":170,"value":["2017-06-10","170"]},{"x":"2017-06-11","y":893,"value":["2017-06-11","893"]},{"x":"2017-06-12","y":209,"value":["2017-06-12","209"]},{"x":"2017-06-13","y":705,"value":["2017-06-13","705"]},{"x":"2017-06-14","y":308,"value":["2017-06-14","308"]},{"x":"2017-06-15","y":783,"value":["2017-06-15","783"]},{"x":"2017-06-16","y":24,"value":["2017-06-16","24"]},{"x":"2017-06-17","y":284,"value":["2017-06-17","284"]},{"x":"2017-06-18","y":332,"value":["2017-06-18","332"]},{"x":"2017-06-19","y":400,"value":["2017-06-19","400"]},{"x":"2017-06-20","y":419,"value":["2017-06-20","419"]},{"x":"2017-06-21","y":660,"value":["2017-06-21","660"]},{"x":"2017-06-22","y":333,"value":["2017-06-22","333"]},{"x":"2017-06-23","y":570,"value":["2017-06-23","570"]},{"x":"2017-06-24","y":849,"value":["2017-06-24","849"]},{"x":"2017-06-25","y":941,"value":["2017-06-25","941"]},{"x":"2017-06-26","y":319,"value":["2017-06-26","319"]},{"x":"2017-06-27","y":480,"value":["2017-06-27","480"]},{"x":"2017-06-28","y":753,"value":["2017-06-28","753"]},{"x":"2017-06-29","y":243,"value":["2017-06-29","243"]},{"x":"2017-06-30","y":420,"value":["2017-06-30","420"]},{"x":"2017-07-01","y":855,"value":["2017-07-01","855"]},{"x":"2017-07-02","y":377,"value":["2017-07-02","377"]},{"x":"2017-07-03","y":706,"value":["2017-07-03","706"]},{"x":"2017-07-04","y":378,"value":["2017-07-04","378"]},{"x":"2017-07-05","y":7,"value":["2017-07-05","7"]},{"x":"2017-07-06","y":860,"value":["2017-07-06","860"]},{"x":"2017-07-07","y":124,"value":["2017-07-07","124"]},{"x":"2017-07-08","y":163,"value":["2017-07-08","163"]},{"x":"2017-07-09","y":238,"value":["2017-07-09","238"]},{"x":"2017-07-10","y":939,"value":["2017-07-10","939"]},{"x":"2017-07-11","y":830,"value":["2017-07-11","830"]},{"x":"2017-07-12","y":906,"value":["2017-07-12","906"]},{"x":"2017-07-13","y":428,"value":["2017-07-13","428"]},{"x":"2017-07-14","y":637,"value":["2017-07-14","637"]},{"x":"2017-07-15","y":897,"value":["2017-07-15","897"]},{"x":"2017-07-16","y":641,"value":["2017-07-16","641"]},{"x":"2017-07-17","y":141,"value":["2017-07-17","141"]},{"x":"2017-07-18","y":525,"value":["2017-07-18","525"]},{"x":"2017-07-19","y":789,"value":["2017-07-19","789"]},{"x":"2017-07-20","y":777,"value":["2017-07-20","777"]},{"x":"2017-07-21","y":822,"value":["2017-07-21","822"]},{"x":"2017-07-22","y":864,"value":["2017-07-22","864"]},{"x":"2017-07-23","y":366,"value":["2017-07-23","366"]},{"x":"2017-07-24","y":151,"value":["2017-07-24","151"]},{"x":"2017-07-25","y":165,"value":["2017-07-25","165"]},{"x":"2017-07-26","y":317,"value":["2017-07-26","317"]},{"x":"2017-07-27","y":104,"value":["2017-07-27","104"]},{"x":"2017-07-28","y":735,"value":["2017-07-28","735"]},{"x":"2017-07-29","y":35,"value":["2017-07-29","35"]},{"x":"2017-07-30","y":194,"value":["2017-07-30","194"]},{"x":"2017-07-31","y":90,"value":["2017-07-31","90"]},{"x":"2017-08-01","y":196,"value":["2017-08-01","196"]},{"x":"2017-08-02","y":62,"value":["2017-08-02","62"]},{"x":"2017-08-03","y":422,"value":["2017-08-03","422"]},{"x":"2017-08-04","y":262,"value":["2017-08-04","262"]},{"x":"2017-08-05","y":860,"value":["2017-08-05","860"]},{"x":"2017-08-06","y":150,"value":["2017-08-06","150"]},{"x":"2017-08-07","y":569,"value":["2017-08-07","569"]},{"x":"2017-08-08","y":734,"value":["2017-08-08","734"]},{"x":"2017-08-09","y":346,"value":["2017-08-09","346"]},{"x":"2017-08-10","y":472,"value":["2017-08-10","472"]},{"x":"2017-08-11","y":671,"value":["2017-08-11","671"]},{"x":"2017-08-12","y":429,"value":["2017-08-12","429"]},{"x":"2017-08-13","y":539,"value":["2017-08-13","539"]},{"x":"2017-08-14","y":598,"value":["2017-08-14","598"]},{"x":"2017-08-15","y":979,"value":["2017-08-15","979"]},{"x":"2017-08-16","y":573,"value":["2017-08-16","573"]},{"x":"2017-08-17","y":553,"value":["2017-08-17","553"]},{"x":"2017-08-18","y":295,"value":["2017-08-18","295"]},{"x":"2017-08-19","y":432,"value":["2017-08-19","432"]},{"x":"2017-08-20","y":279,"value":["2017-08-20","279"]},{"x":"2017-08-21","y":98,"value":["2017-08-21","98"]},{"x":"2017-08-22","y":796,"value":["2017-08-22","796"]},{"x":"2017-08-23","y":493,"value":["2017-08-23","493"]},{"x":"2017-08-24","y":149,"value":["2017-08-24","149"]},{"x":"2017-08-25","y":446,"value":["2017-08-25","446"]},{"x":"2017-08-26","y":440,"value":["2017-08-26","440"]},{"x":"2017-08-27","y":705,"value":["2017-08-27","705"]},{"x":"2017-08-28","y":333,"value":["2017-08-28","333"]},{"x":"2017-08-29","y":646,"value":["2017-08-29","646"]},{"x":"2017-08-30","y":331,"value":["2017-08-30","331"]},{"x":"2017-08-31","y":278,"value":["2017-08-31","278"]},{"x":"2017-09-01","y":438,"value":["2017-09-01","438"]},{"x":"2017-09-02","y":28,"value":["2017-09-02","28"]},{"x":"2017-09-03","y":199,"value":["2017-09-03","199"]},{"x":"2017-09-04","y":875,"value":["2017-09-04","875"]},{"x":"2017-09-05","y":191,"value":["2017-09-05","191"]},{"x":"2017-09-06","y":37,"value":["2017-09-06","37"]},{"x":"2017-09-07","y":960,"value":["2017-09-07","960"]},{"x":"2017-09-08","y":102,"value":["2017-09-08","102"]},{"x":"2017-09-09","y":97,"value":["2017-09-09","97"]},{"x":"2017-09-10","y":536,"value":["2017-09-10","536"]},{"x":"2017-09-11","y":140,"value":["2017-09-11","140"]},{"x":"2017-09-12","y":59,"value":["2017-09-12","59"]},{"x":"2017-09-13","y":348,"value":["2017-09-13","348"]},{"x":"2017-09-14","y":881,"value":["2017-09-14","881"]},{"x":"2017-09-15","y":410,"value":["2017-09-15","410"]},{"x":"2017-09-16","y":49,"value":["2017-09-16","49"]},{"x":"2017-09-17","y":199,"value":["2017-09-17","199"]},{"x":"2017-09-18","y":159,"value":["2017-09-18","159"]},{"x":"2017-09-19","y":704,"value":["2017-09-19","704"]},{"x":"2017-09-20","y":925,"value":["2017-09-20","925"]},{"x":"2017-09-21","y":970,"value":["2017-09-21","970"]},{"x":"2017-09-22","y":3,"value":["2017-09-22","3"]},{"x":"2017-09-23","y":43,"value":["2017-09-23","43"]},{"x":"2017-09-24","y":196,"value":["2017-09-24","196"]},{"x":"2017-09-25","y":498,"value":["2017-09-25","498"]},{"x":"2017-09-26","y":978,"value":["2017-09-26","978"]},{"x":"2017-09-27","y":222,"value":["2017-09-27","222"]},{"x":"2017-09-28","y":604,"value":["2017-09-28","604"]},{"x":"2017-09-29","y":841,"value":["2017-09-29","841"]},{"x":"2017-09-30","y":703,"value":["2017-09-30","703"]},{"x":"2017-10-01","y":752,"value":["2017-10-01","752"]},{"x":"2017-10-02","y":401,"value":["2017-10-02","401"]},{"x":"2017-10-03","y":203,"value":["2017-10-03","203"]},{"x":"2017-10-04","y":655,"value":["2017-10-04","655"]},{"x":"2017-10-05","y":153,"value":["2017-10-05","153"]},{"x":"2017-10-06","y":823,"value":["2017-10-06","823"]},{"x":"2017-10-07","y":340,"value":["2017-10-07","340"]},{"x":"2017-10-08","y":48,"value":["2017-10-08","48"]},{"x":"2017-10-09","y":207,"value":["2017-10-09","207"]},{"x":"2017-10-10","y":135,"value":["2017-10-10","135"]},{"x":"2017-10-11","y":910,"value":["2017-10-11","910"]},{"x":"2017-10-12","y":46,"value":["2017-10-12","46"]},{"x":"2017-10-13","y":496,"value":["2017-10-13","496"]},{"x":"2017-10-14","y":520,"value":["2017-10-14","520"]},{"x":"2017-10-15","y":864,"value":["2017-10-15","864"]},{"x":"2017-10-16","y":366,"value":["2017-10-16","366"]},{"x":"2017-10-17","y":353,"value":["2017-10-17","353"]},{"x":"2017-10-18","y":54,"value":["2017-10-18","54"]},{"x":"2017-10-19","y":478,"value":["2017-10-19","478"]},{"x":"2017-10-20","y":767,"value":["2017-10-20","767"]},{"x":"2017-10-21","y":533,"value":["2017-10-21","533"]},{"x":"2017-10-22","y":41,"value":["2017-10-22","41"]},{"x":"2017-10-23","y":171,"value":["2017-10-23","171"]},{"x":"2017-10-24","y":955,"value":["2017-10-24","955"]},{"x":"2017-10-25","y":37,"value":["2017-10-25","37"]},{"x":"2017-10-26","y":934,"value":["2017-10-26","934"]},{"x":"2017-10-27","y":747,"value":["2017-10-27","747"]},{"x":"2017-10-28","y":96,"value":["2017-10-28","96"]},{"x":"2017-10-29","y":164,"value":["2017-10-29","164"]},{"x":"2017-10-30","y":197,"value":["2017-10-30","197"]},{"x":"2017-10-31","y":648,"value":["2017-10-31","648"]},{"x":"2017-11-01","y":752,"value":["2017-11-01","752"]},{"x":"2017-11-02","y":745,"value":["2017-11-02","745"]},{"x":"2017-11-03","y":235,"value":["2017-11-03","235"]},{"x":"2017-11-04","y":320,"value":["2017-11-04","320"]},{"x":"2017-11-05","y":107,"value":["2017-11-05","107"]},{"x":"2017-11-06","y":143,"value":["2017-11-06","143"]},{"x":"2017-11-07","y":103,"value":["2017-11-07","103"]},{"x":"2017-11-08","y":898,"value":["2017-11-08","898"]},{"x":"2017-11-09","y":80,"value":["2017-11-09","80"]},{"x":"2017-11-10","y":402,"value":["2017-11-10","402"]},{"x":"2017-11-11","y":837,"value":["2017-11-11","837"]},{"x":"2017-11-12","y":345,"value":["2017-11-12","345"]},{"x":"2017-11-13","y":408,"value":["2017-11-13","408"]},{"x":"2017-11-14","y":704,"value":["2017-11-14","704"]},{"x":"2017-11-15","y":297,"value":["2017-11-15","297"]},{"x":"2017-11-16","y":422,"value":["2017-11-16","422"]},{"x":"2017-11-17","y":45,"value":["2017-11-17","45"]},{"x":"2017-11-18","y":740,"value":["2017-11-18","740"]},{"x":"2017-11-19","y":951,"value":["2017-11-19","951"]},{"x":"2017-11-20","y":695,"value":["2017-11-20","695"]},{"x":"2017-11-21","y":455,"value":["2017-11-21","455"]},{"x":"2017-11-22","y":178,"value":["2017-11-22","178"]},{"x":"2017-11-23","y":792,"value":["2017-11-23","792"]},{"x":"2017-11-24","y":434,"value":["2017-11-24","434"]},{"x":"2017-11-25","y":565,"value":["2017-11-25","565"]},{"x":"2017-11-26","y":792,"value":["2017-11-26","792"]},{"x":"2017-11-27","y":935,"value":["2017-11-27","935"]},{"x":"2017-11-28","y":417,"value":["2017-11-28","417"]},{"x":"2017-11-29","y":34,"value":["2017-11-29","34"]},{"x":"2017-11-30","y":70,"value":["2017-11-30","70"]},{"x":"2017-12-01","y":520,"value":["2017-12-01","520"]},{"x":"2017-12-02","y":505,"value":["2017-12-02","505"]},{"x":"2017-12-03","y":588,"value":["2017-12-03","588"]},{"x":"2017-12-04","y":608,"value":["2017-12-04","608"]},{"x":"2017-12-05","y":622,"value":["2017-12-05","622"]},{"x":"2017-12-06","y":851,"value":["2017-12-06","851"]},{"x":"2017-12-07","y":198,"value":["2017-12-07","198"]},{"x":"2017-12-08","y":671,"value":["2017-12-08","671"]},{"x":"2017-12-09","y":648,"value":["2017-12-09","648"]},{"x":"2017-12-10","y":97,"value":["2017-12-10","97"]},{"x":"2017-12-11","y":853,"value":["2017-12-11","853"]},{"x":"2017-12-12","y":153,"value":["2017-12-12","153"]},{"x":"2017-12-13","y":496,"value":["2017-12-13","496"]},{"x":"2017-12-14","y":190,"value":["2017-12-14","190"]},{"x":"2017-12-15","y":918,"value":["2017-12-15","918"]},{"x":"2017-12-16","y":530,"value":["2017-12-16","530"]},{"x":"2017-12-17","y":868,"value":["2017-12-17","868"]},{"x":"2017-12-18","y":152,"value":["2017-12-18","152"]},{"x":"2017-12-19","y":14,"value":["2017-12-19","14"]},{"x":"2017-12-20","y":792,"value":["2017-12-20","792"]},{"x":"2017-12-21","y":422,"value":["2017-12-21","422"]},{"x":"2017-12-22","y":656,"value":["2017-12-22","656"]},{"x":"2017-12-23","y":592,"value":["2017-12-23","592"]},{"x":"2017-12-24","y":753,"value":["2017-12-24","753"]},{"x":"2017-12-25","y":57,"value":["2017-12-25","57"]},{"x":"2017-12-26","y":365,"value":["2017-12-26","365"]},{"x":"2017-12-27","y":883,"value":["2017-12-27","883"]},{"x":"2017-12-28","y":614,"value":["2017-12-28","614"]},{"x":"2017-12-29","y":184,"value":["2017-12-29","184"]},{"x":"2017-12-30","y":240,"value":["2017-12-30","240"]},{"x":"2017-12-31","y":952,"value":["2017-12-31","952"]}],"type":"heatmap","coordinateSystem":"calendar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="-ec_geo" class="section level2">
<h2><span class="header-section-number">4.10</span> 地理坐标系: ec_geo</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 获取空气质量数据</span>
<span class="co"># http://datacenter.mep.gov.cn/index</span>
<span class="co"># http://pm25.in</span>
<span class="co"># https://www.zq12369.com</span>
<span class="kw">library</span>(rvest)
<span class="kw">library</span>(XML)
<span class="kw">library</span>(RCurl)
<span class="kw">library</span>(jsonlite)
<span class="kw">library</span>(httr)

url &lt;-<span class="st">&#39;https://www.zq12369.com/environment.php?order=desc&amp;tab=rank&#39;</span>

htmlCode &lt;-<span class="st"> </span><span class="kw">getURL</span>(url)
d &lt;-<span class="st"> </span><span class="kw">htmlParse</span>(htmlCode, <span class="dt">encoding =</span> <span class="st">&#39;utf-8&#39;</span>)

xpath &lt;-<span class="st"> &#39;//*[@id=&quot;rank1&quot;]//table&#39;</span>
line_node &lt;-<span class="st"> </span><span class="kw">getNodeSet</span>(d, xpath)
line_table &lt;-<span class="st"> </span><span class="kw">readHTMLTable</span>(line_node[[<span class="dv">1</span>]], <span class="dt">header=</span>T)
line_table &lt;-<span class="st"> </span>line_table[<span class="op">-</span><span class="dv">1</span>,]
<span class="kw">rownames</span>(line_table) &lt;-<span class="st"> </span><span class="ot">NULL</span>

<span class="co"># 经纬度</span>
GPS &lt;-<span class="st"> </span><span class="cf">function</span>(chr){
  url &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;http://apis.map.qq.com/ws/geocoder/v1/?address=&quot;</span>, chr, <span class="st">&quot;&amp;key=Z2LBZ-YEOCD-RHS46-HNHPJ-ULHLZ-ABFT3&quot;</span>)
  gps &lt;-<span class="st"> </span><span class="kw">lapply</span>(url, <span class="cf">function</span>(x){
    ## 并发限制：5次/秒/接口/Key
    <span class="kw">Sys.sleep</span>(<span class="fl">0.25</span>)
    <span class="kw">fromJSON</span>(<span class="kw">rawToChar</span>(<span class="kw">GET</span>(x)<span class="op">$</span>content))<span class="op">$</span>result<span class="op">$</span>location
})
  gps
}

location &lt;-<span class="st"> </span><span class="kw">do.call</span>(rbind.data.frame, <span class="kw">GPS</span>(line_table<span class="op">$</span>城市))

AQI &lt;-<span class="st"> </span>line_table <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>降序) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lng =</span> <span class="kw">as.character</span>(location<span class="op">$</span>lng), 
         <span class="dt">lat =</span> <span class="kw">as.character</span>(location<span class="op">$</span>lat))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_backgroundColor</span>(<span class="kw">c</span>(<span class="st">&#39;#404a59&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(
    <span class="dt">show =</span> <span class="ot">TRUE</span>,
    <span class="dt">left =</span> <span class="st">&#39;right&#39;</span>, <span class="dt">top =</span> <span class="st">&#39;bottom&#39;</span>,
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_title</span>(
    <span class="dt">text =</span> <span class="st">&quot;全国主要城市空气质量&quot;</span>,
    <span class="dt">subtext =</span> <span class="st">&quot;data from 真气网&quot;</span>,
    <span class="dt">left =</span> <span class="st">&#39;center&#39;</span>, <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_tooltip</span>(
    <span class="dt">trigger =</span> <span class="st">&#39;item&#39;</span>, 
    <span class="dt">formatter =</span> htmlwidgets<span class="op">::</span><span class="kw">JS</span>(<span class="st">&quot;function (params) {return params.name + &#39; : &#39; + params.value[2];}&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_visualMap</span>(
    <span class="dt">min =</span> <span class="dv">0</span>, <span class="dt">max =</span> <span class="dv">200</span>,
    <span class="dt">calculable =</span> <span class="ot">TRUE</span>,
    <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&#39;#d94e5d&#39;</span>,<span class="st">&#39;#eac736&#39;</span>,<span class="st">&#39;#50a3ba&#39;</span>),
    <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;#fff&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_geo</span>(
    <span class="dt">map =</span> <span class="st">&#39;china&#39;</span>,
    <span class="dt">label =</span> <span class="kw">list</span>(
        <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">show =</span> <span class="ot">FALSE</span>)),
    <span class="dt">itemStyle =</span> <span class="kw">list</span>(
      <span class="dt">normal =</span> <span class="kw">list</span>(
        <span class="dt">areaColor =</span> <span class="st">&#39;#323c48&#39;</span>,
        <span class="dt">borderColor =</span> <span class="st">&#39;#111&#39;</span>),
      <span class="dt">emphasis =</span> <span class="kw">list</span>(<span class="dt">areaColor =</span> <span class="st">&#39;#2a333d&#39;</span>))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="dt">coordinateSystem =</span> <span class="st">&#39;geo&#39;</span>,
    <span class="dt">data =</span> dat_geo, <span class="dt">name =</span> <span class="st">&#39;AQI&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">name =</span> 城市, <span class="dt">x =</span> lng, <span class="dt">y =</span> lat, <span class="dt">value =</span> AQI))</code></pre></div>
<div id="htmlwidget-b455a55447700732df30" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-b455a55447700732df30">{"x":{"opt":{"legend":{"show":true,"left":"right","top":"bottom","textStyle":{"color":"#fff"}},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"shadow"},"formatter":"function (params) {return params.name + ' : ' + params.value[2];}"},"backgroundColor":["#404a59"],"title":{"text":"全国主要城市空气质量","subtext":"data from 真气网","left":"center","textStyle":{"color":"#fff"}},"visualMap":{"min":0,"max":200,"calculable":true,"color":["#d94e5d","#eac736","#50a3ba"],"textStyle":{"color":"#fff"}},"geo":{"map":"china","label":{"emphasis":{"show":false}},"itemStyle":{"normal":{"areaColor":"#323c48","borderColor":"#111"},"emphasis":{"areaColor":"#2a333d"}}},"series":[{"group":"AQI","data":[{"x":88.31104,"y":43.36378,"name":"乌鲁木齐","value":[88.31104,43.36378,175]},{"x":104.10194,"y":30.65984,"name":"成都","value":[104.10194,30.65984,117]},{"x":117.18554,"y":34.28823,"name":"徐州","value":[117.18554,34.28823,114]},{"x":103.71878,"y":36.10396,"name":"兰州","value":[103.71878,36.10396,113]},{"x":108.93425,"y":34.23053,"name":"西安","value":[108.93425,34.23053,110]},{"x":119.59794,"y":31.72322,"name":"常州","value":[119.59794,31.72322,98]},{"x":118.24238,"y":33.96315,"name":"宿迁","value":[118.24238,33.96315,98]},{"x":123.46987,"y":41.80515,"name":"沈阳","value":[123.46987,41.80515,95]},{"x":126.95717,"y":45.54774,"name":"哈尔滨","value":[126.95717,45.54774,94]},{"x":121.48941,"y":31.40527,"name":"上海","value":[121.48941,31.40527,94]},{"x":114.02919,"y":30.58203,"name":"武汉","value":[114.02919,30.58203,93]},{"x":119.43396,"y":32.13188,"name":"镇江","value":[119.43396,32.13188,93]},{"x":119.91284,"y":28.44594,"name":"丽水","value":[119.91284,28.44594,92]},{"x":119.1773,"y":34.84065,"name":"连云港","value":[119.1773,34.84065,92]},{"x":101.76628,"y":36.6502,"name":"西宁","value":[101.76628,36.6502,91]},{"x":119.43157,"y":32.39463,"name":"扬州","value":[119.43157,32.39463,89]},{"x":120.28429,"y":31.52853,"name":"无锡","value":[120.28429,31.52853,89]},{"x":119.88116,"y":32.31841,"name":"泰州","value":[119.88116,32.31841,88]},{"x":120.85737,"y":32.00986,"name":"南通","value":[120.85737,32.00986,88]},{"x":120.63132,"y":31.30227,"name":"苏州","value":[120.63132,31.30227,87]},{"x":125.28845,"y":43.83327,"name":"长春","value":[125.28845,43.83327,87]},{"x":120.78483,"y":30.74744,"name":"嘉兴","value":[120.78483,30.74744,87]},{"x":117.30794,"y":31.79322,"name":"合肥","value":[117.30794,31.79322,85]},{"x":114.49339,"y":36.61853,"name":"邯郸","value":[114.49339,36.61853,84]},{"x":120.49476,"y":30.08189,"name":"绍兴","value":[120.49476,30.08189,83]},{"x":121.84431,"y":29.89889,"name":"宁波","value":[121.84431,29.89889,82]},{"x":114.50713,"y":37.06787,"name":"邢台","value":[114.50713,37.06787,82]},{"x":118.8735,"y":33.29433,"name":"淮安","value":[118.8735,33.29433,80]},{"x":120.50102,"y":33.20107,"name":"盐城","value":[120.50102,33.20107,80]},{"x":120.21201,"y":30.2084,"name":"杭州","value":[120.21201,30.2084,79]},{"x":118.8921,"y":31.32751,"name":"南京","value":[118.8921,31.32751,78]},{"x":106.62304,"y":26.67856,"name":"贵阳","value":[106.62304,26.67856,78]},{"x":106.24284,"y":38.47314,"name":"银川","value":[106.24284,38.47314,77]},{"x":112.48699,"y":37.94036,"name":"太原","value":[112.48699,37.94036,76]},{"x":120.41847,"y":30.84979,"name":"湖州","value":[120.41847,30.84979,75]},{"x":121.26295,"y":28.64965,"name":"台州","value":[121.26295,28.64965,75]},{"x":106.54041,"y":29.40268,"name":"重庆","value":[106.54041,29.40268,75]},{"x":119.69311,"y":29.09914,"name":"金华","value":[119.69311,29.09914,69]},{"x":110.32941,"y":20.02971,"name":"海口","value":[110.32941,20.02971,69]},{"x":120.39629,"y":36.30744,"name":"青岛","value":[120.39629,36.30744,69]},{"x":114.53952,"y":38.03647,"name":"石家庄","value":[114.53952,38.03647,65]},{"x":112.98626,"y":28.25591,"name":"长沙","value":[112.98626,28.25591,64]},{"x":115.89925,"y":28.68503,"name":"南昌","value":[115.89925,28.68503,63]},{"x":116.75199,"y":36.55358,"name":"济南","value":[116.75199,36.55358,63]},{"x":118.87117,"y":28.96864,"name":"衢州","value":[118.87117,28.96864,62]},{"x":113.88308,"y":22.55329,"name":"深圳","value":[113.88308,22.55329,62]},{"x":122.10679,"y":30.01979,"name":"舟山","value":[122.10679,30.01979,61]},{"x":113.6401,"y":34.72468,"name":"郑州","value":[113.6401,34.72468,61]},{"x":102.82147,"y":24.88554,"name":"昆明","value":[102.82147,24.88554,60]},{"x":113.29658,"y":22.20903,"name":"珠海","value":[113.29658,22.20903,58]},{"x":121.1572,"y":27.83616,"name":"温州","value":[121.1572,27.83616,58]},{"x":115.57938,"y":37.55085,"name":"衡水","value":[115.57938,37.55085,58]},{"x":108.27331,"y":22.78129,"name":"南宁","value":[108.27331,22.78129,57]},{"x":116.86622,"y":38.31419,"name":"沧州","value":[116.86622,38.31419,57]},{"x":91.13775,"y":29.65262,"name":"拉萨","value":[91.13775,29.65262,56]},{"x":114.38273,"y":23.08383,"name":"惠州","value":[114.38273,23.08383,55]},{"x":119.27345,"y":26.04769,"name":"福州","value":[119.27345,26.04769,55]},{"x":115.45875,"y":38.87757,"name":"保定","value":[115.45875,38.87757,54]},{"x":112.56706,"y":23.15815,"name":"肇庆","value":[112.56706,23.15815,54]},{"x":111.62299,"y":40.80772,"name":"呼和浩特","value":[111.62299,40.80772,53]},{"x":112.89262,"y":22.90026,"name":"佛山","value":[112.89262,22.90026,52]},{"x":118.03394,"y":24.48405,"name":"厦门","value":[118.03394,24.48405,52]},{"x":118.46023,"y":39.27313,"name":"唐山","value":[118.46023,39.27313,50]},{"x":113.75179,"y":23.02067,"name":"东莞","value":[113.75179,23.02067,50]},{"x":113.3926,"y":22.51595,"name":"中山","value":[113.3926,22.51595,50]},{"x":113.11103,"y":22.56028,"name":"江门","value":[113.11103,22.56028,48]},{"x":113.27324,"y":23.15792,"name":"广州","value":[113.27324,23.15792,46]},{"x":117.30983,"y":39.71755,"name":"天津","value":[117.30983,39.71755,43]},{"x":117.80024,"y":40.95913,"name":"承德","value":[117.80024,40.95913,42]},{"x":115.28264,"y":40.97457,"name":"张家口","value":[115.28264,40.97457,40]},{"x":119.48458,"y":39.83507,"name":"秦皇岛","value":[119.48458,39.83507,40]},{"x":116.23128,"y":40.22077,"name":"北京","value":[116.23128,40.22077,37]},{"x":121.5255,"y":38.95223,"name":"大连","value":[121.5255,38.95223,36]},{"x":116.68572,"y":39.50311,"name":"廊坊","value":[116.68572,39.50311,35]}],"type":"scatter","coordinateSystem":"geo","name":"AQI"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="series.data" class="section level2">
<h2><span class="header-section-number">4.11</span> series.data</h2>
<p>系列中的数据内容数组。数组项通常为具体的数据项。</p>
<p>注意，如果系列没有指定data，并且option有dataset，那么默认使用第一个dataset。如果指定了data，则不会再使用dataset。后续详细介绍dataset，本节主要介绍series中的data</p>
<p>通常来说，数据用一个二维数组表示。如下，每一列被称为一个『维度』</p>
<pre><code>series: [{
    data: [
        // 维度X   维度Y   其他维度 ...
        [  3.4,    4.5,   15,   43],
        [  4.2,    2.3,   20,   91],
        [  10.8,   9.5,   30,   18],
        [  7.2,    8.8,   18,   57]
    ]
}]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">opt_dat &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(weekDay, saleNum, fruit, price) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">setNames</span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>jsonlite<span class="op">::</span><span class="kw">toJSON</span>()
  <span class="co"># as.matrix() 也可以转为matrix，但是若存在列类型为字符，则数值也会转为字符，会存在潜在的影响，建议转为json。</span>

opt_tmp =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&quot;category&quot;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="dt">data =</span> opt_dat))
<span class="kw">echart</span>(opt_tmp)</code></pre></div>
<div id="htmlwidget-09f51a1889230e59e168" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-09f51a1889230e59e168">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":{"type":"scatter","data":[["Mon",99,"Apple",11],["Tues",45,"Apple",12],["Wed",57,"Apple",18],["Thurs",89,"Apple",19],["Fri",68,"Apple",13],["Sat",35,"Apple",17],["Sun",47,"Apple",18],["Mon",55,"Pear",15],["Tues",44,"Pear",11],["Wed",45,"Pear",15],["Thurs",75,"Pear",12],["Fri",37,"Pear",17],["Sat",80,"Pear",20],["Sun",27,"Pear",19],["Mon",77,"Banana",16],["Tues",64,"Banana",20],["Wed",28,"Banana",16],["Thurs",51,"Banana",15],["Fri",98,"Banana",16],["Sat",90,"Banana",17],["Sun",40,"Banana",20]]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<ul>
<li>在 直角坐标系 (grid) 中『维度X』和『维度Y』会默认对应于 xAxis 和 yAxis。</li>
<li>在 极坐标系 (polar) 中『维度X』和『维度Y』会默认对应于 radiusAxis 和 angleAxis。</li>
<li>后面的其他维度是可选的，可以在别处被使用，例如：</li>
<li>在 visualMap 中可以将一个或多个维度映射到颜色，大小等多个图形属性上。</li>
<li>在 series.symbolSize 中可以使用回调函数，基于某个维度得到 symbolSize 值。</li>
<li>使用 tooltip.formatter 或 series.label.formatter 可以把其他维度的值展示出来。</li>
</ul>
<p>特别地，当只有一个轴为类目轴（axis.type 为 ‘category’）的时候，数据可以简化用一个一维数组表示。例如：</p>
<pre><code>xAxis: {
  data: [&#39;a&#39;, &#39;b&#39;, &#39;m&#39;, &#39;n&#39;]
},
series: [{
  // 与 xAxis.data 一一对应。
  data: [23,  44,  55,  19]
  // 它其实是下面这种形式的简化：
  // data: [[0, 23], [1, 44], [2, 55], [3, 19]]
}]</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_tmp_y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">5</span>, <span class="dv">20</span>, <span class="dv">36</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">20</span>)
dat_tmp &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">6</span>), <span class="dt">y =</span> dat_tmp_y) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">setNames</span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>jsonlite<span class="op">::</span><span class="kw">toJSON</span>()

opt_tmp =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>,
    <span class="co"># data = dat_tmp_y 是dat_tmp的简化</span>
    <span class="dt">data =</span> dat_tmp))
<span class="kw">echart</span>(opt_tmp)</code></pre></div>
<div id="htmlwidget-0c3228b4ecf8000a327f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-0c3228b4ecf8000a327f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":{"type":"line","data":[[0,12],[1,5],[2,20],[3,36],[4,10],[5,10],[6,20]]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>『值』与 轴类型 的关系：</p>
<ul>
<li>当某维度对应于数值轴（axis.type为<code>'value'</code>或者<code>'log'</code>）的时候：其值可以为<code>number</code>（例如 12）。（也可以兼容<code>string</code>形式的<code>number</code>，例如 ‘12’）</li>
<li>当某维度对应于类目轴（axis.type为<code>'category'</code>）的时候：其值须为类目的『序数』（从<code>0</code> 开始）或者类目的『字符串值』。例如：</li>
</ul>
<p>其值须为类目的『序数』（从 0 开始）或者类目的『字符串值』。例如：</p>
<pre><code>xAxis: {
  type: &#39;category&#39;,
  data: [&#39;星期一&#39;, &#39;星期二&#39;, &#39;星期三&#39;, &#39;星期四&#39;]
},
yAxis: {
  type: &#39;category&#39;,
  data: [&#39;a&#39;, &#39;b&#39;, &#39;m&#39;, &#39;n&#39;, &#39;p&#39;, &#39;q&#39;]
},
series: [{
  data: [
    // xAxis    yAxis
    [0, 0, 2], // 意思是此点位于 xAxis: &#39;星期一&#39;, yAxis: &#39;a&#39;。
    [&#39;星期四&#39;, 2, 1], // 意思是此点位于 xAxis: &#39;星期四&#39;, yAxis: &#39;m&#39;。
    [2, &#39;p&#39;, 2], // 意思是此点位于 xAxis: &#39;星期三&#39;, yAxis: &#39;p&#39;。
    [3, 3, 5]
  ]
}]</code></pre>
<p>当某维度对应于时间轴（type 为<code>'time'</code>）的时候，值可以为： - 一个时间戳，如 1484141700832，表示 UTC 时间。 - 或者字符串形式的时间描述： - ISO 8601 的子集，只包含这些形式（这几种格式，除非指明时区，否则均表示本地时间，与 moment 一致）： - 部分年月日时间: ‘2012-03’, ‘2012-03-01’, ‘2012-03-01 05’, ‘2012-03-01 05:06’. - 使用 ‘T’ 或空格分割: ‘2012-03-01T12:22:33.123’, ‘2012-03-01 12:22:33.123’. - 时区设定: ‘2012-03-01T12:22:33Z’, ‘2012-03-01T12:22:33+8000’, ‘2012-03-01T12:22:33-05:00’. - 其他的时间字符串，包括（均表示本地时间）: ‘2012’, ‘2012-3-1’, ‘2012/3/1’, ‘2012/03/01’, ‘2009/6/12 2:00’, ‘2009/6/12 2:05:08’, ‘2009/6/12 2:05:08.123’ - 或者用户自行初始化的 Date 实例： - 注意，用户自行初始化 Date 实例的时候，浏览器的行为有差异，不同字符串的表示也不同。 - 例如：在 chrome 中，new Date(‘2012-01-01’) 表示 UTC 时间的 2012 年 1 月 1 日，而 new Date(‘2012-1-1’) 和 new Date(‘2012/01/01’) 表示本地时间的 2012 年 1 月 1 日。在 safari 中，不支持 new Date(‘2012-1-1’) 这种表示方法。 - 所以，使用 new Date(dataString) 时，可使用第三方库解析（如 moment），或者使用 echarts.number.parseDate，或者参见 这里。</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># datetime_to_timestamp &lt;- function(dt) {</span>
<span class="co">#   assertthat::assert_that(assertthat::is.date(dt) | assertthat::is.time(dt))</span>
<span class="co">#   tmstmp &lt;- as.numeric(as.POSIXct(dt))</span>
<span class="co">#   tmstmp &lt;- 1000 * tmstmp</span>
<span class="co">#   tmstmp</span>
<span class="co"># }</span>
dat_tmp &lt;-<span class="st"> </span>dat_date <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">date =</span> <span class="kw">datetime_to_timestamp</span>(date)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">setNames</span>(<span class="ot">NULL</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>jsonlite<span class="op">::</span><span class="kw">toJSON</span>()

opt_tmp =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">xAxis =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;time&#39;</span>),
  <span class="dt">yAxis =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;value&quot;</span>),
  <span class="dt">series =</span> <span class="kw">list</span>(
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>,
    <span class="dt">data =</span> dat_tmp))
<span class="kw">echart</span>(opt_tmp)</code></pre></div>
<div id="htmlwidget-fa389ad7b3c06633a727" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-fa389ad7b3c06633a727">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":{"type":"line","data":[[1483228800000,33],[1483315200000,976],[1483401600000,943],[1483488000000,985],[1483574400000,164],[1483660800000,136],[1483747200000,846],[1483833600000,945],[1483920000000,244],[1484006400000,608],[1484092800000,362],[1484179200000,45],[1484265600000,715],[1484352000000,642],[1484438400000,403],[1484524800000,725],[1484611200000,607],[1484697600000,797],[1484784000000,337],[1484870400000,866],[1484956800000,861],[1485043200000,134],[1485129600000,375],[1485216000000,792],[1485302400000,272],[1485388800000,145],[1485475200000,833],[1485561600000,215],[1485648000000,179],[1485734400000,214],[1485820800000,701],[1485907200000,935],[1485993600000,34],[1486080000000,559],[1486166400000,850],[1486252800000,867],[1486339200000,204],[1486425600000,668],[1486512000000,919],[1486598400000,272],[1486684800000,246],[1486771200000,545],[1486857600000,9],[1486944000000,704],[1487030400000,256],[1487116800000,108],[1487203200000,841],[1487289600000,357],[1487376000000,139],[1487462400000,188],[1487548800000,429],[1487635200000,977],[1487721600000,162],[1487808000000,117],[1487894400000,591],[1487980800000,564],[1488067200000,298],[1488153600000,505],[1488240000000,267],[1488326400000,596],[1488412800000,364],[1488499200000,951],[1488585600000,798],[1488672000000,586],[1488758400000,11],[1488844800000,135],[1488931200000,571],[1489017600000,167],[1489104000000,474],[1489190400000,893],[1489276800000,177],[1489363200000,40],[1489449600000,205],[1489536000000,413],[1489622400000,664],[1489708800000,46],[1489795200000,771],[1489881600000,791],[1489968000000,491],[1490054400000,815],[1490140800000,539],[1490227200000,157],[1490313600000,69],[1490400000000,703],[1490486400000,837],[1490572800000,788],[1490659200000,113],[1490745600000,161],[1490832000000,15],[1490918400000,547],[1491004800000,447],[1491091200000,10],[1491177600000,969],[1491264000000,114],[1491350400000,731],[1491436800000,892],[1491523200000,230],[1491609600000,436],[1491696000000,270],[1491782400000,677],[1491868800000,786],[1491955200000,774],[1492041600000,609],[1492128000000,923],[1492214400000,149],[1492300800000,247],[1492387200000,408],[1492473600000,504],[1492560000000,379],[1492646400000,764],[1492732800000,989],[1492819200000,737],[1492905600000,734],[1492992000000,195],[1493078400000,189],[1493164800000,798],[1493251200000,343],[1493337600000,634],[1493424000000,321],[1493510400000,249],[1493596800000,987],[1493683200000,644],[1493769600000,515],[1493856000000,83],[1493942400000,130],[1494028800000,530],[1494115200000,697],[1494201600000,934],[1494288000000,728],[1494374400000,692],[1494460800000,645],[1494547200000,811],[1494633600000,536],[1494720000000,426],[1494806400000,300],[1494892800000,608],[1494979200000,441],[1495065600000,198],[1495152000000,606],[1495238400000,977],[1495324800000,660],[1495411200000,45],[1495497600000,620],[1495584000000,574],[1495670400000,596],[1495756800000,708],[1495843200000,370],[1495929600000,84],[1496016000000,538],[1496102400000,448],[1496188800000,428],[1496275200000,543],[1496361600000,365],[1496448000000,60],[1496534400000,701],[1496620800000,368],[1496707200000,829],[1496793600000,264],[1496880000000,201],[1496966400000,5],[1497052800000,170],[1497139200000,893],[1497225600000,209],[1497312000000,705],[1497398400000,308],[1497484800000,783],[1497571200000,24],[1497657600000,284],[1497744000000,332],[1497830400000,400],[1497916800000,419],[1498003200000,660],[1498089600000,333],[1498176000000,570],[1498262400000,849],[1498348800000,941],[1498435200000,319],[1498521600000,480],[1498608000000,753],[1498694400000,243],[1498780800000,420],[1498867200000,855],[1498953600000,377],[1499040000000,706],[1499126400000,378],[1499212800000,7],[1499299200000,860],[1499385600000,124],[1499472000000,163],[1499558400000,238],[1499644800000,939],[1499731200000,830],[1499817600000,906],[1499904000000,428],[1499990400000,637],[1500076800000,897],[1500163200000,641],[1500249600000,141],[1500336000000,525],[1500422400000,789],[1500508800000,777],[1500595200000,822],[1500681600000,864],[1500768000000,366],[1500854400000,151],[1500940800000,165],[1501027200000,317],[1501113600000,104],[1501200000000,735],[1501286400000,35],[1501372800000,194],[1501459200000,90],[1501545600000,196],[1501632000000,62],[1501718400000,422],[1501804800000,262],[1501891200000,860],[1501977600000,150],[1502064000000,569],[1502150400000,734],[1502236800000,346],[1502323200000,472],[1502409600000,671],[1502496000000,429],[1502582400000,539],[1502668800000,598],[1502755200000,979],[1502841600000,573],[1502928000000,553],[1503014400000,295],[1503100800000,432],[1503187200000,279],[1503273600000,98],[1503360000000,796],[1503446400000,493],[1503532800000,149],[1503619200000,446],[1503705600000,440],[1503792000000,705],[1503878400000,333],[1503964800000,646],[1504051200000,331],[1504137600000,278],[1504224000000,438],[1504310400000,28],[1504396800000,199],[1504483200000,875],[1504569600000,191],[1504656000000,37],[1504742400000,960],[1504828800000,102],[1504915200000,97],[1505001600000,536],[1505088000000,140],[1505174400000,59],[1505260800000,348],[1505347200000,881],[1505433600000,410],[1505520000000,49],[1505606400000,199],[1505692800000,159],[1505779200000,704],[1505865600000,925],[1505952000000,970],[1506038400000,3],[1506124800000,43],[1506211200000,196],[1506297600000,498],[1506384000000,978],[1506470400000,222],[1506556800000,604],[1506643200000,841],[1506729600000,703],[1506816000000,752],[1506902400000,401],[1506988800000,203],[1507075200000,655],[1507161600000,153],[1507248000000,823],[1507334400000,340],[1507420800000,48],[1507507200000,207],[1507593600000,135],[1507680000000,910],[1507766400000,46],[1507852800000,496],[1507939200000,520],[1508025600000,864],[1508112000000,366],[1508198400000,353],[1508284800000,54],[1508371200000,478],[1508457600000,767],[1508544000000,533],[1508630400000,41],[1508716800000,171],[1508803200000,955],[1508889600000,37],[1508976000000,934],[1509062400000,747],[1509148800000,96],[1509235200000,164],[1509321600000,197],[1509408000000,648],[1509494400000,752],[1509580800000,745],[1509667200000,235],[1509753600000,320],[1509840000000,107],[1509926400000,143],[1510012800000,103],[1510099200000,898],[1510185600000,80],[1510272000000,402],[1510358400000,837],[1510444800000,345],[1510531200000,408],[1510617600000,704],[1510704000000,297],[1510790400000,422],[1510876800000,45],[1510963200000,740],[1511049600000,951],[1511136000000,695],[1511222400000,455],[1511308800000,178],[1511395200000,792],[1511481600000,434],[1511568000000,565],[1511654400000,792],[1511740800000,935],[1511827200000,417],[1511913600000,34],[1512000000000,70],[1512086400000,520],[1512172800000,505],[1512259200000,588],[1512345600000,608],[1512432000000,622],[1512518400000,851],[1512604800000,198],[1512691200000,671],[1512777600000,648],[1512864000000,97],[1512950400000,853],[1513036800000,153],[1513123200000,496],[1513209600000,190],[1513296000000,918],[1513382400000,530],[1513468800000,868],[1513555200000,152],[1513641600000,14],[1513728000000,792],[1513814400000,422],[1513900800000,656],[1513987200000,592],[1514073600000,753],[1514160000000,57],[1514246400000,365],[1514332800000,883],[1514419200000,614],[1514505600000,184],[1514592000000,240],[1514678400000,952]]}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>空值：</p>
<p>当某数据不存在时（ps：不存在不代表值为 0），可以用 ‘-’ 或者 null 或者 undefined 或者 NaN 表示。 例如，无数据在折线图中可表现为该点是断开的，在其它图中可表示为图形不存在。</p>
</div>
<div id="-ec_dataset" class="section level2">
<h2><span class="header-section-number">4.12</span> 数据集: ec_dataset</h2>
<p>支持的图表类型: line, bar, scatter, effectScatter, boxplot, candlestick, pictorialBar, custom</p>
<div id="id" class="section level3">
<h3><span class="header-section-number">4.12.1</span> id</h3>
<p>如果 series.data 没有指定，并且 dataset 存在，那么就会使用 dataset。datasetIndex 指定本系列使用那个 dataset，需要注意的是：<strong>datasetIndex并不是dataset.id的值，而是dataset的从0开始序列值</strong>。</p>
</div>
<div id="sourcedata" class="section level3">
<h3><span class="header-section-number">4.12.2</span> source/data</h3>
<p><a href="http://echarts.baidu.com/option.html#dataset.source">dataset.source</a></p>
<p>暂时只支持data.frame，matrix和json三种数据格式。</p>
<p>如果是导入的数据合适为json，ec_dataset会直接取用该数据，并且默认<code>dimensions = NULL</code>。否则会通过<code>source = jsonlite::toJSON(setNames(data, NULL))</code>转为json，并且默认<code>dimensions =  colnames(data)</code>。</p>
<p>另外可以通过data或source两种参数传入数据，若同时含有这两个参数，则取source数据。</p>
</div>
<div id="dimensions" class="section level3">
<h3><span class="header-section-number">4.12.3</span> dimensions</h3>
<p><a href="http://echarts.baidu.com/option.html#dataset.dimensions">dataset.dimensions</a></p>
<p>使用 dimensions 定义 dataset.source 的每个维度的信息。如果不设定 dimensions ，若导入的数据格式是data.frame，则默认为colnames(data)，若导入的数据格式是json，则默认为NULL。</p>
<blockquote>
<p>注意：如果使用了 dataset，那么可以在 dataset.source 的第一行/列中给出 dimension 名称。于是就不用在这里指定 dimension。但是，如果在这里指定了 dimensions，那么 echarts 不再会自动从 dataset.source 的第一行/列中获取维度信息。</p>
</blockquote>
<p>目前发现一个问题，即使在dataset指定了 dimensions ，如果 dataset.source 的数据为字符型，echarts 虽然不会自动从 dataset.source 的第一行/列中获取维度信息，但是还会默认 dataset.source 的第一行/列为维度信息，不取第一行/列的值。</p>
</div>
<div id="sourceheader" class="section level3">
<h3><span class="header-section-number">4.12.4</span> sourceHeader</h3>
<p>默认<code>sourceHeader = FALSE</code>，即第一行/列直接开始是数据。</p>
</div>
<div id="encode" class="section level3">
<h3><span class="header-section-number">4.12.5</span> encode</h3>
<p>用于可以定义 data 的哪个维度被编码成什么。</p>
<blockquote>
<p>encode 支持的属性，根据坐标系不同而不同。 对于 直角坐标系（cartesian2d），支持 x、y。 对于 极坐标系（polar），支持 radius、angle。 对于 地理坐标系（geo），支持 lng，lat。 此外，均支持 tooltip 和 itemName（用于指定 tooltip 中数据项名称）。</p>
</blockquote>
<p>当使用 dimensions 给维度定义名称后，encode 中可直接引用名称</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_fruit_sp &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(fruit, weekDay, saleNum) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">spread</span>(fruit, saleNum) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">match</span>(weekDay, weekDays))

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_title</span>(<span class="dt">text =</span> <span class="st">&#39;水果销量&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(<span class="dt">type =</span> <span class="st">&#39;category&#39;</span>,
    <span class="dt">data =</span> weekDays) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataset</span>(<span class="dt">data =</span> dat_fruit_sp) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataset</span>(<span class="dt">source =</span> jsonlite<span class="op">::</span><span class="kw">toJSON</span>(dat_fruit_sp), <span class="dt">id =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_dataset</span>(<span class="dt">source =</span> <span class="kw">as.matrix</span>(dat_fruit_sp), <span class="dt">id =</span> <span class="dv">5</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Apple&quot;</span>, 
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">encode =</span> <span class="kw">list</span>(<span class="dt">y =</span> <span class="st">&quot;Apple&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">name =</span> <span class="st">&quot;Banana&quot;</span>, <span class="dt">datasetIndex =</span> <span class="dv">1</span>,
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">encode =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="st">&quot;weekDay&quot;</span>, <span class="dt">y =</span> <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">datasetIndex =</span> <span class="dv">2</span>,
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">encode =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">0</span>, <span class="dt">y =</span> <span class="dv">3</span>, <span class="dt">seriesName =</span> <span class="dv">3</span>, <span class="dt">tooltip =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">3</span>))) </code></pre></div>
<div id="htmlwidget-d2560c3422e80b7e85dd" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-d2560c3422e80b7e85dd">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"title":{"text":"水果销量"},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"dataset":[{"id":0,"source":[["Mon",99,77,55],["Tues",45,64,44],["Wed",57,28,45],["Thurs",89,51,75],["Fri",68,98,37],["Sat",35,90,80],["Sun",47,40,27]],"dimensions":["weekDay","Apple","Banana","Pear"],"sourceHeader":false},{"id":1,"source":[{"weekDay":"Mon","Apple":99,"Banana":77,"Pear":55},{"weekDay":"Tues","Apple":45,"Banana":64,"Pear":44},{"weekDay":"Wed","Apple":57,"Banana":28,"Pear":45},{"weekDay":"Thurs","Apple":89,"Banana":51,"Pear":75},{"weekDay":"Fri","Apple":68,"Banana":98,"Pear":37},{"weekDay":"Sat","Apple":35,"Banana":90,"Pear":80},{"weekDay":"Sun","Apple":47,"Banana":40,"Pear":27}],"dimensions":null,"sourceHeader":false},{"id":5,"source":[["Mon","99","77","55"],["Tues","45","64","44"],["Wed","57","28","45"],["Thurs","89","51","75"],["Fri","68","98","37"],["Sat","35","90","80"],["Sun","47","40","27"]],"dimensions":["weekDay","Apple","Banana","Pear"],"sourceHeader":false}],"series":[{"name":"Apple","type":"line","encode":{"y":"Apple"}},{"name":"Banana","datasetIndex":1,"type":"line","encode":{"x":"weekDay","y":2}},{"datasetIndex":2,"type":"line","encode":{"x":0,"y":3,"seriesName":3,"tooltip":[0,3]}}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="ec_add_series" class="section level2">
<h2><span class="header-section-number">4.13</span> ec_add_series</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## 目前支持下列两种方式
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">name =</span> dat<span class="op">$</span>weekDay, <span class="dt">value =</span> dat<span class="op">$</span>saleNum, <span class="dt">group =</span> dat<span class="op">$</span>fruit)
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">name =</span> weekDay, <span class="dt">value =</span> saleNum, <span class="dt">group =</span> fruit)
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">x =</span> dat<span class="op">$</span>weekDay, <span class="dt">y =</span> dat<span class="op">$</span>saleNum, <span class="dt">group =</span> fruit)
mapping =<span class="st"> </span><span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)
## 暂不支持下列方式
<span class="co"># mapping = ecaes(name = ~weekDay, value = ~saleNum, group = ~fruit)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;scatter&quot;</span>, 
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">symbolSize =</span> price))</code></pre></div>
<div id="htmlwidget-5d5a0d7ac4880a2bf409" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-5d5a0d7ac4880a2bf409">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"Mon","y":99,"symbolSize":11,"value":["Mon","99"]},{"x":"Tues","y":45,"symbolSize":12,"value":["Tues","45"]},{"x":"Wed","y":57,"symbolSize":18,"value":["Wed","57"]},{"x":"Thurs","y":89,"symbolSize":19,"value":["Thurs","89"]},{"x":"Fri","y":68,"symbolSize":13,"value":["Fri","68"]},{"x":"Sat","y":35,"symbolSize":17,"value":["Sat","35"]},{"x":"Sun","y":47,"symbolSize":18,"value":["Sun","47"]},{"x":"Mon","y":55,"symbolSize":15,"value":["Mon","55"]},{"x":"Tues","y":44,"symbolSize":11,"value":["Tues","44"]},{"x":"Wed","y":45,"symbolSize":15,"value":["Wed","45"]},{"x":"Thurs","y":75,"symbolSize":12,"value":["Thurs","75"]},{"x":"Fri","y":37,"symbolSize":17,"value":["Fri","37"]},{"x":"Sat","y":80,"symbolSize":20,"value":["Sat","80"]},{"x":"Sun","y":27,"symbolSize":19,"value":["Sun","27"]},{"x":"Mon","y":77,"symbolSize":16,"value":["Mon","77"]},{"x":"Tues","y":64,"symbolSize":20,"value":["Tues","64"]},{"x":"Wed","y":28,"symbolSize":16,"value":["Wed","28"]},{"x":"Thurs","y":51,"symbolSize":15,"value":["Thurs","51"]},{"x":"Fri","y":98,"symbolSize":16,"value":["Fri","98"]},{"x":"Sat","y":90,"symbolSize":17,"value":["Sat","90"]},{"x":"Sun","y":40,"symbolSize":20,"value":["Sun","40"]}],"type":"scatter"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div id="ec_add_series.default" class="section level3">
<h3><span class="header-section-number">4.13.1</span> ec_add_series.default</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit))</code></pre></div>
<div id="htmlwidget-efbf182932a5c0be3c51" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-efbf182932a5c0be3c51">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":99,"value":["Mon","99"]},{"x":"Tues","y":45,"value":["Tues","45"]},{"x":"Wed","y":57,"value":["Wed","57"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":68,"value":["Fri","68"]},{"x":"Sat","y":35,"value":["Sat","35"]},{"x":"Sun","y":47,"value":["Sun","47"]}],"type":"bar"},{"name":"Banana","data":[{"x":"Mon","y":77,"value":["Mon","77"]},{"x":"Tues","y":64,"value":["Tues","64"]},{"x":"Wed","y":28,"value":["Wed","28"]},{"x":"Thurs","y":51,"value":["Thurs","51"]},{"x":"Fri","y":98,"value":["Fri","98"]},{"x":"Sat","y":90,"value":["Sat","90"]},{"x":"Sun","y":40,"value":["Sun","40"]}],"type":"bar"},{"name":"Pear","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":44,"value":["Tues","44"]},{"x":"Wed","y":45,"value":["Wed","45"]},{"x":"Thurs","y":75,"value":["Thurs","75"]},{"x":"Fri","y":37,"value":["Fri","37"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":27,"value":["Sun","27"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.data.frame" class="section level3">
<h3><span class="header-section-number">4.13.2</span> ec_add_series.data.frame</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Apple&#39;</span>, <span class="st">&#39;Pear&#39;</span>)), <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> <span class="kw">filter</span>(dat, fruit <span class="op">==</span><span class="st"> &#39;Banana&#39;</span>), <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">name =</span> <span class="st">&#39;Banana&#39;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) </code></pre></div>
<div id="htmlwidget-1b241ae51466d65868b4" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-1b241ae51466d65868b4">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":99,"value":["Mon","99"]},{"x":"Tues","y":45,"value":["Tues","45"]},{"x":"Wed","y":57,"value":["Wed","57"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":68,"value":["Fri","68"]},{"x":"Sat","y":35,"value":["Sat","35"]},{"x":"Sun","y":47,"value":["Sun","47"]}],"type":"bar"},{"name":"Pear","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":44,"value":["Tues","44"]},{"x":"Wed","y":45,"value":["Wed","45"]},{"x":"Thurs","y":75,"value":["Thurs","75"]},{"x":"Fri","y":37,"value":["Fri","37"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":27,"value":["Sun","27"]}],"type":"bar"},{"group":"Banana","data":[{"x":"Mon","y":77,"value":["Mon","77"]},{"x":"Tues","y":64,"value":["Tues","64"]},{"x":"Wed","y":28,"value":["Wed","28"]},{"x":"Thurs","y":51,"value":["Thurs","51"]},{"x":"Fri","y":98,"value":["Fri","98"]},{"x":"Sat","y":90,"value":["Sat","90"]},{"x":"Sun","y":40,"value":["Sun","40"]}],"type":"line","name":"Banana"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat, <span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> weekDay, <span class="dt">y =</span> saleNum, <span class="dt">group =</span> fruit)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_legend</span>(<span class="dt">show =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">data =</span> <span class="kw">list</span>(<span class="kw">list</span>(
      <span class="dt">value =</span> <span class="st">&#39;Mon&#39;</span>,
      <span class="dt">textStyle =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&#39;red&#39;</span>)),
    <span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>))</code></pre></div>
<div id="htmlwidget-4c6b0bbdf3b1742dca6f" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-4c6b0bbdf3b1742dca6f">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":[{"value":"Mon","textStyle":{"color":"red"}},"Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":[{"name":"Apple","data":[{"x":"Mon","y":99,"value":["Mon","99"]},{"x":"Tues","y":45,"value":["Tues","45"]},{"x":"Wed","y":57,"value":["Wed","57"]},{"x":"Thurs","y":89,"value":["Thurs","89"]},{"x":"Fri","y":68,"value":["Fri","68"]},{"x":"Sat","y":35,"value":["Sat","35"]},{"x":"Sun","y":47,"value":["Sun","47"]}],"type":"bar"},{"name":"Banana","data":[{"x":"Mon","y":77,"value":["Mon","77"]},{"x":"Tues","y":64,"value":["Tues","64"]},{"x":"Wed","y":28,"value":["Wed","28"]},{"x":"Thurs","y":51,"value":["Thurs","51"]},{"x":"Fri","y":98,"value":["Fri","98"]},{"x":"Sat","y":90,"value":["Sat","90"]},{"x":"Sun","y":40,"value":["Sun","40"]}],"type":"bar"},{"name":"Pear","data":[{"x":"Mon","y":55,"value":["Mon","55"]},{"x":"Tues","y":44,"value":["Tues","44"]},{"x":"Wed","y":45,"value":["Wed","45"]},{"x":"Thurs","y":75,"value":["Thurs","75"]},{"x":"Fri","y":37,"value":["Fri","37"]},{"x":"Sat","y":80,"value":["Sat","80"]},{"x":"Sun","y":27,"value":["Sun","27"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_date, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>,
    <span class="dt">mapping =</span> <span class="kw">ecaes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> value))</code></pre></div>
<div id="htmlwidget-90caef6a08118581969b" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-90caef6a08118581969b">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":1483228800000,"y":33,"value":[1483228800000,33]},{"x":1483315200000,"y":976,"value":[1483315200000,976]},{"x":1483401600000,"y":943,"value":[1483401600000,943]},{"x":1483488000000,"y":985,"value":[1483488000000,985]},{"x":1483574400000,"y":164,"value":[1483574400000,164]},{"x":1483660800000,"y":136,"value":[1483660800000,136]},{"x":1483747200000,"y":846,"value":[1483747200000,846]},{"x":1483833600000,"y":945,"value":[1483833600000,945]},{"x":1483920000000,"y":244,"value":[1483920000000,244]},{"x":1484006400000,"y":608,"value":[1484006400000,608]},{"x":1484092800000,"y":362,"value":[1484092800000,362]},{"x":1484179200000,"y":45,"value":[1484179200000,45]},{"x":1484265600000,"y":715,"value":[1484265600000,715]},{"x":1484352000000,"y":642,"value":[1484352000000,642]},{"x":1484438400000,"y":403,"value":[1484438400000,403]},{"x":1484524800000,"y":725,"value":[1484524800000,725]},{"x":1484611200000,"y":607,"value":[1484611200000,607]},{"x":1484697600000,"y":797,"value":[1484697600000,797]},{"x":1484784000000,"y":337,"value":[1484784000000,337]},{"x":1484870400000,"y":866,"value":[1484870400000,866]},{"x":1484956800000,"y":861,"value":[1484956800000,861]},{"x":1485043200000,"y":134,"value":[1485043200000,134]},{"x":1485129600000,"y":375,"value":[1485129600000,375]},{"x":1485216000000,"y":792,"value":[1485216000000,792]},{"x":1485302400000,"y":272,"value":[1485302400000,272]},{"x":1485388800000,"y":145,"value":[1485388800000,145]},{"x":1485475200000,"y":833,"value":[1485475200000,833]},{"x":1485561600000,"y":215,"value":[1485561600000,215]},{"x":1485648000000,"y":179,"value":[1485648000000,179]},{"x":1485734400000,"y":214,"value":[1485734400000,214]},{"x":1485820800000,"y":701,"value":[1485820800000,701]},{"x":1485907200000,"y":935,"value":[1485907200000,935]},{"x":1485993600000,"y":34,"value":[1485993600000,34]},{"x":1486080000000,"y":559,"value":[1486080000000,559]},{"x":1486166400000,"y":850,"value":[1486166400000,850]},{"x":1486252800000,"y":867,"value":[1486252800000,867]},{"x":1486339200000,"y":204,"value":[1486339200000,204]},{"x":1486425600000,"y":668,"value":[1486425600000,668]},{"x":1486512000000,"y":919,"value":[1486512000000,919]},{"x":1486598400000,"y":272,"value":[1486598400000,272]},{"x":1486684800000,"y":246,"value":[1486684800000,246]},{"x":1486771200000,"y":545,"value":[1486771200000,545]},{"x":1486857600000,"y":9,"value":[1486857600000,9]},{"x":1486944000000,"y":704,"value":[1486944000000,704]},{"x":1487030400000,"y":256,"value":[1487030400000,256]},{"x":1487116800000,"y":108,"value":[1487116800000,108]},{"x":1487203200000,"y":841,"value":[1487203200000,841]},{"x":1487289600000,"y":357,"value":[1487289600000,357]},{"x":1487376000000,"y":139,"value":[1487376000000,139]},{"x":1487462400000,"y":188,"value":[1487462400000,188]},{"x":1487548800000,"y":429,"value":[1487548800000,429]},{"x":1487635200000,"y":977,"value":[1487635200000,977]},{"x":1487721600000,"y":162,"value":[1487721600000,162]},{"x":1487808000000,"y":117,"value":[1487808000000,117]},{"x":1487894400000,"y":591,"value":[1487894400000,591]},{"x":1487980800000,"y":564,"value":[1487980800000,564]},{"x":1488067200000,"y":298,"value":[1488067200000,298]},{"x":1488153600000,"y":505,"value":[1488153600000,505]},{"x":1488240000000,"y":267,"value":[1488240000000,267]},{"x":1488326400000,"y":596,"value":[1488326400000,596]},{"x":1488412800000,"y":364,"value":[1488412800000,364]},{"x":1488499200000,"y":951,"value":[1488499200000,951]},{"x":1488585600000,"y":798,"value":[1488585600000,798]},{"x":1488672000000,"y":586,"value":[1488672000000,586]},{"x":1488758400000,"y":11,"value":[1488758400000,11]},{"x":1488844800000,"y":135,"value":[1488844800000,135]},{"x":1488931200000,"y":571,"value":[1488931200000,571]},{"x":1489017600000,"y":167,"value":[1489017600000,167]},{"x":1489104000000,"y":474,"value":[1489104000000,474]},{"x":1489190400000,"y":893,"value":[1489190400000,893]},{"x":1489276800000,"y":177,"value":[1489276800000,177]},{"x":1489363200000,"y":40,"value":[1489363200000,40]},{"x":1489449600000,"y":205,"value":[1489449600000,205]},{"x":1489536000000,"y":413,"value":[1489536000000,413]},{"x":1489622400000,"y":664,"value":[1489622400000,664]},{"x":1489708800000,"y":46,"value":[1489708800000,46]},{"x":1489795200000,"y":771,"value":[1489795200000,771]},{"x":1489881600000,"y":791,"value":[1489881600000,791]},{"x":1489968000000,"y":491,"value":[1489968000000,491]},{"x":1490054400000,"y":815,"value":[1490054400000,815]},{"x":1490140800000,"y":539,"value":[1490140800000,539]},{"x":1490227200000,"y":157,"value":[1490227200000,157]},{"x":1490313600000,"y":69,"value":[1490313600000,69]},{"x":1490400000000,"y":703,"value":[1490400000000,703]},{"x":1490486400000,"y":837,"value":[1490486400000,837]},{"x":1490572800000,"y":788,"value":[1490572800000,788]},{"x":1490659200000,"y":113,"value":[1490659200000,113]},{"x":1490745600000,"y":161,"value":[1490745600000,161]},{"x":1490832000000,"y":15,"value":[1490832000000,15]},{"x":1490918400000,"y":547,"value":[1490918400000,547]},{"x":1491004800000,"y":447,"value":[1491004800000,447]},{"x":1491091200000,"y":10,"value":[1491091200000,10]},{"x":1491177600000,"y":969,"value":[1491177600000,969]},{"x":1491264000000,"y":114,"value":[1491264000000,114]},{"x":1491350400000,"y":731,"value":[1491350400000,731]},{"x":1491436800000,"y":892,"value":[1491436800000,892]},{"x":1491523200000,"y":230,"value":[1491523200000,230]},{"x":1491609600000,"y":436,"value":[1491609600000,436]},{"x":1491696000000,"y":270,"value":[1491696000000,270]},{"x":1491782400000,"y":677,"value":[1491782400000,677]},{"x":1491868800000,"y":786,"value":[1491868800000,786]},{"x":1491955200000,"y":774,"value":[1491955200000,774]},{"x":1492041600000,"y":609,"value":[1492041600000,609]},{"x":1492128000000,"y":923,"value":[1492128000000,923]},{"x":1492214400000,"y":149,"value":[1492214400000,149]},{"x":1492300800000,"y":247,"value":[1492300800000,247]},{"x":1492387200000,"y":408,"value":[1492387200000,408]},{"x":1492473600000,"y":504,"value":[1492473600000,504]},{"x":1492560000000,"y":379,"value":[1492560000000,379]},{"x":1492646400000,"y":764,"value":[1492646400000,764]},{"x":1492732800000,"y":989,"value":[1492732800000,989]},{"x":1492819200000,"y":737,"value":[1492819200000,737]},{"x":1492905600000,"y":734,"value":[1492905600000,734]},{"x":1492992000000,"y":195,"value":[1492992000000,195]},{"x":1493078400000,"y":189,"value":[1493078400000,189]},{"x":1493164800000,"y":798,"value":[1493164800000,798]},{"x":1493251200000,"y":343,"value":[1493251200000,343]},{"x":1493337600000,"y":634,"value":[1493337600000,634]},{"x":1493424000000,"y":321,"value":[1493424000000,321]},{"x":1493510400000,"y":249,"value":[1493510400000,249]},{"x":1493596800000,"y":987,"value":[1493596800000,987]},{"x":1493683200000,"y":644,"value":[1493683200000,644]},{"x":1493769600000,"y":515,"value":[1493769600000,515]},{"x":1493856000000,"y":83,"value":[1493856000000,83]},{"x":1493942400000,"y":130,"value":[1493942400000,130]},{"x":1494028800000,"y":530,"value":[1494028800000,530]},{"x":1494115200000,"y":697,"value":[1494115200000,697]},{"x":1494201600000,"y":934,"value":[1494201600000,934]},{"x":1494288000000,"y":728,"value":[1494288000000,728]},{"x":1494374400000,"y":692,"value":[1494374400000,692]},{"x":1494460800000,"y":645,"value":[1494460800000,645]},{"x":1494547200000,"y":811,"value":[1494547200000,811]},{"x":1494633600000,"y":536,"value":[1494633600000,536]},{"x":1494720000000,"y":426,"value":[1494720000000,426]},{"x":1494806400000,"y":300,"value":[1494806400000,300]},{"x":1494892800000,"y":608,"value":[1494892800000,608]},{"x":1494979200000,"y":441,"value":[1494979200000,441]},{"x":1495065600000,"y":198,"value":[1495065600000,198]},{"x":1495152000000,"y":606,"value":[1495152000000,606]},{"x":1495238400000,"y":977,"value":[1495238400000,977]},{"x":1495324800000,"y":660,"value":[1495324800000,660]},{"x":1495411200000,"y":45,"value":[1495411200000,45]},{"x":1495497600000,"y":620,"value":[1495497600000,620]},{"x":1495584000000,"y":574,"value":[1495584000000,574]},{"x":1495670400000,"y":596,"value":[1495670400000,596]},{"x":1495756800000,"y":708,"value":[1495756800000,708]},{"x":1495843200000,"y":370,"value":[1495843200000,370]},{"x":1495929600000,"y":84,"value":[1495929600000,84]},{"x":1496016000000,"y":538,"value":[1496016000000,538]},{"x":1496102400000,"y":448,"value":[1496102400000,448]},{"x":1496188800000,"y":428,"value":[1496188800000,428]},{"x":1496275200000,"y":543,"value":[1496275200000,543]},{"x":1496361600000,"y":365,"value":[1496361600000,365]},{"x":1496448000000,"y":60,"value":[1496448000000,60]},{"x":1496534400000,"y":701,"value":[1496534400000,701]},{"x":1496620800000,"y":368,"value":[1496620800000,368]},{"x":1496707200000,"y":829,"value":[1496707200000,829]},{"x":1496793600000,"y":264,"value":[1496793600000,264]},{"x":1496880000000,"y":201,"value":[1496880000000,201]},{"x":1496966400000,"y":5,"value":[1496966400000,5]},{"x":1497052800000,"y":170,"value":[1497052800000,170]},{"x":1497139200000,"y":893,"value":[1497139200000,893]},{"x":1497225600000,"y":209,"value":[1497225600000,209]},{"x":1497312000000,"y":705,"value":[1497312000000,705]},{"x":1497398400000,"y":308,"value":[1497398400000,308]},{"x":1497484800000,"y":783,"value":[1497484800000,783]},{"x":1497571200000,"y":24,"value":[1497571200000,24]},{"x":1497657600000,"y":284,"value":[1497657600000,284]},{"x":1497744000000,"y":332,"value":[1497744000000,332]},{"x":1497830400000,"y":400,"value":[1497830400000,400]},{"x":1497916800000,"y":419,"value":[1497916800000,419]},{"x":1498003200000,"y":660,"value":[1498003200000,660]},{"x":1498089600000,"y":333,"value":[1498089600000,333]},{"x":1498176000000,"y":570,"value":[1498176000000,570]},{"x":1498262400000,"y":849,"value":[1498262400000,849]},{"x":1498348800000,"y":941,"value":[1498348800000,941]},{"x":1498435200000,"y":319,"value":[1498435200000,319]},{"x":1498521600000,"y":480,"value":[1498521600000,480]},{"x":1498608000000,"y":753,"value":[1498608000000,753]},{"x":1498694400000,"y":243,"value":[1498694400000,243]},{"x":1498780800000,"y":420,"value":[1498780800000,420]},{"x":1498867200000,"y":855,"value":[1498867200000,855]},{"x":1498953600000,"y":377,"value":[1498953600000,377]},{"x":1499040000000,"y":706,"value":[1499040000000,706]},{"x":1499126400000,"y":378,"value":[1499126400000,378]},{"x":1499212800000,"y":7,"value":[1499212800000,7]},{"x":1499299200000,"y":860,"value":[1499299200000,860]},{"x":1499385600000,"y":124,"value":[1499385600000,124]},{"x":1499472000000,"y":163,"value":[1499472000000,163]},{"x":1499558400000,"y":238,"value":[1499558400000,238]},{"x":1499644800000,"y":939,"value":[1499644800000,939]},{"x":1499731200000,"y":830,"value":[1499731200000,830]},{"x":1499817600000,"y":906,"value":[1499817600000,906]},{"x":1499904000000,"y":428,"value":[1499904000000,428]},{"x":1499990400000,"y":637,"value":[1499990400000,637]},{"x":1500076800000,"y":897,"value":[1500076800000,897]},{"x":1500163200000,"y":641,"value":[1500163200000,641]},{"x":1500249600000,"y":141,"value":[1500249600000,141]},{"x":1500336000000,"y":525,"value":[1500336000000,525]},{"x":1500422400000,"y":789,"value":[1500422400000,789]},{"x":1500508800000,"y":777,"value":[1500508800000,777]},{"x":1500595200000,"y":822,"value":[1500595200000,822]},{"x":1500681600000,"y":864,"value":[1500681600000,864]},{"x":1500768000000,"y":366,"value":[1500768000000,366]},{"x":1500854400000,"y":151,"value":[1500854400000,151]},{"x":1500940800000,"y":165,"value":[1500940800000,165]},{"x":1501027200000,"y":317,"value":[1501027200000,317]},{"x":1501113600000,"y":104,"value":[1501113600000,104]},{"x":1501200000000,"y":735,"value":[1501200000000,735]},{"x":1501286400000,"y":35,"value":[1501286400000,35]},{"x":1501372800000,"y":194,"value":[1501372800000,194]},{"x":1501459200000,"y":90,"value":[1501459200000,90]},{"x":1501545600000,"y":196,"value":[1501545600000,196]},{"x":1501632000000,"y":62,"value":[1501632000000,62]},{"x":1501718400000,"y":422,"value":[1501718400000,422]},{"x":1501804800000,"y":262,"value":[1501804800000,262]},{"x":1501891200000,"y":860,"value":[1501891200000,860]},{"x":1501977600000,"y":150,"value":[1501977600000,150]},{"x":1502064000000,"y":569,"value":[1502064000000,569]},{"x":1502150400000,"y":734,"value":[1502150400000,734]},{"x":1502236800000,"y":346,"value":[1502236800000,346]},{"x":1502323200000,"y":472,"value":[1502323200000,472]},{"x":1502409600000,"y":671,"value":[1502409600000,671]},{"x":1502496000000,"y":429,"value":[1502496000000,429]},{"x":1502582400000,"y":539,"value":[1502582400000,539]},{"x":1502668800000,"y":598,"value":[1502668800000,598]},{"x":1502755200000,"y":979,"value":[1502755200000,979]},{"x":1502841600000,"y":573,"value":[1502841600000,573]},{"x":1502928000000,"y":553,"value":[1502928000000,553]},{"x":1503014400000,"y":295,"value":[1503014400000,295]},{"x":1503100800000,"y":432,"value":[1503100800000,432]},{"x":1503187200000,"y":279,"value":[1503187200000,279]},{"x":1503273600000,"y":98,"value":[1503273600000,98]},{"x":1503360000000,"y":796,"value":[1503360000000,796]},{"x":1503446400000,"y":493,"value":[1503446400000,493]},{"x":1503532800000,"y":149,"value":[1503532800000,149]},{"x":1503619200000,"y":446,"value":[1503619200000,446]},{"x":1503705600000,"y":440,"value":[1503705600000,440]},{"x":1503792000000,"y":705,"value":[1503792000000,705]},{"x":1503878400000,"y":333,"value":[1503878400000,333]},{"x":1503964800000,"y":646,"value":[1503964800000,646]},{"x":1504051200000,"y":331,"value":[1504051200000,331]},{"x":1504137600000,"y":278,"value":[1504137600000,278]},{"x":1504224000000,"y":438,"value":[1504224000000,438]},{"x":1504310400000,"y":28,"value":[1504310400000,28]},{"x":1504396800000,"y":199,"value":[1504396800000,199]},{"x":1504483200000,"y":875,"value":[1504483200000,875]},{"x":1504569600000,"y":191,"value":[1504569600000,191]},{"x":1504656000000,"y":37,"value":[1504656000000,37]},{"x":1504742400000,"y":960,"value":[1504742400000,960]},{"x":1504828800000,"y":102,"value":[1504828800000,102]},{"x":1504915200000,"y":97,"value":[1504915200000,97]},{"x":1505001600000,"y":536,"value":[1505001600000,536]},{"x":1505088000000,"y":140,"value":[1505088000000,140]},{"x":1505174400000,"y":59,"value":[1505174400000,59]},{"x":1505260800000,"y":348,"value":[1505260800000,348]},{"x":1505347200000,"y":881,"value":[1505347200000,881]},{"x":1505433600000,"y":410,"value":[1505433600000,410]},{"x":1505520000000,"y":49,"value":[1505520000000,49]},{"x":1505606400000,"y":199,"value":[1505606400000,199]},{"x":1505692800000,"y":159,"value":[1505692800000,159]},{"x":1505779200000,"y":704,"value":[1505779200000,704]},{"x":1505865600000,"y":925,"value":[1505865600000,925]},{"x":1505952000000,"y":970,"value":[1505952000000,970]},{"x":1506038400000,"y":3,"value":[1506038400000,3]},{"x":1506124800000,"y":43,"value":[1506124800000,43]},{"x":1506211200000,"y":196,"value":[1506211200000,196]},{"x":1506297600000,"y":498,"value":[1506297600000,498]},{"x":1506384000000,"y":978,"value":[1506384000000,978]},{"x":1506470400000,"y":222,"value":[1506470400000,222]},{"x":1506556800000,"y":604,"value":[1506556800000,604]},{"x":1506643200000,"y":841,"value":[1506643200000,841]},{"x":1506729600000,"y":703,"value":[1506729600000,703]},{"x":1506816000000,"y":752,"value":[1506816000000,752]},{"x":1506902400000,"y":401,"value":[1506902400000,401]},{"x":1506988800000,"y":203,"value":[1506988800000,203]},{"x":1507075200000,"y":655,"value":[1507075200000,655]},{"x":1507161600000,"y":153,"value":[1507161600000,153]},{"x":1507248000000,"y":823,"value":[1507248000000,823]},{"x":1507334400000,"y":340,"value":[1507334400000,340]},{"x":1507420800000,"y":48,"value":[1507420800000,48]},{"x":1507507200000,"y":207,"value":[1507507200000,207]},{"x":1507593600000,"y":135,"value":[1507593600000,135]},{"x":1507680000000,"y":910,"value":[1507680000000,910]},{"x":1507766400000,"y":46,"value":[1507766400000,46]},{"x":1507852800000,"y":496,"value":[1507852800000,496]},{"x":1507939200000,"y":520,"value":[1507939200000,520]},{"x":1508025600000,"y":864,"value":[1508025600000,864]},{"x":1508112000000,"y":366,"value":[1508112000000,366]},{"x":1508198400000,"y":353,"value":[1508198400000,353]},{"x":1508284800000,"y":54,"value":[1508284800000,54]},{"x":1508371200000,"y":478,"value":[1508371200000,478]},{"x":1508457600000,"y":767,"value":[1508457600000,767]},{"x":1508544000000,"y":533,"value":[1508544000000,533]},{"x":1508630400000,"y":41,"value":[1508630400000,41]},{"x":1508716800000,"y":171,"value":[1508716800000,171]},{"x":1508803200000,"y":955,"value":[1508803200000,955]},{"x":1508889600000,"y":37,"value":[1508889600000,37]},{"x":1508976000000,"y":934,"value":[1508976000000,934]},{"x":1509062400000,"y":747,"value":[1509062400000,747]},{"x":1509148800000,"y":96,"value":[1509148800000,96]},{"x":1509235200000,"y":164,"value":[1509235200000,164]},{"x":1509321600000,"y":197,"value":[1509321600000,197]},{"x":1509408000000,"y":648,"value":[1509408000000,648]},{"x":1509494400000,"y":752,"value":[1509494400000,752]},{"x":1509580800000,"y":745,"value":[1509580800000,745]},{"x":1509667200000,"y":235,"value":[1509667200000,235]},{"x":1509753600000,"y":320,"value":[1509753600000,320]},{"x":1509840000000,"y":107,"value":[1509840000000,107]},{"x":1509926400000,"y":143,"value":[1509926400000,143]},{"x":1510012800000,"y":103,"value":[1510012800000,103]},{"x":1510099200000,"y":898,"value":[1510099200000,898]},{"x":1510185600000,"y":80,"value":[1510185600000,80]},{"x":1510272000000,"y":402,"value":[1510272000000,402]},{"x":1510358400000,"y":837,"value":[1510358400000,837]},{"x":1510444800000,"y":345,"value":[1510444800000,345]},{"x":1510531200000,"y":408,"value":[1510531200000,408]},{"x":1510617600000,"y":704,"value":[1510617600000,704]},{"x":1510704000000,"y":297,"value":[1510704000000,297]},{"x":1510790400000,"y":422,"value":[1510790400000,422]},{"x":1510876800000,"y":45,"value":[1510876800000,45]},{"x":1510963200000,"y":740,"value":[1510963200000,740]},{"x":1511049600000,"y":951,"value":[1511049600000,951]},{"x":1511136000000,"y":695,"value":[1511136000000,695]},{"x":1511222400000,"y":455,"value":[1511222400000,455]},{"x":1511308800000,"y":178,"value":[1511308800000,178]},{"x":1511395200000,"y":792,"value":[1511395200000,792]},{"x":1511481600000,"y":434,"value":[1511481600000,434]},{"x":1511568000000,"y":565,"value":[1511568000000,565]},{"x":1511654400000,"y":792,"value":[1511654400000,792]},{"x":1511740800000,"y":935,"value":[1511740800000,935]},{"x":1511827200000,"y":417,"value":[1511827200000,417]},{"x":1511913600000,"y":34,"value":[1511913600000,34]},{"x":1512000000000,"y":70,"value":[1512000000000,70]},{"x":1512086400000,"y":520,"value":[1512086400000,520]},{"x":1512172800000,"y":505,"value":[1512172800000,505]},{"x":1512259200000,"y":588,"value":[1512259200000,588]},{"x":1512345600000,"y":608,"value":[1512345600000,608]},{"x":1512432000000,"y":622,"value":[1512432000000,622]},{"x":1512518400000,"y":851,"value":[1512518400000,851]},{"x":1512604800000,"y":198,"value":[1512604800000,198]},{"x":1512691200000,"y":671,"value":[1512691200000,671]},{"x":1512777600000,"y":648,"value":[1512777600000,648]},{"x":1512864000000,"y":97,"value":[1512864000000,97]},{"x":1512950400000,"y":853,"value":[1512950400000,853]},{"x":1513036800000,"y":153,"value":[1513036800000,153]},{"x":1513123200000,"y":496,"value":[1513123200000,496]},{"x":1513209600000,"y":190,"value":[1513209600000,190]},{"x":1513296000000,"y":918,"value":[1513296000000,918]},{"x":1513382400000,"y":530,"value":[1513382400000,530]},{"x":1513468800000,"y":868,"value":[1513468800000,868]},{"x":1513555200000,"y":152,"value":[1513555200000,152]},{"x":1513641600000,"y":14,"value":[1513641600000,14]},{"x":1513728000000,"y":792,"value":[1513728000000,792]},{"x":1513814400000,"y":422,"value":[1513814400000,422]},{"x":1513900800000,"y":656,"value":[1513900800000,656]},{"x":1513987200000,"y":592,"value":[1513987200000,592]},{"x":1514073600000,"y":753,"value":[1514073600000,753]},{"x":1514160000000,"y":57,"value":[1514160000000,57]},{"x":1514246400000,"y":365,"value":[1514246400000,365]},{"x":1514332800000,"y":883,"value":[1514332800000,883]},{"x":1514419200000,"y":614,"value":[1514419200000,614]},{"x":1514505600000,"y":184,"value":[1514505600000,184]},{"x":1514592000000,"y":240,"value":[1514592000000,240]},{"x":1514678400000,"y":952,"value":[1514678400000,952]}],"type":"line"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.numeric" class="section level3">
<h3><span class="header-section-number">4.13.3</span> ec_add_series.numeric</h3>
<p>不需要设置mapping</p>
<p>echarts没有xAxis的情况</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat_numeric &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">20</span>, <span class="dv">0</span>, <span class="dv">10</span>), <span class="dv">0</span>)

<span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat_numeric, <span class="dt">type =</span> <span class="st">&#39;bar&#39;</span>)</code></pre></div>
<div id="htmlwidget-9fd932aba518da277e30" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-9fd932aba518da277e30">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"0","y":1,"value":["0","1"]},{"x":"1","y":5,"value":["1","5"]},{"x":"2","y":2,"value":["2","2"]},{"x":"3","y":2,"value":["3","2"]},{"x":"4","y":2,"value":["4","2"]},{"x":"5","y":1,"value":["5","1"]},{"x":"6","y":1,"value":["6","1"]},{"x":"7","y":4,"value":["7","4"]},{"x":"9","y":1,"value":["9","1"]},{"x":"10","y":1,"value":["10","1"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
<p>echarts提前设置xAxis的情况</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_xAxis</span>(
    <span class="dt">type =</span> <span class="st">&#39;category&#39;</span>, 
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tues&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thurs&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>,<span class="st">&#39;Sun&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">type =</span> <span class="st">&#39;value&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">type =</span> <span class="st">&#39;line&#39;</span>, <span class="dt">name =</span> <span class="st">&#39;Pear&#39;</span>,
    <span class="dt">data =</span> <span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">25</span>, <span class="dv">16</span>, <span class="dv">20</span>, <span class="dv">16</span>, <span class="dv">22</span>))</code></pre></div>
<div id="htmlwidget-eb87de2603ca6ca897c0" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-eb87de2603ca6ca897c0">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category","data":["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"]},"yAxis":{"type":"value"},"series":{"data":[15,15,25,16,20,16,22],"type":"line","name":"Pear"}},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.character" class="section level3">
<h3><span class="header-section-number">4.13.4</span> ec_add_series.character</h3>
<p>不需要设置mapping</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> dat<span class="op">$</span>fruit, <span class="dt">type =</span> <span class="st">&#39;bar&#39;</span>)</code></pre></div>
<div id="htmlwidget-0e5de19d2f3df3341907" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-0e5de19d2f3df3341907">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"category"},"yAxis":{"type":"value"},"series":[{"group":"group","data":[{"x":"Apple","y":7,"value":["Apple","7"]},{"x":"Banana","y":7,"value":["Banana","7"]},{"x":"Pear","y":7,"value":["Pear","7"]}],"type":"bar"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.ts" class="section level3">
<h3><span class="header-section-number">4.13.5</span> ec_add_series.ts</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(
    <span class="dt">data =</span> LakeHuron, <span class="dt">type =</span> <span class="st">&quot;line&quot;</span>) <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">  </span><span class="kw">ec_yAxis</span>(<span class="dt">min =</span> <span class="st">&#39;dataMin&#39;</span>)</code></pre></div>
<div id="htmlwidget-371dbb40bba4a61575b7" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-371dbb40bba4a61575b7">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"}},"xAxis":{"type":"time"},"yAxis":{"type":"value","min":"dataMin"},"series":[{"group":"group","data":[{"x":-2997907200000,"y":580.38,"value":[-2997907200000,580.38]},{"x":-2966371200000,"y":581.86,"value":[-2966371200000,581.86]},{"x":-2934748800000,"y":580.97,"value":[-2934748800000,580.97]},{"x":-2903212800000,"y":580.8,"value":[-2903212800000,580.8]},{"x":-2871676800000,"y":579.79,"value":[-2871676800000,579.79]},{"x":-2840140800000,"y":580.39,"value":[-2840140800000,580.39]},{"x":-2808518400000,"y":580.42,"value":[-2808518400000,580.42]},{"x":-2776982400000,"y":580.82,"value":[-2776982400000,580.82]},{"x":-2745446400000,"y":581.4,"value":[-2745446400000,581.4]},{"x":-2713910400000,"y":581.32,"value":[-2713910400000,581.32]},{"x":-2682288000000,"y":581.44,"value":[-2682288000000,581.44]},{"x":-2650752000000,"y":581.68,"value":[-2650752000000,581.68]},{"x":-2619216000000,"y":581.17,"value":[-2619216000000,581.17]},{"x":-2587680000000,"y":580.53,"value":[-2587680000000,580.53]},{"x":-2556057600000,"y":580.01,"value":[-2556057600000,580.01]},{"x":-2524521600000,"y":579.91,"value":[-2524521600000,579.91]},{"x":-2492985600000,"y":579.14,"value":[-2492985600000,579.14]},{"x":-2461449600000,"y":579.16,"value":[-2461449600000,579.16]},{"x":-2429827200000,"y":579.55,"value":[-2429827200000,579.55]},{"x":-2398291200000,"y":579.67,"value":[-2398291200000,579.67]},{"x":-2366755200000,"y":578.44,"value":[-2366755200000,578.44]},{"x":-2335219200000,"y":578.24,"value":[-2335219200000,578.24]},{"x":-2303596800000,"y":579.1,"value":[-2303596800000,579.1]},{"x":-2272060800000,"y":579.09,"value":[-2272060800000,579.09]},{"x":-2240524800000,"y":579.35,"value":[-2240524800000,579.35]},{"x":-2208988800000,"y":578.82,"value":[-2208988800000,578.82]},{"x":-2177452800000,"y":579.32,"value":[-2177452800000,579.32]},{"x":-2145916800000,"y":579.01,"value":[-2145916800000,579.01]},{"x":-2114380800000,"y":579,"value":[-2114380800000,579]},{"x":-2082844800000,"y":579.8,"value":[-2082844800000,579.8]},{"x":-2051222400000,"y":579.83,"value":[-2051222400000,579.83]},{"x":-2019686400000,"y":579.72,"value":[-2019686400000,579.72]},{"x":-1988150400000,"y":579.89,"value":[-1988150400000,579.89]},{"x":-1956614400000,"y":580.01,"value":[-1956614400000,580.01]},{"x":-1924992000000,"y":579.37,"value":[-1924992000000,579.37]},{"x":-1893456000000,"y":578.69,"value":[-1893456000000,578.69]},{"x":-1861920000000,"y":578.19,"value":[-1861920000000,578.19]},{"x":-1830384000000,"y":578.67,"value":[-1830384000000,578.67]},{"x":-1798761600000,"y":579.55,"value":[-1798761600000,579.55]},{"x":-1767225600000,"y":578.92,"value":[-1767225600000,578.92]},{"x":-1735689600000,"y":578.09,"value":[-1735689600000,578.09]},{"x":-1704153600000,"y":579.37,"value":[-1704153600000,579.37]},{"x":-1672531200000,"y":580.13,"value":[-1672531200000,580.13]},{"x":-1640995200000,"y":580.14,"value":[-1640995200000,580.14]},{"x":-1609459200000,"y":579.51,"value":[-1609459200000,579.51]},{"x":-1577923200000,"y":579.24,"value":[-1577923200000,579.24]},{"x":-1546300800000,"y":578.66,"value":[-1546300800000,578.66]},{"x":-1514764800000,"y":578.86,"value":[-1514764800000,578.86]},{"x":-1483228800000,"y":578.05,"value":[-1483228800000,578.05]},{"x":-1451692800000,"y":577.79,"value":[-1451692800000,577.79]},{"x":-1420070400000,"y":576.75,"value":[-1420070400000,576.75]},{"x":-1388534400000,"y":576.75,"value":[-1388534400000,576.75]},{"x":-1356998400000,"y":577.82,"value":[-1356998400000,577.82]},{"x":-1325462400000,"y":578.64,"value":[-1325462400000,578.64]},{"x":-1293840000000,"y":580.58,"value":[-1293840000000,580.58]},{"x":-1262304000000,"y":579.48,"value":[-1262304000000,579.48]},{"x":-1230768000000,"y":577.38,"value":[-1230768000000,577.38]},{"x":-1199232000000,"y":576.9,"value":[-1199232000000,576.9]},{"x":-1167609600000,"y":576.94,"value":[-1167609600000,576.94]},{"x":-1136073600000,"y":576.24,"value":[-1136073600000,576.24]},{"x":-1104537600000,"y":576.84,"value":[-1104537600000,576.84]},{"x":-1073001600000,"y":576.85,"value":[-1073001600000,576.85]},{"x":-1041379200000,"y":576.9,"value":[-1041379200000,576.9]},{"x":-1009843200000,"y":577.79,"value":[-1009843200000,577.79]},{"x":-978307200000,"y":578.18,"value":[-978307200000,578.18]},{"x":-946771200000,"y":577.51,"value":[-946771200000,577.51]},{"x":-915148800000,"y":577.23,"value":[-915148800000,577.23]},{"x":-883612800000,"y":578.42,"value":[-883612800000,578.42]},{"x":-852076800000,"y":579.61,"value":[-852076800000,579.61]},{"x":-820540800000,"y":579.05,"value":[-820540800000,579.05]},{"x":-788918400000,"y":579.26,"value":[-788918400000,579.26]},{"x":-757382400000,"y":579.22,"value":[-757382400000,579.22]},{"x":-725846400000,"y":579.38,"value":[-725846400000,579.38]},{"x":-694310400000,"y":579.1,"value":[-694310400000,579.1]},{"x":-662688000000,"y":577.95,"value":[-662688000000,577.95]},{"x":-631152000000,"y":578.12,"value":[-631152000000,578.12]},{"x":-599616000000,"y":579.75,"value":[-599616000000,579.75]},{"x":-568080000000,"y":580.85,"value":[-568080000000,580.85]},{"x":-536457600000,"y":580.41,"value":[-536457600000,580.41]},{"x":-504921600000,"y":579.96,"value":[-504921600000,579.96]},{"x":-473385600000,"y":579.61,"value":[-473385600000,579.61]},{"x":-441849600000,"y":578.76,"value":[-441849600000,578.76]},{"x":-410227200000,"y":578.18,"value":[-410227200000,578.18]},{"x":-378691200000,"y":577.21,"value":[-378691200000,577.21]},{"x":-347155200000,"y":577.13,"value":[-347155200000,577.13]},{"x":-315619200000,"y":579.1,"value":[-315619200000,579.1]},{"x":-283996800000,"y":578.25,"value":[-283996800000,578.25]},{"x":-252460800000,"y":577.91,"value":[-252460800000,577.91]},{"x":-220924800000,"y":576.89,"value":[-220924800000,576.89]},{"x":-189388800000,"y":575.96,"value":[-189388800000,575.96]},{"x":-157766400000,"y":576.8,"value":[-157766400000,576.8]},{"x":-126230400000,"y":577.68,"value":[-126230400000,577.68]},{"x":-94694400000,"y":578.38,"value":[-94694400000,578.38]},{"x":-63158400000,"y":578.52,"value":[-63158400000,578.52]},{"x":-31536000000,"y":579.74,"value":[-31536000000,579.74]},{"x":0,"y":579.31,"value":[0,579.31]},{"x":31536000000,"y":579.89,"value":[31536000000,579.89]},{"x":63072000000,"y":579.96,"value":[63072000000,579.96]}],"type":"line"}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="ec_add_series.forecast" class="section level3">
<h3><span class="header-section-number">4.13.6</span> ec_add_series.forecast</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;forecast&quot;</span>)

dat_forecast &lt;-<span class="st"> </span><span class="kw">forecast</span>(<span class="kw">ets</span>(USAccDeaths), <span class="dt">h =</span> <span class="dv">48</span>, <span class="dt">level =</span> <span class="dv">95</span>)

<span class="kw">echart</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ec_add_series</span>(dat_forecast, <span class="dt">addOriginal =</span> <span class="ot">TRUE</span>, <span class="dt">addLevels =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-705e0f1efa52ed87ab42" style="width:100%;height:500px;" class="echarter html-widget"></div>
<script type="application/json" data-for="htmlwidget-705e0f1efa52ed87ab42">{"x":{"opt":{"legend":{"show":true},"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow"},"formatter":"function (params) {if(params[0].seriesIndex === 0) {return params[0].seriesName +': ' + params[0].value[1];}else{return params[0].seriesName + ': ' + params[0].value[1] + '<br />' + params[1].seriesName + ': ' + params[1].value[1] + '<br />' + params[2].seriesName + ': ' + params[2].value[1];}}"},"xAxis":{"type":"time"},"yAxis":{"type":"value"},"series":[{"group":"Original","data":[{"x":94694400000,"y":9007,"value":[94694400000,9007]},{"x":97372800000,"y":8106,"value":[97372800000,8106]},{"x":99792000000,"y":8928,"value":[99792000000,8928]},{"x":102470400000,"y":9137,"value":[102470400000,9137]},{"x":105062400000,"y":10017,"value":[105062400000,10017]},{"x":107740800000,"y":10826,"value":[107740800000,10826]},{"x":110332800000,"y":11317,"value":[110332800000,11317]},{"x":113011200000,"y":10744,"value":[113011200000,10744]},{"x":115689600000,"y":9713,"value":[115689600000,9713]},{"x":118281600000,"y":9938,"value":[118281600000,9938]},{"x":120960000000,"y":9161,"value":[120960000000,9161]},{"x":123552000000,"y":8927,"value":[123552000000,8927]},{"x":126230400000,"y":7750,"value":[126230400000,7750]},{"x":128908800000,"y":6981,"value":[128908800000,6981]},{"x":131328000000,"y":8038,"value":[131328000000,8038]},{"x":134006400000,"y":8422,"value":[134006400000,8422]},{"x":136598400000,"y":8714,"value":[136598400000,8714]},{"x":139276800000,"y":9512,"value":[139276800000,9512]},{"x":141868800000,"y":10120,"value":[141868800000,10120]},{"x":144547200000,"y":9823,"value":[144547200000,9823]},{"x":147225600000,"y":8743,"value":[147225600000,8743]},{"x":149817600000,"y":9129,"value":[149817600000,9129]},{"x":152496000000,"y":8710,"value":[152496000000,8710]},{"x":155088000000,"y":8680,"value":[155088000000,8680]},{"x":157766400000,"y":8162,"value":[157766400000,8162]},{"x":160444800000,"y":7306,"value":[160444800000,7306]},{"x":162864000000,"y":8124,"value":[162864000000,8124]},{"x":165542400000,"y":7870,"value":[165542400000,7870]},{"x":168134400000,"y":9387,"value":[168134400000,9387]},{"x":170812800000,"y":9556,"value":[170812800000,9556]},{"x":173404800000,"y":10093,"value":[173404800000,10093]},{"x":176083200000,"y":9620,"value":[176083200000,9620]},{"x":178761600000,"y":8285,"value":[178761600000,8285]},{"x":181353600000,"y":8466,"value":[181353600000,8466]},{"x":184032000000,"y":8160,"value":[184032000000,8160]},{"x":186624000000,"y":8034,"value":[186624000000,8034]},{"x":189302400000,"y":7717,"value":[189302400000,7717]},{"x":191980800000,"y":7461,"value":[191980800000,7461]},{"x":194486400000,"y":7767,"value":[194486400000,7767]},{"x":197164800000,"y":7925,"value":[197164800000,7925]},{"x":199756800000,"y":8623,"value":[199756800000,8623]},{"x":202435200000,"y":8945,"value":[202435200000,8945]},{"x":205027200000,"y":10078,"value":[205027200000,10078]},{"x":207705600000,"y":9179,"value":[207705600000,9179]},{"x":210384000000,"y":8037,"value":[210384000000,8037]},{"x":212976000000,"y":8488,"value":[212976000000,8488]},{"x":215654400000,"y":7874,"value":[215654400000,7874]},{"x":218246400000,"y":8647,"value":[218246400000,8647]},{"x":220924800000,"y":7792,"value":[220924800000,7792]},{"x":223603200000,"y":6957,"value":[223603200000,6957]},{"x":226022400000,"y":7726,"value":[226022400000,7726]},{"x":228700800000,"y":8106,"value":[228700800000,8106]},{"x":231292800000,"y":8890,"value":[231292800000,8890]},{"x":233971200000,"y":9299,"value":[233971200000,9299]},{"x":236563200000,"y":10625,"value":[236563200000,10625]},{"x":239241600000,"y":9302,"value":[239241600000,9302]},{"x":241920000000,"y":8314,"value":[241920000000,8314]},{"x":244512000000,"y":8850,"value":[244512000000,8850]},{"x":247190400000,"y":8265,"value":[247190400000,8265]},{"x":249782400000,"y":8796,"value":[249782400000,8796]},{"x":252460800000,"y":7836,"value":[252460800000,7836]},{"x":255139200000,"y":6892,"value":[255139200000,6892]},{"x":257558400000,"y":7791,"value":[257558400000,7791]},{"x":260236800000,"y":8192,"value":[260236800000,8192]},{"x":262828800000,"y":9115,"value":[262828800000,9115]},{"x":265507200000,"y":9434,"value":[265507200000,9434]},{"x":268099200000,"y":10484,"value":[268099200000,10484]},{"x":270777600000,"y":9827,"value":[270777600000,9827]},{"x":273456000000,"y":9110,"value":[273456000000,9110]},{"x":276048000000,"y":9070,"value":[276048000000,9070]},{"x":278726400000,"y":8633,"value":[278726400000,8633]},{"x":281318400000,"y":9240,"value":[281318400000,9240]}],"type":"line","name":"Original","symbolSize":2},{"group":"Forecast Mean","data":[{"x":283996800000,"y":8397.49690922931,"value":[283996800000,8397.49690922931]},{"x":286675200000,"y":7599.22061344404,"value":[286675200000,7599.22061344404]},{"x":289094400000,"y":8396.59468674016,"value":[289094400000,8396.59468674016]},{"x":291772800000,"y":8646.50970321263,"value":[291772800000,8646.50970321263]},{"x":294364800000,"y":9443.41194462183,"value":[294364800000,9443.41194462183]},{"x":297043200000,"y":9893.06472685388,"value":[297043200000,9893.06472685388]},{"x":299635200000,"y":10819.123702944,"value":[299635200000,10819.123702944]},{"x":302313600000,"y":10107.1046313326,"value":[302313600000,10107.1046313326]},{"x":304992000000,"y":9015.23264452447,"value":[304992000000,9015.23264452447]},{"x":307584000000,"y":9354.40737514992,"value":[307584000000,9354.40737514992]},{"x":310262400000,"y":8880.41769524808,"value":[310262400000,8880.41769524808]},{"x":312854400000,"y":9085.49210394574,"value":[312854400000,9085.49210394574]},{"x":315532800000,"y":8397.49690922931,"value":[315532800000,8397.49690922931]},{"x":318211200000,"y":7599.22061344404,"value":[318211200000,7599.22061344404]},{"x":320716800000,"y":8396.59468674016,"value":[320716800000,8396.59468674016]},{"x":323395200000,"y":8646.50970321263,"value":[323395200000,8646.50970321263]},{"x":325987200000,"y":9443.41194462183,"value":[325987200000,9443.41194462183]},{"x":328665600000,"y":9893.06472685388,"value":[328665600000,9893.06472685388]},{"x":331257600000,"y":10819.123702944,"value":[331257600000,10819.123702944]},{"x":333936000000,"y":10107.1046313326,"value":[333936000000,10107.1046313326]},{"x":336614400000,"y":9015.23264452447,"value":[336614400000,9015.23264452447]},{"x":339206400000,"y":9354.40737514992,"value":[339206400000,9354.40737514992]},{"x":341884800000,"y":8880.41769524808,"value":[341884800000,8880.41769524808]},{"x":344476800000,"y":9085.49210394574,"value":[344476800000,9085.49210394574]},{"x":347155200000,"y":8397.49690922931,"value":[347155200000,8397.49690922931]},{"x":349833600000,"y":7599.22061344404,"value":[349833600000,7599.22061344404]},{"x":352252800000,"y":8396.59468674016,"value":[352252800000,8396.59468674016]},{"x":354931200000,"y":8646.50970321263,"value":[354931200000,8646.50970321263]},{"x":357523200000,"y":9443.41194462183,"value":[357523200000,9443.41194462183]},{"x":360201600000,"y":9893.06472685388,"value":[360201600000,9893.06472685388]},{"x":362793600000,"y":10819.123702944,"value":[362793600000,10819.123702944]},{"x":365472000000,"y":10107.1046313326,"value":[365472000000,10107.1046313326]},{"x":368150400000,"y":9015.23264452447,"value":[368150400000,9015.23264452447]},{"x":370742400000,"y":9354.40737514992,"value":[370742400000,9354.40737514992]},{"x":373420800000,"y":8880.41769524808,"value":[373420800000,8880.41769524808]},{"x":376012800000,"y":9085.49210394574,"value":[376012800000,9085.49210394574]},{"x":378691200000,"y":8397.49690922931,"value":[378691200000,8397.49690922931]},{"x":381369600000,"y":7599.22061344404,"value":[381369600000,7599.22061344404]},{"x":383788800000,"y":8396.59468674016,"value":[383788800000,8396.59468674016]},{"x":386467200000,"y":8646.50970321263,"value":[386467200000,8646.50970321263]},{"x":389059200000,"y":9443.41194462183,"value":[389059200000,9443.41194462183]},{"x":391737600000,"y":9893.06472685388,"value":[391737600000,9893.06472685388]},{"x":394329600000,"y":10819.123702944,"value":[394329600000,10819.123702944]},{"x":397008000000,"y":10107.1046313326,"value":[397008000000,10107.1046313326]},{"x":399686400000,"y":9015.23264452447,"value":[399686400000,9015.23264452447]},{"x":402278400000,"y":9354.40737514992,"value":[402278400000,9354.40737514992]},{"x":404956800000,"y":8880.41769524808,"value":[404956800000,8880.41769524808]},{"x":407548800000,"y":9085.49210394574,"value":[407548800000,9085.49210394574]}],"type":"line","name":"Forecast Mean","symbolSize":2},{"group":"Upper","data":[{"x":283996800000,"y":8971.16017481354,"value":[283996800000,8971.16017481354]},{"x":286675200000,"y":8266.62972133669,"value":[286675200000,8266.62972133669]},{"x":289094400000,"y":9146.11472804351,"value":[289094400000,9146.11472804351]},{"x":291772800000,"y":9469.99356300143,"value":[291772800000,9469.99356300143]},{"x":294364800000,"y":10334.7429955507,"value":[294364800000,10334.7429955507]},{"x":297043200000,"y":10847.431751309,"value":[297043200000,10847.431751309]},{"x":299635200000,"y":11832.6136103356,"value":[299635200000,11832.6136103356]},{"x":302313600000,"y":11176.4535769074,"value":[302313600000,11176.4535769074]},{"x":304992000000,"y":10137.6641758079,"value":[304992000000,10137.6641758079]},{"x":307584000000,"y":10527.5219976129,"value":[307584000000,10527.5219976129]},{"x":310262400000,"y":10102.1145858285,"value":[310262400000,10102.1145858285]},{"x":312854400000,"y":10354.2253496942,"value":[312854400000,10354.2253496942]},{"x":315532800000,"y":9711.28129941088,"value":[315532800000,9711.28129941088]},{"x":318211200000,"y":8956.56169029321,"value":[318211200000,8956.56169029321]},{"x":320716800000,"y":9796.13753135742,"value":[320716800000,9796.13753135742]},{"x":323395200000,"y":10087.0184844898,"value":[323395200000,10087.0184844898]},{"x":325987200000,"y":10923.7534335878,"value":[325987200000,10923.7534335878]},{"x":328665600000,"y":11412.1948394418,"value":[328665600000,11412.1948394418]},{"x":331257600000,"y":12376.0763913673,"value":[331257600000,12376.0763913673]},{"x":333936000000,"y":11700.9826219598,"value":[333936000000,11700.9826219598]},{"x":336614400000,"y":10645.1996454245,"value":[336614400000,10645.1996454245]},{"x":339206400000,"y":11019.6814664155,"value":[339206400000,11019.6814664155]},{"x":341884800000,"y":10580.2656808214,"value":[341884800000,10580.2656808214]},{"x":344476800000,"y":10819.4540211952,"value":[344476800000,10819.4540211952]},{"x":347155200000,"y":10164.6894017124,"value":[347155200000,10164.6894017124]},{"x":349833600000,"y":9399.03023685038,"value":[349833600000,9399.03023685038]},{"x":352252800000,"y":10228.4407652968,"value":[352252800000,10228.4407652968]},{"x":354931200000,"y":10509.841512242,"value":[354931200000,10509.841512242]},{"x":357523200000,"y":11337.7062210103,"value":[357523200000,11337.7062210103]},{"x":360201600000,"y":11817.8234599358,"value":[360201600000,11817.8234599358]},{"x":362793600000,"y":12773.8721664535,"value":[362793600000,12773.8721664535]},{"x":365472000000,"y":12091.3896236182,"value":[365472000000,12091.3896236182]},{"x":368150400000,"y":11028.6209095214,"value":[368150400000,11028.6209095214]},{"x":370742400000,"y":11396.4841809152,"value":[370742400000,11396.4841809152]},{"x":373420800000,"y":10950.7855504037,"value":[373420800000,10950.7855504037]},{"x":376012800000,"y":11183.9591187152,"value":[376012800000,11183.9591187152]},{"x":378691200000,"y":10523.5047142697,"value":[378691200000,10523.5047142697]},{"x":381369600000,"y":9752.41697283862,"value":[381369600000,9752.41697283862]},{"x":383788800000,"y":10576.6405433972,"value":[383788800000,10576.6405433972]},{"x":386467200000,"y":10853.0783770011,"value":[386467200000,10853.0783770011]},{"x":389059200000,"y":11676.1883971943,"value":[389059200000,11676.1883971943]},{"x":391737600000,"y":12151.7448861901,"value":[391737600000,12151.7448861901]},{"x":394329600000,"y":13103.4138415202,"value":[394329600000,13103.4138415202]},{"x":397008000000,"y":12416.7207925624,"value":[397008000000,12416.7207925624]},{"x":399686400000,"y":11349.9001127587,"value":[399686400000,11349.9001127587]},{"x":402278400000,"y":11713.8601850719,"value":[402278400000,11713.8601850719]},{"x":404956800000,"y":11264.3981769773,"value":[404956800000,11264.3981769773]},{"x":407548800000,"y":11493.9155911422,"value":[407548800000,11493.9155911422]}],"name":"Upper","type":"line","itemStyle":{"color":"#000"},"lineStyle":{"color":"#000","width":1,"type":"dotted","opacity":0.8},"symbolSize":1},{"group":"Lower","data":[{"x":283996800000,"y":7823.83364364509,"value":[283996800000,7823.83364364509]},{"x":286675200000,"y":6931.81150555139,"value":[286675200000,6931.81150555139]},{"x":289094400000,"y":7647.07464543682,"value":[289094400000,7647.07464543682]},{"x":291772800000,"y":7823.02584342382,"value":[291772800000,7823.02584342382]},{"x":294364800000,"y":8552.08089369296,"value":[294364800000,8552.08089369296]},{"x":297043200000,"y":8938.69770239878,"value":[297043200000,8938.69770239878]},{"x":299635200000,"y":9805.63379555245,"value":[299635200000,9805.63379555245]},{"x":302313600000,"y":9037.75568575783,"value":[302313600000,9037.75568575783]},{"x":304992000000,"y":7892.80111324107,"value":[304992000000,7892.80111324107]},{"x":307584000000,"y":8181.29275268693,"value":[307584000000,8181.29275268693]},{"x":310262400000,"y":7658.72080466769,"value":[310262400000,7658.72080466769]},{"x":312854400000,"y":7816.75885819727,"value":[312854400000,7816.75885819727]},{"x":315532800000,"y":7083.71251904774,"value":[315532800000,7083.71251904774]},{"x":318211200000,"y":6241.87953659487,"value":[318211200000,6241.87953659487]},{"x":320716800000,"y":6997.05184212291,"value":[320716800000,6997.05184212291]},{"x":323395200000,"y":7206.00092193545,"value":[323395200000,7206.00092193545]},{"x":325987200000,"y":7963.07045565586,"value":[325987200000,7963.07045565586]},{"x":328665600000,"y":8373.93461426599,"value":[328665600000,8373.93461426599]},{"x":331257600000,"y":9262.17101452071,"value":[331257600000,9262.17101452071]},{"x":333936000000,"y":8513.22664070538,"value":[333936000000,8513.22664070538]},{"x":336614400000,"y":7385.26564362439,"value":[336614400000,7385.26564362439]},{"x":339206400000,"y":7689.13328388432,"value":[339206400000,7689.13328388432]},{"x":341884800000,"y":7180.56970967472,"value":[341884800000,7180.56970967472]},{"x":344476800000,"y":7351.53018669627,"value":[344476800000,7351.53018669627]},{"x":347155200000,"y":6630.30441674618,"value":[347155200000,6630.30441674618]},{"x":349833600000,"y":5799.4109900377,"value":[349833600000,5799.4109900377]},{"x":352252800000,"y":6564.74860818352,"value":[352252800000,6564.74860818352]},{"x":354931200000,"y":6783.17789418326,"value":[354931200000,6783.17789418326]},{"x":357523200000,"y":7549.1176682334,"value":[357523200000,7549.1176682334]},{"x":360201600000,"y":7968.30599377192,"value":[360201600000,7968.30599377192]},{"x":362793600000,"y":8864.37523943456,"value":[362793600000,8864.37523943456]},{"x":365472000000,"y":8122.819639047,"value":[365472000000,8122.819639047]},{"x":368150400000,"y":7001.84437952758,"value":[368150400000,7001.84437952758]},{"x":370742400000,"y":7312.33056938465,"value":[370742400000,7312.33056938465]},{"x":373420800000,"y":6810.04984009243,"value":[373420800000,6810.04984009243]},{"x":376012800000,"y":6987.02508917628,"value":[376012800000,6987.02508917628]},{"x":378691200000,"y":6271.4891041889,"value":[378691200000,6271.4891041889]},{"x":381369600000,"y":5446.02425404946,"value":[381369600000,5446.02425404946]},{"x":383788800000,"y":6216.54883008316,"value":[383788800000,6216.54883008316]},{"x":386467200000,"y":6439.94102942414,"value":[386467200000,6439.94102942414]},{"x":389059200000,"y":7210.63549204939,"value":[389059200000,7210.63549204939]},{"x":391737600000,"y":7634.38456751762,"value":[391737600000,7634.38456751762]},{"x":394329600000,"y":8534.8335643678,"value":[394329600000,8534.8335643678]},{"x":397008000000,"y":7797.48847010281,"value":[397008000000,7797.48847010281]},{"x":399686400000,"y":6680.56517629025,"value":[399686400000,6680.56517629025]},{"x":402278400000,"y":6994.95456522799,"value":[402278400000,6994.95456522799]},{"x":404956800000,"y":6496.43721351888,"value":[404956800000,6496.43721351888]},{"x":407548800000,"y":6677.0686167493,"value":[407548800000,6677.0686167493]}],"name":"Lower","type":"line","itemStyle":{"color":"#000"},"lineStyle":{"color":"#000","width":1,"type":"dotted","opacity":0.8},"symbolSize":1}]},"theme":"default","dispose":true,"renderer":"canvas"},"evals":["opt.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="echarter.option" class="section level2">
<h2><span class="header-section-number">4.14</span> 全局设置echarter.option</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ec_option &lt;-<span class="st"> </span><span class="kw">getOption</span>(<span class="st">&quot;echarter.option&quot;</span>)
ec_option<span class="op">$</span>legend &lt;-<span class="st"> </span><span class="kw">list</span>()
<span class="kw">options</span>(<span class="dt">echarter.option =</span> ec_option)</code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="examples.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="echarter.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
